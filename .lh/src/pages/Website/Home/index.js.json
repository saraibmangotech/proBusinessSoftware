{
    "sourceFile": "src/pages/Website/Home/index.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1744511224108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1744511224108,
            "name": "Commit-0",
            "content": "import { Visibility, VisibilityOff } from '@mui/icons-material';\r\nimport { Box, Checkbox, Grid, IconButton, InputAdornment, SvgIcon, Typography } from '@mui/material';\r\nimport { Images, SvgIcon as SvgIconss } from 'assets';\r\nimport Colors from 'assets/Style/Colors';\r\nimport { PrimaryButton } from 'components/Buttons';\r\nimport InputField from 'components/Input';\r\nimport { showErrorToast, showPromiseToast } from 'components/NewToaster';\r\nimport { ErrorToaster } from 'components/Toaster';\r\nimport { useAuth } from 'context/UseContext';\r\nimport Cookies from 'js-cookie';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport AuthServices from 'services/Auth';\r\nimport SystemServices from 'services/System';\r\nimport { emailRegex, encryptData } from 'utils';\r\nimport Storage from 'utils/Storage';\r\n\r\n\r\nfunction EmailIcon(props) {\r\n\treturn (\r\n\t\t<SvgIcon {...props}>\r\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"19\" viewBox=\"0 0 23 19\" fill=\"none\">\r\n\t\t\t\t<path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M2.06855 1.80291L8.82246 8.55974C10.2955 10.03 12.7034 10.0312 14.1777 8.55974L20.9316 1.80291C20.9996 1.73489 20.9897 1.62288 20.9108 1.56785C20.2219 1.08743 19.3838 0.802612 18.481 0.802612H4.51924C3.61636 0.802612 2.77822 1.08748 2.08936 1.56785C2.01045 1.62288 2.00054 1.73489 2.06855 1.80291ZM0.263672 5.05813C0.263672 4.34817 0.439697 3.67737 0.749756 3.08777C0.798242 2.99553 0.921143 2.97688 0.994824 3.05056L7.66323 9.71897C9.7749 11.8337 13.224 11.8349 15.337 9.71897L22.0054 3.05056C22.0791 2.97688 22.202 2.99553 22.2504 3.08777C22.5604 3.67737 22.7365 4.34822 22.7365 5.05813V13.9418C22.7365 16.2901 20.8263 18.1973 18.481 18.1973H4.51924C2.17393 18.1973 0.263672 16.2901 0.263672 13.9418V5.05813Z\" fill=\"#B6B6B6\" />\r\n\t\t\t</svg>\r\n\t\t</SvgIcon>\r\n\t);\r\n}\r\nfunction PasswordIcon(props) {\r\n\treturn (\r\n\t\t<SvgIcon className='saraib' {...props}>\r\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"none\">\r\n\t\t\t\t<path d=\"M16.1163 8.29886C16.9177 8.63783 17.6589 9.08308 18.3311 9.62599V5.78823C18.3311 2.59681 15.7343 0 12.5429 0H12.4538C9.26526 0 6.66846 2.59681 6.66846 5.78823V9.62599C7.34064 9.0831 8.08176 8.63786 8.88321 8.29886C9.09865 8.20694 9.31984 8.12364 9.54103 8.04895V5.78823C9.54103 4.17959 10.8481 2.87257 12.4567 2.87257H12.5457C14.1544 2.87257 15.4614 4.17959 15.4614 5.78823V8.05182C15.6797 8.12364 15.9009 8.20694 16.1163 8.29886Z\" fill=\"#B6B6B6\" />\r\n\t\t\t\t<path d=\"M4.35889 16.8591C4.35889 21.3547 8.00418 24.9999 12.4998 24.9999C16.9953 24.9999 20.6407 21.3575 20.6407 16.8591C20.6407 14.6501 19.7587 12.645 18.3311 11.1771C17.5268 10.3527 16.5501 9.69772 15.4585 9.26974C14.5422 8.91067 13.5425 8.71533 12.4998 8.71533C11.457 8.71533 10.4574 8.91067 9.54104 9.26974C8.44946 9.69488 7.47278 10.3498 6.66846 11.1771C5.23789 12.645 4.35889 14.6501 4.35889 16.8591ZM10.4028 15.216C10.4315 14.1043 11.3363 13.1994 12.448 13.1735C13.6286 13.1448 14.5967 14.0957 14.5967 15.2705C14.5967 15.3941 14.5852 15.5147 14.5651 15.6296C14.4616 16.2242 14.1084 16.7355 13.6142 17.0458C13.4103 17.1751 13.3069 17.4163 13.3586 17.649L13.982 20.6049C14.0194 20.783 13.8843 20.9525 13.7005 20.9525H11.299C11.1152 20.9525 10.9801 20.7859 11.0175 20.6049L11.6408 17.649C11.6897 17.4135 11.5891 17.1722 11.3852 17.0429C10.8911 16.7327 10.5378 16.2242 10.4343 15.6267C10.4114 15.4946 10.3999 15.3567 10.4028 15.216Z\" fill=\"#B6B6B6\" />\r\n\t\t\t</svg>\r\n\t\t</SvgIcon>\r\n\t);\r\n}\r\nfunction Home() {\r\n\tconst navigate = useNavigate()\r\n\tconsole.log(SvgIcon.email);\r\n\tconst { userLogin } = useAuth();\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tgetValues,\r\n\t\tsetValue,\r\n\t\tformState: { errors },\r\n\t} = useForm();\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst [showPassword, setShowPassword] = useState(false);\r\n\tconst [inputError, setInputError] = useState(false);\r\n\tconst { setStorageItem } = Storage();\r\n\t// *For Login\r\n\tconst login = async (formData) => {\r\n\t\tsetLoading(true);\r\n\r\n\r\n\r\n\r\n\t\ttry {\r\n\t\t\tlet obj = {\r\n\t\t\t\temail: formData.email,\r\n\t\t\t\tpassword: encryptData(formData.password),\r\n\r\n\t\t\t}\r\n\t\t\tconst promise = AuthServices.login(obj);\r\n\r\n\t\t\tshowPromiseToast(\r\n\t\t\t\tpromise,\r\n\t\t\t\t'Logging in, please wait...',\r\n\t\t\t\t'Success',\r\n\t\t\t\t'Failed to Loged in'\r\n\t\t\t);\r\n\r\n\t\t\tconst result = await promise\r\n\r\n\t\t\tconsole.log(result);\r\n\t\t\tif (result.responseCode == 200) {\r\n\t\t\t\tnavigate('/dashboard')\r\n\t\t\t\tuserLogin(result?.data)\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t} catch (error) {\r\n\t\t\tsetInputError(true)\r\n\t\t} finally {\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t}\r\n\r\n\t// *For Get Session ID\r\n\tconst generateSessionId = async () => {\r\n\t\tconst promise = SystemServices.generateSessionID();\r\n\r\n\t\t// showPromiseToast(\r\n\t\t//   promise,\r\n\t\t//   'Generating session ID...',\r\n\t\t//   'Session ID generated successfully!',\r\n\t\t//   'Failed to generate session ID'\r\n\t\t// );\r\n\r\n\t\ttry {\r\n\t\t\tconst { data } = await promise;\r\n\t\t\tsetStorageItem('sessionId', data.sessionid);\r\n\r\n\t\t\tconst savedSecSession = Cookies.get('secsession');\r\n\t\t\tCookies.set('testCookie', savedSecSession);\r\n\t\t} catch (error) {\r\n\t\t\tshowErrorToast(error);\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tgenerateSessionId()\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Grid container justifyContent={'center'} alignItems={'center'} sx={{ backgroundColor: '#f2f6f8', height: '100vh' }} >\r\n\t\t\t\t<Grid item lg={3.5} md={5} sm={10} xs={10} sx={{ border: '1px solid #B6B6B6', textAlign: 'center', p: '20px', borderRadius: '15px', backgroundColor: 'white' }}>\r\n\t\t\t\t\t{/* <Box component={'img'} src={Images?.logoDark} width={'130px'} >\r\n\r\n\t\t\t\t\t</Box> */}\r\n\t\t\t\t\t<Typography sx={{ fontWeight: 'bold', fontSize: '20px', textAlign: 'left', mt: 3 }}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Box component=\"form\" onSubmit={handleSubmit(login)} sx={{ mt: 1 }}>\r\n\t\t\t\t\t\t<Grid container spacing={1} alignItems={\"center\"} justifyContent={'center'}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={12}>\r\n\t\t\t\t\t\t\t\t<InputField\r\n\r\n\r\n\t\t\t\t\t\t\t\t\ttype={'email'}\r\n\t\t\t\t\t\t\t\t\tplaceholder={'Email Address'}\r\n\r\n\t\t\t\t\t\t\t\t\terror={errors?.email?.message || inputError}\r\n\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\tstartAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box className=\"input-icon\"><EmailIcon /></Box> &nbsp;&nbsp;&nbsp;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tinputStyle={{\r\n\t\t\t\t\t\t\t\t\t\t'.MuiOutlinedInput-root': {\r\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '10px',  // Ensure the border radius is applied to the input wrapper\r\n\t\t\t\t\t\t\t\t\t\t\t\"&.Mui-focused\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\t'& fieldset': { border: `2px solid #03091A !important` },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"svg\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"path\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: \"#0076bf\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tregister={register(\"email\", {\r\n\t\t\t\t\t\t\t\t\t\trequired: 'Please enter your email.',\r\n\t\t\t\t\t\t\t\t\t\tpattern: {\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: emailRegex,\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: 'Please enter a valid email.',\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})}\r\n\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={12}>\r\n\t\t\t\t\t\t\t\t<InputField\r\n\r\n\r\n\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\r\n\t\t\t\t\t\t\t\t\tplaceholder={'Enter Your Password'}\r\n\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\tstartAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Box className=\"input-icon\"><PasswordIcon /></Box> &nbsp;&nbsp;&nbsp;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton edge=\"end\" onClick={() => setShowPassword(!showPassword)}                            >\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <Visibility color=\"primary\" /> : <VisibilityOff color=\"primary\" />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tinputStyle={{\r\n\t\t\t\t\t\t\t\t\t\t'.MuiOutlinedInput-root': {\r\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: '10px',  // Ensure the border radius is applied to the input wrapper\r\n\t\t\t\t\t\t\t\t\t\t\t\"&.Mui-focused\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\t'& fieldset': { border: `2px solid #03091A !important` },\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"svg\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"path\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill: \"#0076bf\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\terror={errors?.password?.message ? errors?.password?.message : inputError && 'You have entered an invalid email or password.'}\r\n\t\t\t\t\t\t\t\t\tregister={register(\"password\", {\r\n\t\t\t\t\t\t\t\t\t\trequired: 'Please enter the password.',\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={6} sm={6} sx={{ textAlign: 'left' }}>\r\n\t\t\t\t\t\t\t\t<Checkbox />\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tcomponent={\"span\"}\r\n\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\tsx={{ color: Colors.black }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tRemember me\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={6} sm={6} sx={{ textAlign: 'right' }}>\r\n\t\t\t\t\t\t\t\t<Typography component={Link} to=\"/forget-password\" variant=\"body2\" sx={{ color: Colors.black }}>\r\n\t\t\t\t\t\t\t\t\tForget Password?\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={12} display={'flex'} justifyContent={'center'} sx={{ mt: \"40px\", textAlign: 'center', mb: \"5px\", }}>\r\n\t\t\t\t\t\t\t\t<PrimaryButton\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttitle=\"Login\"\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tbgcolor={'#03091A'}\r\n\t\t\t\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\r\n\r\n\t\t</Fragment >\r\n\t);\r\n}\r\n\r\nexport default Home;"
        }
    ]
}