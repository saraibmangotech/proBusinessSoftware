{
    "sourceFile": "src/pages/Dashboard/RoleManagement/UpdateRole.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1744546821626,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1744546821626,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport { Box, Grid, Typography } from \"@mui/material\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { PrimaryButton } from \"components/Buttons\";\r\nimport Colors from \"assets/Style/Colors\";\r\nimport { FontFamily } from \"assets\";\r\nimport { ErrorToaster, SuccessToaster } from \"components/Toaster\";\r\nimport InputField from \"components/Input\";\r\nimport RoleServices from \"services/Role\";\r\nimport { showErrorToast, showPromiseToast } from \"components/NewToaster\";\r\nimport SystemServices from \"services/System\";\r\n\r\nfunction UpdateRole() {\r\n\r\n  const navigate = useNavigate();\r\n  const { state } = useLocation()\r\n  console.log(state);\r\n  const { register, handleSubmit,setValue, formState: { errors }, control } = useForm();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // *For Create Role\r\n  const UpdateRole = async (formData) => {\r\n    setLoading(true)\r\n    console.log(formData);\r\n    try {\r\n      let obj = {\r\n        name: formData?.roleName,\r\n        role_id:state?.id\r\n      }\r\n\r\n\r\n      console.log(obj);\r\n      const promise = SystemServices.UpdateRole(obj);\r\n\r\n      showPromiseToast(\r\n        promise,\r\n        'Saving ...',\r\n        'Success',\r\n        'Something Went Wrong'\r\n      );\r\n      const response = await promise;\r\n      if (response?.responseCode === 200) {\r\n        navigate('/role-list')\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      showErrorToast(error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    setValue('roleName',state?.name)\r\n   \r\n  }, [])\r\n  \r\n\r\n  return (\r\n    <Box sx={{ p: 2, borderRadius: 3, }}>\r\n\r\n      <Box component=\"form\" onSubmit={handleSubmit(UpdateRole)} >\r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', gap: '10px', alignItems: 'flex-end' }}>\r\n          <Typography sx={{ fontSize: \"22px\", fontWeight: 'bold' }} >CREATE ROLE</Typography>\r\n          <Box sx={{ display: 'flex', gap: '10px' }}>\r\n            <PrimaryButton\r\n             bgcolor={'#bd9b4a'}\r\n              title=\"Update\"\r\n              type={'submit'}\r\n\r\n\r\n            />\r\n\r\n          </Box>\r\n        </Box>\r\n        <Grid container spacing={0} p={3} >\r\n\r\n          <Grid container spacing={1} item xs={12} sm={6}>\r\n\r\n            <InputField\r\n              label={\"Role Name :*\"}\r\n              size={'small'}\r\n              placeholder={\"Role Name\"}\r\n              error={errors?.roleName?.message}\r\n              register={register(\"roleName\", {\r\n                required:\r\n                  \"Please enter your role name.\"\r\n\r\n              })}\r\n            />\r\n\r\n\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default UpdateRole;"
        }
    ]
}