{
    "sourceFile": "src/pages/Dashboard/UserManagement/CreateUser.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 62,
            "patches": [
                {
                    "date": 1744546821334,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744753068923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,8 @@\n     console.log(formData);\r\n     try {\r\n       let obj = {\r\n         name: getValues('name'),\r\n-\r\n         email: getValues('email'),\r\n         phone: getValues('phone'),\r\n         password: getValues('password'),\r\n         role_id: selectedRole?.id\r\n"
                },
                {
                    "date": 1744753106675,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,8 +43,9 @@\n   const [buttondisabled, setButtondisabled] = useState(false)\r\n   // Watch both password and confirm password fields for changes\r\n   const password = watch('password', '');\r\n   const confirmPassword = watch('confirmpassword', '');\r\n+console.log(watch);\r\n \r\n   const getRoles = async (search) => {\r\n     try {\r\n       let params = {\r\n"
                },
                {
                    "date": 1744753980094,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n   const [buttondisabled, setButtondisabled] = useState(false)\r\n   // Watch both password and confirm password fields for changes\r\n   const password = watch('password', '');\r\n   const confirmPassword = watch('confirmpassword', '');\r\n-console.log(watch);\r\n+console.log(watch());\r\n \r\n   const getRoles = async (search) => {\r\n     try {\r\n       let params = {\r\n@@ -188,10 +188,26 @@\n                 required: 'Please select role'\r\n               })}\r\n             />\r\n           </Grid>\r\n-\r\n           <Grid item xs={12} sm={5}>\r\n+            <SelectField\r\n+              size={'small'}\r\n+              label={'Select Role :*'}\r\n+              options={[ { category_id: 1, prefix: \"CAT001\" },\r\n+                { category_id: 2, prefix: \"CAT002\" },\r\n+                { category_id: 3, prefix: \"CAT003\" },\r\n+                { category_id: 4, prefix: \"CAT004\" },\r\n+                { category_id: 5, prefix: \"CAT005\" }]}\r\n+              selected={selectedRole}\r\n+              onSelect={(value) => setSelectedRole(value)}\r\n+              error={errors?.role?.message}\r\n+              register={register(\"role\", {\r\n+                required: 'Please select role'\r\n+              })}\r\n+            />\r\n+          </Grid>\r\n+          <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n               label=\"Password :*\"\r\n               type={showPassword ? 'text' : 'password'}\r\n"
                },
                {
                    "date": 1744754002293,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n // }\r\n \r\n function CreateUser() {\r\n   const [handleBlockedNavigation] =\r\n-  useCallbackPrompt(false)\r\n+    useCallbackPrompt(false)\r\n   const navigate = useNavigate();\r\n \r\n   const { register, handleSubmit, formState: { errors }, control, getValues, watch } = useForm();\r\n   const [loading, setLoading] = useState(false);\r\n@@ -43,9 +43,9 @@\n   const [buttondisabled, setButtondisabled] = useState(false)\r\n   // Watch both password and confirm password fields for changes\r\n   const password = watch('password', '');\r\n   const confirmPassword = watch('confirmpassword', '');\r\n-console.log(watch());\r\n+  console.log(watch());\r\n \r\n   const getRoles = async (search) => {\r\n     try {\r\n       let params = {\r\n@@ -109,9 +109,9 @@\n         <Box sx={{ display: 'flex', justifyContent: 'space-between', gap: '10px', alignItems: 'flex-end' }}>\r\n           <Typography sx={{ fontSize: \"22px\", fontWeight: 'bold' }} >CREATE USER</Typography>\r\n           <Box sx={{ display: 'flex', gap: '10px' }}>\r\n             <PrimaryButton\r\n-             bgcolor={'#bd9b4a'}\r\n+              bgcolor={'#bd9b4a'}\r\n               title=\"Save\"\r\n               type={'submit'}\r\n               disabled={buttondisabled}\r\n \r\n@@ -191,14 +191,14 @@\n           </Grid>\r\n           <Grid item xs={12} sm={5}>\r\n             <SelectField\r\n               size={'small'}\r\n-              label={'Select Role :*'}\r\n-              options={[ { category_id: 1, prefix: \"CAT001\" },\r\n-                { category_id: 2, prefix: \"CAT002\" },\r\n-                { category_id: 3, prefix: \"CAT003\" },\r\n-                { category_id: 4, prefix: \"CAT004\" },\r\n-                { category_id: 5, prefix: \"CAT005\" }]}\r\n+              label={'Select Category :*'}\r\n+              options={[{ category_id: 1, prefix: \"CAT001\" },\r\n+              { category_id: 2, prefix: \"CAT002\" },\r\n+              { category_id: 3, prefix: \"CAT003\" },\r\n+              { category_id: 4, prefix: \"CAT004\" },\r\n+              { category_id: 5, prefix: \"CAT005\" }]}\r\n               selected={selectedRole}\r\n               onSelect={(value) => setSelectedRole(value)}\r\n               error={errors?.role?.message}\r\n               register={register(\"role\", {\r\n"
                },
                {
                    "date": 1744754008902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -197,9 +197,9 @@\n               { category_id: 2, prefix: \"CAT002\" },\r\n               { category_id: 3, prefix: \"CAT003\" },\r\n               { category_id: 4, prefix: \"CAT004\" },\r\n               { category_id: 5, prefix: \"CAT005\" }]}\r\n-              selected={selectedRole}\r\n+              selected={selectedCategory}\r\n               onSelect={(value) => setSelectedRole(value)}\r\n               error={errors?.role?.message}\r\n               register={register(\"role\", {\r\n                 required: 'Please select role'\r\n"
                },
                {
                    "date": 1744754021885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -198,9 +198,9 @@\n               { category_id: 3, prefix: \"CAT003\" },\r\n               { category_id: 4, prefix: \"CAT004\" },\r\n               { category_id: 5, prefix: \"CAT005\" }]}\r\n               selected={selectedCategory}\r\n-              onSelect={(value) => setSelectedRole(value)}\r\n+              onSelect={(value) => setSelectedCategory(value)}\r\n               error={errors?.role?.message}\r\n               register={register(\"role\", {\r\n                 required: 'Please select role'\r\n               })}\r\n"
                },
                {
                    "date": 1744754040829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,8 +40,9 @@\n   const [inputError, setInputError] = useState(false);\r\n   const [roles, setRoles] = useState([])\r\n   const [selectedRole, setSelectedRole] = useState(null)\r\n   const [buttondisabled, setButtondisabled] = useState(false)\r\n+  const [selectedCategory, setSelectedCategory] = useState(null)\r\n   // Watch both password and confirm password fields for changes\r\n   const password = watch('password', '');\r\n   const confirmPassword = watch('confirmpassword', '');\r\n   console.log(watch());\r\n"
                },
                {
                    "date": 1744754055743,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,11 +200,11 @@\n               { category_id: 4, prefix: \"CAT004\" },\r\n               { category_id: 5, prefix: \"CAT005\" }]}\r\n               selected={selectedCategory}\r\n               onSelect={(value) => setSelectedCategory(value)}\r\n-              error={errors?.role?.message}\r\n-              register={register(\"role\", {\r\n-                required: 'Please select role'\r\n+              error={errors?.cat?.message}\r\n+              register={register(\"cat\", {\r\n+                required: 'Please select cat'\r\n               })}\r\n             />\r\n           </Grid>\r\n           <Grid item xs={12} sm={5}>\r\n"
                },
                {
                    "date": 1744754158268,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,8 +98,37 @@\n     } finally {\r\n       setLoading(false)\r\n     }\r\n   }\r\n+  // *For Get Customer Queue\r\n+    const getCustomerQueue = async (page, limit, filter) => {\r\n+      setLoader(true)\r\n+  \r\n+      try {\r\n+        const Page = page ? page : currentPage\r\n+        const Limit = limit ? limit : pageLimit\r\n+        const Filter = filter ? { ...filters, ...filter } : null;\r\n+        setCurrentPage(Page)\r\n+        setPageLimit(Limit)\r\n+        setFilters(Filter)\r\n+        let params = {\r\n+          page: 1,\r\n+          limit: 1000,\r\n+        \r\n+  \r\n+        }\r\n+        params = { ...params, ...Filter }\r\n+        const { data } = await CustomerServices.getCategoryList(params)\r\n+        setData(data?.categories);\r\n+       \r\n+       \r\n+      \r\n+      } catch (error) {\r\n+        showErrorToast(error)\r\n+      } finally {\r\n+        setLoader(false)\r\n+      }\r\n+    }\r\n   useEffect(() => {\r\n     getRoles()\r\n   }, [])\r\n \r\n"
                },
                {
                    "date": 1744754164345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,9 +117,9 @@\n   \r\n         }\r\n         params = { ...params, ...Filter }\r\n         const { data } = await CustomerServices.getCategoryList(params)\r\n-        setData(data?.categories);\r\n+        setCategories(data?.categories);\r\n        \r\n        \r\n       \r\n       } catch (error) {\r\n"
                },
                {
                    "date": 1744754171219,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,8 +14,9 @@\n import SelectField from \"components/Select\";\r\n import UserServices from \"services/User\";\r\n import SystemServices from \"services/System\";\r\n import { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\n+import CustomerServices from \"services/Customer\";\r\n \r\n \r\n // function PasswordIcon(props) {\r\n // \treturn (\r\n@@ -103,14 +104,9 @@\n     const getCustomerQueue = async (page, limit, filter) => {\r\n       setLoader(true)\r\n   \r\n       try {\r\n-        const Page = page ? page : currentPage\r\n-        const Limit = limit ? limit : pageLimit\r\n-        const Filter = filter ? { ...filters, ...filter } : null;\r\n-        setCurrentPage(Page)\r\n-        setPageLimit(Limit)\r\n-        setFilters(Filter)\r\n+      =\r\n         let params = {\r\n           page: 1,\r\n           limit: 1000,\r\n         \r\n"
                },
                {
                    "date": 1744754185312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,13 +100,13 @@\n       setLoading(false)\r\n     }\r\n   }\r\n   // *For Get Customer Queue\r\n-    const getCustomerQueue = async (page, limit, filter) => {\r\n-      setLoader(true)\r\n+    const getCategoryList = async (page, limit, filter) => {\r\n+     \r\n   \r\n       try {\r\n-      =\r\n+      \r\n         let params = {\r\n           page: 1,\r\n           limit: 1000,\r\n         \r\n"
                },
                {
                    "date": 1744754202432,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,8 +42,9 @@\n   const [roles, setRoles] = useState([])\r\n   const [selectedRole, setSelectedRole] = useState(null)\r\n   const [buttondisabled, setButtondisabled] = useState(false)\r\n   const [selectedCategory, setSelectedCategory] = useState(null)\r\n+  const [categories, setCategories] = useState([])\r\n   // Watch both password and confirm password fields for changes\r\n   const password = watch('password', '');\r\n   const confirmPassword = watch('confirmpassword', '');\r\n   console.log(watch());\r\n@@ -111,9 +112,9 @@\n           limit: 1000,\r\n         \r\n   \r\n         }\r\n-        params = { ...params, ...Filter }\r\n+    \r\n         const { data } = await CustomerServices.getCategoryList(params)\r\n         setCategories(data?.categories);\r\n        \r\n        \r\n"
                },
                {
                    "date": 1744754212187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -120,11 +120,9 @@\n        \r\n       \r\n       } catch (error) {\r\n         showErrorToast(error)\r\n-      } finally {\r\n-        setLoader(false)\r\n-      }\r\n+      } \r\n     }\r\n   useEffect(() => {\r\n     getRoles()\r\n   }, [])\r\n"
                },
                {
                    "date": 1744754219074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,8 +123,9 @@\n         showErrorToast(error)\r\n       } \r\n     }\r\n   useEffect(() => {\r\n+    getCategoryList()\r\n     getRoles()\r\n   }, [])\r\n \r\n   return (\r\n"
                },
                {
                    "date": 1744754231547,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -218,13 +218,9 @@\n           <Grid item xs={12} sm={5}>\r\n             <SelectField\r\n               size={'small'}\r\n               label={'Select Category :*'}\r\n-              options={[{ category_id: 1, prefix: \"CAT001\" },\r\n-              { category_id: 2, prefix: \"CAT002\" },\r\n-              { category_id: 3, prefix: \"CAT003\" },\r\n-              { category_id: 4, prefix: \"CAT004\" },\r\n-              { category_id: 5, prefix: \"CAT005\" }]}\r\n+              options={categories}\r\n               selected={selectedCategory}\r\n               onSelect={(value) => setSelectedCategory(value)}\r\n               error={errors?.cat?.message}\r\n               register={register(\"cat\", {\r\n"
                },
                {
                    "date": 1744754260678,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,9 @@\n                 required: 'Please select role'\r\n               })}\r\n             />\r\n           </Grid>\r\n-          <Grid item xs={12} sm={5}>\r\n+          {selectedRole?.name  == 'Typist' && <Grid item xs={12} sm={5}>\r\n             <SelectField\r\n               size={'small'}\r\n               label={'Select Category :*'}\r\n               options={categories}\r\n@@ -226,9 +226,9 @@\n               register={register(\"cat\", {\r\n                 required: 'Please select cat'\r\n               })}\r\n             />\r\n-          </Grid>\r\n+          </Grid>}\r\n           <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n               label=\"Password :*\"\r\n"
                },
                {
                    "date": 1744754532563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -215,19 +215,25 @@\n               })}\r\n             />\r\n           </Grid>\r\n           {selectedRole?.name  == 'Typist' && <Grid item xs={12} sm={5}>\r\n-            <SelectField\r\n-              size={'small'}\r\n-              label={'Select Category :*'}\r\n-              options={categories}\r\n-              selected={selectedCategory}\r\n-              onSelect={(value) => setSelectedCategory(value)}\r\n-              error={errors?.cat?.message}\r\n-              register={register(\"cat\", {\r\n-                required: 'Please select cat'\r\n-              })}\r\n-            />\r\n+          <FormControl fullWidth size={size} error={Boolean(error)}>\r\n+      <InputLabel>{label}</InputLabel>\r\n+      <Select\r\n+        label={label}\r\n+        multiple={multiple}\r\n+        value={selected || (multiple ? [] : '')}\r\n+        onChange={(e) => onSelect(e.target.value)}\r\n+        {...register}\r\n+      >\r\n+        {options.map((opt) => (\r\n+          <MenuItem key={opt.value} value={opt.value}>\r\n+            {opt.label}\r\n+          </MenuItem>\r\n+        ))}\r\n+      </Select>\r\n+      {error && <FormHelperText>{error}</FormHelperText>}\r\n+    </FormControl>\r\n           </Grid>}\r\n           <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n"
                },
                {
                    "date": 1744754633138,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { Box, Grid, IconButton, InputAdornment, Typography } from \"@mui/material\";\r\n+import { Box, FormControl, Grid, IconButton, InputAdornment, Typography } from \"@mui/material\";\r\n import { useForm } from \"react-hook-form\";\r\n import { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\n import { useNavigate } from \"react-router-dom\";\r\n import { PrimaryButton } from \"components/Buttons\";\r\n@@ -15,8 +15,9 @@\n import UserServices from \"services/User\";\r\n import SystemServices from \"services/System\";\r\n import { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\n import CustomerServices from \"services/Customer\";\r\n+import { InputLabel } from \"@mui/material\";\r\n \r\n \r\n // function PasswordIcon(props) {\r\n // \treturn (\r\n@@ -214,27 +215,39 @@\n                 required: 'Please select role'\r\n               })}\r\n             />\r\n           </Grid>\r\n-          {selectedRole?.name  == 'Typist' && <Grid item xs={12} sm={5}>\r\n-          <FormControl fullWidth size={size} error={Boolean(error)}>\r\n-      <InputLabel>{label}</InputLabel>\r\n+          {selectedRole?.name === 'Typist' && (\r\n+  <Grid item xs={12} sm={5}>\r\n+    <FormControl fullWidth size=\"small\" error={Boolean(errors?.cat)}>\r\n+      <InputLabel>Select Category :*</InputLabel>\r\n       <Select\r\n-        label={label}\r\n-        multiple={multiple}\r\n-        value={selected || (multiple ? [] : '')}\r\n-        onChange={(e) => onSelect(e.target.value)}\r\n-        {...register}\r\n+        label=\"Select Category :*\"\r\n+        multiple\r\n+        value={selectedCategory}\r\n+        onChange={(e) => setSelectedCategory(e.target.value)}\r\n+        {...register(\"cat\", {\r\n+          required: \"Please select at least one category\"\r\n+        })}\r\n+        renderValue={(selected) =>\r\n+          categories\r\n+            .filter((option) => selected.includes(option.value))\r\n+            .map((option) => option.label)\r\n+            .join(\", \")\r\n+        }\r\n       >\r\n-        {options.map((opt) => (\r\n-          <MenuItem key={opt.value} value={opt.value}>\r\n-            {opt.label}\r\n+        {categories.map((option) => (\r\n+          <MenuItem key={option.value} value={option.value}>\r\n+            <Checkbox checked={selectedCategory.indexOf(option.value) > -1} />\r\n+            <ListItemText primary={option.label} />\r\n           </MenuItem>\r\n         ))}\r\n       </Select>\r\n-      {error && <FormHelperText>{error}</FormHelperText>}\r\n+      {errors?.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n     </FormControl>\r\n-          </Grid>}\r\n+  </Grid>\r\n+)}\r\n+\r\n           <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n               label=\"Password :*\"\r\n"
                },
                {
                    "date": 1744754641918,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -102,29 +102,29 @@\n       setLoading(false)\r\n     }\r\n   }\r\n   // *For Get Customer Queue\r\n-    const getCategoryList = async (page, limit, filter) => {\r\n-     \r\n-  \r\n-      try {\r\n-      \r\n-        let params = {\r\n-          page: 1,\r\n-          limit: 1000,\r\n-        \r\n-  \r\n-        }\r\n-    \r\n-        const { data } = await CustomerServices.getCategoryList(params)\r\n-        setCategories(data?.categories);\r\n-       \r\n-       \r\n-      \r\n-      } catch (error) {\r\n-        showErrorToast(error)\r\n-      } \r\n+  const getCategoryList = async (page, limit, filter) => {\r\n+\r\n+\r\n+    try {\r\n+\r\n+      let params = {\r\n+        page: 1,\r\n+        limit: 1000,\r\n+\r\n+\r\n+      }\r\n+\r\n+      const { data } = await CustomerServices.getCategoryList(params)\r\n+      setCategories(data?.categories);\r\n+\r\n+\r\n+\r\n+    } catch (error) {\r\n+      showErrorToast(error)\r\n     }\r\n+  }\r\n   useEffect(() => {\r\n     getCategoryList()\r\n     getRoles()\r\n   }, [])\r\n@@ -216,37 +216,37 @@\n               })}\r\n             />\r\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n-  <Grid item xs={12} sm={5}>\r\n-    <FormControl fullWidth size=\"small\" error={Boolean(errors?.cat)}>\r\n-      <InputLabel>Select Category :*</InputLabel>\r\n-      <Select\r\n-        label=\"Select Category :*\"\r\n-        multiple\r\n-        value={selectedCategory}\r\n-        onChange={(e) => setSelectedCategory(e.target.value)}\r\n-        {...register(\"cat\", {\r\n-          required: \"Please select at least one category\"\r\n-        })}\r\n-        renderValue={(selected) =>\r\n-          categories\r\n-            .filter((option) => selected.includes(option.value))\r\n-            .map((option) => option.label)\r\n-            .join(\", \")\r\n-        }\r\n-      >\r\n-        {categories.map((option) => (\r\n-          <MenuItem key={option.value} value={option.value}>\r\n-            <Checkbox checked={selectedCategory.indexOf(option.value) > -1} />\r\n-            <ListItemText primary={option.label} />\r\n-          </MenuItem>\r\n-        ))}\r\n-      </Select>\r\n-      {errors?.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n-    </FormControl>\r\n-  </Grid>\r\n-)}\r\n+            <Grid item xs={12} sm={5}>\r\n+              <FormControl fullWidth size=\"small\" error={Boolean(errors?.cat)}>\r\n+                <InputLabel>Select Category :*</InputLabel>\r\n+                <Select\r\n+                  label=\"Select Category :*\"\r\n+                  multiple\r\n+                  value={selectedCategory}\r\n+                  onChange={(e) => setSelectedCategory(e.target.value)}\r\n+                  {...register(\"cat\", {\r\n+                    required: \"Please select at least one category\"\r\n+                  })}\r\n+                  renderValue={(selected) =>\r\n+                    categories\r\n+                      .filter((option) => selected.includes(option.value))\r\n+                      .map((option) => option.label)\r\n+                      .join(\", \")\r\n+                  }\r\n+                >\r\n+                  {categories.map((option) => (\r\n+                    <MenuItem key={option.value} value={option.value}>\r\n+                      <Checkbox checked={selectedCategory.indexOf(option.value) > -1} />\r\n+                      <ListItemText primary={option.label} />\r\n+                    </MenuItem>\r\n+                  ))}\r\n+                </Select>\r\n+                {errors?.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n+              </FormControl>\r\n+            </Grid>\r\n+          )}\r\n \r\n           <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n"
                },
                {
                    "date": 1744754656734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { Box, FormControl, Grid, IconButton, InputAdornment, Typography } from \"@mui/material\";\r\n+import { Box, FormControl, Grid, IconButton, InputAdornment, ListItemText, MenuItem, Select, Typography } from \"@mui/material\";\r\n import { useForm } from \"react-hook-form\";\r\n import { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\n import { useNavigate } from \"react-router-dom\";\r\n import { PrimaryButton } from \"components/Buttons\";\r\n@@ -16,8 +16,9 @@\n import SystemServices from \"services/System\";\r\n import { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\n import CustomerServices from \"services/Customer\";\r\n import { InputLabel } from \"@mui/material\";\r\n+import { Checkbox } from \"@mui/material\";\r\n \r\n \r\n // function PasswordIcon(props) {\r\n // \treturn (\r\n"
                },
                {
                    "date": 1744754746767,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { Box, FormControl, Grid, IconButton, InputAdornment, ListItemText, MenuItem, Select, Typography } from \"@mui/material\";\r\n+import { Box, FormControl, FormHelperText, Grid, IconButton, InputAdornment, ListItemText, MenuItem, Select, Typography } from \"@mui/material\";\r\n import { useForm } from \"react-hook-form\";\r\n import { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\n import { useNavigate } from \"react-router-dom\";\r\n import { PrimaryButton } from \"components/Buttons\";\r\n"
                },
                {
                    "date": 1744754976585,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -217,38 +217,41 @@\n               })}\r\n             />\r\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n-            <Grid item xs={12} sm={5}>\r\n-              <FormControl fullWidth size=\"small\" error={Boolean(errors?.cat)}>\r\n-                <InputLabel>Select Category :*</InputLabel>\r\n-                <Select\r\n-                  label=\"Select Category :*\"\r\n-                  multiple\r\n-                  value={selectedCategory}\r\n-                  onChange={(e) => setSelectedCategory(e.target.value)}\r\n-                  {...register(\"cat\", {\r\n-                    required: \"Please select at least one category\"\r\n-                  })}\r\n-                  renderValue={(selected) =>\r\n-                    categories\r\n-                      .filter((option) => selected.includes(option.value))\r\n-                      .map((option) => option.label)\r\n-                      .join(\", \")\r\n-                  }\r\n-                >\r\n-                  {categories.map((option) => (\r\n-                    <MenuItem key={option.value} value={option.value}>\r\n-                      <Checkbox checked={selectedCategory.indexOf(option.value) > -1} />\r\n-                      <ListItemText primary={option.label} />\r\n-                    </MenuItem>\r\n-                  ))}\r\n-                </Select>\r\n-                {errors?.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n-              </FormControl>\r\n-            </Grid>\r\n-          )}\r\n+  <Grid item xs={12} sm={5}>\r\n+    <FormControl fullWidth size=\"small\" error={Boolean(errors?.cat)}>\r\n+      <InputLabel>Select Category :*</InputLabel>\r\n+      <Select\r\n+        label=\"Select Category :*\"\r\n+        multiple\r\n+        value={selectedCategory}\r\n+        onChange={(e) => setSelectedCategory(e.target.value)}\r\n+        {...register(\"cat\", {\r\n+          required: \"Please select at least one category\"\r\n+        })}\r\n+        renderValue={(selected) =>\r\n+          categories\r\n+            .filter((option) => selected.includes(option.value))\r\n+            .map((option) => option.label)\r\n+            .join(\", \")\r\n+        }\r\n+      >\r\n+        {categories.map((option) => (\r\n+          <MenuItem key={option.value} value={option.value}>\r\n+            <Checkbox\r\n+              checked={Array.isArray(selectedCategory) && selectedCategory.includes(option.value)}\r\n+            />\r\n+            <ListItemText primary={option.label} />\r\n+          </MenuItem>\r\n+        ))}\r\n+      </Select>\r\n+      {errors?.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n+    </FormControl>\r\n+  </Grid>\r\n+)}\r\n \r\n+\r\n           <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n               label=\"Password :*\"\r\n"
                },
                {
                    "date": 1744755160073,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -218,40 +218,38 @@\n             />\r\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n   <Grid item xs={12} sm={5}>\r\n-    <FormControl fullWidth size=\"small\" error={Boolean(errors?.cat)}>\r\n-      <InputLabel>Select Category :*</InputLabel>\r\n-      <Select\r\n-        label=\"Select Category :*\"\r\n-        multiple\r\n-        value={selectedCategory}\r\n-        onChange={(e) => setSelectedCategory(e.target.value)}\r\n-        {...register(\"cat\", {\r\n-          required: \"Please select at least one category\"\r\n-        })}\r\n-        renderValue={(selected) =>\r\n-          categories\r\n-            .filter((option) => selected.includes(option.value))\r\n-            .map((option) => option.label)\r\n-            .join(\", \")\r\n-        }\r\n-      >\r\n+    <FormControl component=\"fieldset\" error={Boolean(errors?.cat)}>\r\n+      <FormLabel component=\"legend\">Select Category :*</FormLabel>\r\n+      <FormGroup>\r\n         {categories.map((option) => (\r\n-          <MenuItem key={option.value} value={option.value}>\r\n-            <Checkbox\r\n-              checked={Array.isArray(selectedCategory) && selectedCategory.includes(option.value)}\r\n-            />\r\n-            <ListItemText primary={option.label} />\r\n-          </MenuItem>\r\n+          <FormControlLabel\r\n+            key={option.value}\r\n+            control={\r\n+              <Checkbox\r\n+                checked={selectedCategory.includes(option.value)}\r\n+                onChange={(e) => {\r\n+                  const value = option.value;\r\n+                  if (e.target.checked) {\r\n+                    setSelectedCategory([...selectedCategory, value]);\r\n+                  } else {\r\n+                    setSelectedCategory(selectedCategory.filter((v) => v !== value));\r\n+                  }\r\n+                }}\r\n+              />\r\n+            }\r\n+            label={option.label}\r\n+          />\r\n         ))}\r\n-      </Select>\r\n+      </FormGroup>\r\n       {errors?.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n     </FormControl>\r\n   </Grid>\r\n )}\r\n \r\n \r\n+\r\n           <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n               label=\"Password :*\"\r\n"
                },
                {
                    "date": 1744755167592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { Box, FormControl, FormHelperText, Grid, IconButton, InputAdornment, ListItemText, MenuItem, Select, Typography } from \"@mui/material\";\r\n+import { Box, FormControl, FormControlLabel, FormGroup, FormHelperText, FormLabel, Grid, IconButton, InputAdornment, ListItemText, MenuItem, Select, Typography } from \"@mui/material\";\r\n import { useForm } from \"react-hook-form\";\r\n import { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\n import { useNavigate } from \"react-router-dom\";\r\n import { PrimaryButton } from \"components/Buttons\";\r\n"
                },
                {
                    "date": 1744755196109,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,8 +129,19 @@\n     getCategoryList()\r\n     getRoles()\r\n   }, [])\r\n \r\n+  useEffect(() => {\r\n+    if (selectedRole?.name === 'Typist') {\r\n+      if (selectedCategory.length === 0) {\r\n+        setError('cat', { type: 'manual', message: 'Please select at least one category' });\r\n+      } else {\r\n+        clearErrors('cat');\r\n+      }\r\n+    }\r\n+  }, [selectedCategory, selectedRole, setError, clearErrors]);\r\n+  \r\n+\r\n   return (\r\n     <Box sx={{ p: 3, borderRadius: 3, }}>\r\n \r\n       <Box component=\"form\" onSubmit={handleSubmit(CreateUser)} >\r\n"
                },
                {
                    "date": 1744755291868,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,9 +35,10 @@\n   const [handleBlockedNavigation] =\r\n     useCallbackPrompt(false)\r\n   const navigate = useNavigate();\r\n \r\n-  const { register, handleSubmit, formState: { errors }, control, getValues, watch } = useForm();\r\n+  const { register, handleSubmit, formState: { errors }, control, getValues, watch,setError,\r\n+  clearErrors, } = useForm();\r\n   const [loading, setLoading] = useState(false);\r\n   const [showPassword, setShowPassword] = useState(false);\r\n   const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n   const [inputError, setInputError] = useState(false);\r\n"
                },
                {
                    "date": 1744755307678,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,9 +238,9 @@\n           <FormControlLabel\r\n             key={option.value}\r\n             control={\r\n               <Checkbox\r\n-                checked={selectedCategory.includes(option.value)}\r\n+                checked={selectedCategory?.includes(option.value)}\r\n                 onChange={(e) => {\r\n                   const value = option.value;\r\n                   if (e.target.checked) {\r\n                     setSelectedCategory([...selectedCategory, value]);\r\n"
                },
                {
                    "date": 1744755313457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,9 +244,9 @@\n                   const value = option.value;\r\n                   if (e.target.checked) {\r\n                     setSelectedCategory([...selectedCategory, value]);\r\n                   } else {\r\n-                    setSelectedCategory(selectedCategory.filter((v) => v !== value));\r\n+                    setSelectedCategory(selectedCategory?.filter((v) => v !== value));\r\n                   }\r\n                 }}\r\n               />\r\n             }\r\n"
                },
                {
                    "date": 1744755329419,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,9 +233,9 @@\n   <Grid item xs={12} sm={5}>\r\n     <FormControl component=\"fieldset\" error={Boolean(errors?.cat)}>\r\n       <FormLabel component=\"legend\">Select Category :*</FormLabel>\r\n       <FormGroup>\r\n-        {categories.map((option) => (\r\n+        {categories?.map((option) => (\r\n           <FormControlLabel\r\n             key={option.value}\r\n             control={\r\n               <Checkbox\r\n"
                },
                {
                    "date": 1744755363973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n   }, [])\r\n \r\n   useEffect(() => {\r\n     if (selectedRole?.name === 'Typist') {\r\n-      if (selectedCategory.length === 0) {\r\n+      if (selectedCategory?.length === 0) {\r\n         setError('cat', { type: 'manual', message: 'Please select at least one category' });\r\n       } else {\r\n         clearErrors('cat');\r\n       }\r\n"
                },
                {
                    "date": 1744755387810,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n   const [inputError, setInputError] = useState(false);\r\n   const [roles, setRoles] = useState([])\r\n   const [selectedRole, setSelectedRole] = useState(null)\r\n   const [buttondisabled, setButtondisabled] = useState(false)\r\n-  const [selectedCategory, setSelectedCategory] = useState(null)\r\n+  const [selectedCategory, setSelectedCategory] = useState([])\r\n   const [categories, setCategories] = useState([])\r\n   // Watch both password and confirm password fields for changes\r\n   const password = watch('password', '');\r\n   const confirmPassword = watch('confirmpassword', '');\r\n"
                },
                {
                    "date": 1744755629415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,38 +230,54 @@\n             />\r\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n   <Grid item xs={12} sm={5}>\r\n-    <FormControl component=\"fieldset\" error={Boolean(errors?.cat)}>\r\n+    <FormControl component=\"fieldset\" error={Boolean(errors.cat)}>\r\n       <FormLabel component=\"legend\">Select Category :*</FormLabel>\r\n       <FormGroup>\r\n         {categories?.map((option) => (\r\n           <FormControlLabel\r\n             key={option.value}\r\n             control={\r\n-              <Checkbox\r\n-                checked={selectedCategory?.includes(option.value)}\r\n-                onChange={(e) => {\r\n-                  const value = option.value;\r\n-                  if (e.target.checked) {\r\n-                    setSelectedCategory([...selectedCategory, value]);\r\n-                  } else {\r\n-                    setSelectedCategory(selectedCategory?.filter((v) => v !== value));\r\n-                  }\r\n+              <Controller\r\n+                name=\"cat\"\r\n+                control={control}\r\n+                rules={{\r\n+                  validate: value => value?.length > 0 || \"Please select at least one category.\"\r\n                 }}\r\n+                render={({ field }) => {\r\n+                  const { value = [], onChange } = field;\r\n+                  const checked = value.includes(option.value);\r\n+\r\n+                  const handleChange = (e) => {\r\n+                    const newValue = e.target.checked\r\n+                      ? [...value, option.value]\r\n+                      : value.filter((v) => v !== option.value);\r\n+                    onChange(newValue);\r\n+                    setSelectedCategory(newValue); // if you want to track it separately\r\n+                  };\r\n+\r\n+                  return (\r\n+                    <Checkbox\r\n+                      checked={checked}\r\n+                      onChange={handleChange}\r\n+                    />\r\n+                  );\r\n+                }}\r\n               />\r\n             }\r\n             label={option.label}\r\n           />\r\n         ))}\r\n       </FormGroup>\r\n-      {errors?.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n+      {errors.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n     </FormControl>\r\n   </Grid>\r\n )}\r\n \r\n \r\n \r\n+\r\n           <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n               label=\"Password :*\"\r\n"
                },
                {
                    "date": 1744755634873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n import React, { useEffect, useState } from \"react\";\r\n import { Box, FormControl, FormControlLabel, FormGroup, FormHelperText, FormLabel, Grid, IconButton, InputAdornment, ListItemText, MenuItem, Select, Typography } from \"@mui/material\";\r\n-import { useForm } from \"react-hook-form\";\r\n+import { Controller, useForm } from \"react-hook-form\";\r\n import { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\n import { useNavigate } from \"react-router-dom\";\r\n import { PrimaryButton } from \"components/Buttons\";\r\n import Colors from \"assets/Style/Colors\";\r\n"
                },
                {
                    "date": 1744755763933,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,10 +35,10 @@\n   const [handleBlockedNavigation] =\r\n     useCallbackPrompt(false)\r\n   const navigate = useNavigate();\r\n \r\n-  const { register, handleSubmit, formState: { errors }, control, getValues, watch,setError,\r\n-  clearErrors, } = useForm();\r\n+  const { register, handleSubmit, formState: { errors }, control, getValues, watch, setError,\r\n+    clearErrors, } = useForm();\r\n   const [loading, setLoading] = useState(false);\r\n   const [showPassword, setShowPassword] = useState(false);\r\n   const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n   const [inputError, setInputError] = useState(false);\r\n@@ -139,10 +139,10 @@\n         clearErrors('cat');\r\n       }\r\n     }\r\n   }, [selectedCategory, selectedRole, setError, clearErrors]);\r\n-  \r\n \r\n+\r\n   return (\r\n     <Box sx={{ p: 3, borderRadius: 3, }}>\r\n \r\n       <Box component=\"form\" onSubmit={handleSubmit(CreateUser)} >\r\n@@ -229,55 +229,66 @@\n               })}\r\n             />\r\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n-  <Grid item xs={12} sm={5}>\r\n-    <FormControl component=\"fieldset\" error={Boolean(errors.cat)}>\r\n-      <FormLabel component=\"legend\">Select Category :*</FormLabel>\r\n+            <Grid item xs={12} sm={5}>\r\n+              <FormControl component=\"fieldset\" error={Boolean(errors.cat)}>\r\n+                <FormLabel component=\"legend\">Select Category :*</FormLabel>\r\n+                <FormGroup>\r\n+                <Controller\r\n+  name=\"cat\"\r\n+  control={control}\r\n+  defaultValue={[]}\r\n+  rules={{\r\n+    validate: value => value.length > 0 || \"Please select at least one category.\"\r\n+  }}\r\n+  render={({ field }) => {\r\n+    const { value, onChange } = field;\r\n+\r\n+    const handleCheckboxChange = (checkedValue) => (event) => {\r\n+      const isChecked = event.target.checked;\r\n+      let updatedValues = isChecked\r\n+        ? [...value, checkedValue]\r\n+        : value.filter((val) => val !== checkedValue);\r\n+\r\n+      onChange(updatedValues);\r\n+      setSelectedCategory(updatedValues);\r\n+    };\r\n+\r\n+    return (\r\n       <FormGroup>\r\n         {categories?.map((option) => (\r\n           <FormControlLabel\r\n             key={option.value}\r\n             control={\r\n-              <Controller\r\n-                name=\"cat\"\r\n-                control={control}\r\n-                rules={{\r\n-                  validate: value => value?.length > 0 || \"Please select at least one category.\"\r\n-                }}\r\n-                render={({ field }) => {\r\n-                  const { value = [], onChange } = field;\r\n-                  const checked = value.includes(option.value);\r\n-\r\n-                  const handleChange = (e) => {\r\n-                    const newValue = e.target.checked\r\n-                      ? [...value, option.value]\r\n-                      : value.filter((v) => v !== option.value);\r\n-                    onChange(newValue);\r\n-                    setSelectedCategory(newValue); // if you want to track it separately\r\n-                  };\r\n-\r\n-                  return (\r\n-                    <Checkbox\r\n-                      checked={checked}\r\n-                      onChange={handleChange}\r\n-                    />\r\n-                  );\r\n-                }}\r\n+              <Checkbox\r\n+                checked={value.includes(option.value)}\r\n+                onChange={handleCheckboxChange(option.value)}\r\n               />\r\n             }\r\n             label={option.label}\r\n           />\r\n         ))}\r\n       </FormGroup>\r\n-      {errors.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n-    </FormControl>\r\n-  </Grid>\r\n+    );\r\n+  }}\r\n+/>\r\n+\r\n+{errors.cat && (\r\n+  <FormHelperText style={{ color: 'red' }}>\r\n+    {errors.cat.message}\r\n+  </FormHelperText>\r\n )}\r\n \r\n+                </FormGroup>\r\n+                {errors.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n+              </FormControl>\r\n+            </Grid>\r\n+          )}\r\n \r\n \r\n \r\n+\r\n           <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n               label=\"Password :*\"\r\n"
                },
                {
                    "date": 1744755824783,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,59 +230,30 @@\n             />\r\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n             <Grid item xs={12} sm={5}>\r\n-              <FormControl component=\"fieldset\" error={Boolean(errors.cat)}>\r\n-                <FormLabel component=\"legend\">Select Category :*</FormLabel>\r\n-                <FormGroup>\r\n-                <Controller\r\n-  name=\"cat\"\r\n-  control={control}\r\n-  defaultValue={[]}\r\n-  rules={{\r\n-    validate: value => value.length > 0 || \"Please select at least one category.\"\r\n-  }}\r\n-  render={({ field }) => {\r\n-    const { value, onChange } = field;\r\n-\r\n-    const handleCheckboxChange = (checkedValue) => (event) => {\r\n-      const isChecked = event.target.checked;\r\n-      let updatedValues = isChecked\r\n-        ? [...value, checkedValue]\r\n-        : value.filter((val) => val !== checkedValue);\r\n-\r\n-      onChange(updatedValues);\r\n-      setSelectedCategory(updatedValues);\r\n-    };\r\n-\r\n-    return (\r\n-      <FormGroup>\r\n-        {categories?.map((option) => (\r\n-          <FormControlLabel\r\n-            key={option.value}\r\n-            control={\r\n-              <Checkbox\r\n-                checked={value.includes(option.value)}\r\n-                onChange={handleCheckboxChange(option.value)}\r\n-              />\r\n-            }\r\n-            label={option.label}\r\n-          />\r\n-        ))}\r\n-      </FormGroup>\r\n-    );\r\n-  }}\r\n-/>\r\n-\r\n-{errors.cat && (\r\n-  <FormHelperText style={{ color: 'red' }}>\r\n-    {errors.cat.message}\r\n-  </FormHelperText>\r\n-)}\r\n-\r\n-                </FormGroup>\r\n-                {errors.cat && <FormHelperText>{errors.cat.message}</FormHelperText>}\r\n-              </FormControl>\r\n+           <FormControl sx={{ m: 1, width: 300 }}>\r\n+        <InputLabel id=\"demo-multiple-name-label\">Name</InputLabel>\r\n+        <Select\r\n+          labelId=\"demo-multiple-name-label\"\r\n+          id=\"demo-multiple-name\"\r\n+          multiple\r\n+          value={personName}\r\n+          onChange={handleChange}\r\n+          input={<OutlinedInput label=\"Name\" />}\r\n+          MenuProps={MenuProps}\r\n+        >\r\n+          {names.map((name) => (\r\n+            <MenuItem\r\n+              key={name}\r\n+              value={name}\r\n+              style={getStyles(name, personName, theme)}\r\n+            >\r\n+              {name}\r\n+            </MenuItem>\r\n+          ))}\r\n+        </Select>\r\n+      </FormControl>\r\n             </Grid>\r\n           )}\r\n \r\n \r\n"
                },
                {
                    "date": 1744755844357,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,9 +236,9 @@\n         <Select\r\n           labelId=\"demo-multiple-name-label\"\r\n           id=\"demo-multiple-name\"\r\n           multiple\r\n-          value={personName}\r\n+          value={selectedCategory}\r\n           onChange={handleChange}\r\n           input={<OutlinedInput label=\"Name\" />}\r\n           MenuProps={MenuProps}\r\n         >\r\n"
                },
                {
                    "date": 1744755856977,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,9 +236,9 @@\n         <Select\r\n           labelId=\"demo-multiple-name-label\"\r\n           id=\"demo-multiple-name\"\r\n           multiple\r\n-          value={selectedCategory}\r\n+          value={personName}\r\n           onChange={handleChange}\r\n           input={<OutlinedInput label=\"Name\" />}\r\n           MenuProps={MenuProps}\r\n         >\r\n"
                },
                {
                    "date": 1744755874097,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { Box, FormControl, FormControlLabel, FormGroup, FormHelperText, FormLabel, Grid, IconButton, InputAdornment, ListItemText, MenuItem, Select, Typography } from \"@mui/material\";\r\n+import { Box, FormControl, FormControlLabel, FormGroup, FormHelperText, FormLabel, Grid, IconButton, InputAdornment, ListItemText, MenuItem, OutlinedInput, Select, Typography } from \"@mui/material\";\r\n import { Controller, useForm } from \"react-hook-form\";\r\n import { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\n import { useNavigate } from \"react-router-dom\";\r\n import { PrimaryButton } from \"components/Buttons\";\r\n@@ -51,8 +51,21 @@\n   const password = watch('password', '');\r\n   const confirmPassword = watch('confirmpassword', '');\r\n   console.log(watch());\r\n \r\n+  const [personName, setPersonName] = React.useState([]);\r\n+\r\n+  const handleChange = (event) => {\r\n+    const {\r\n+      target: { value },\r\n+    } = event;\r\n+    setPersonName(\r\n+      // On autofill we get a stringified value.\r\n+      typeof value === 'string' ? value.split(',') : value,\r\n+    );\r\n+  };\r\n+\r\n+\r\n   const getRoles = async (search) => {\r\n     try {\r\n       let params = {\r\n         page: 1,\r\n"
                },
                {
                    "date": 1744755881686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -252,11 +252,11 @@\n           multiple\r\n           value={personName}\r\n           onChange={handleChange}\r\n           input={<OutlinedInput label=\"Name\" />}\r\n-          MenuProps={MenuProps}\r\n+   \r\n         >\r\n-          {names.map((name) => (\r\n+          {categories.map((name) => (\r\n             <MenuItem\r\n               key={name}\r\n               value={name}\r\n               style={getStyles(name, personName, theme)}\r\n"
                },
                {
                    "date": 1744755892773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { Box, FormControl, FormControlLabel, FormGroup, FormHelperText, FormLabel, Grid, IconButton, InputAdornment, ListItemText, MenuItem, OutlinedInput, Select, Typography } from \"@mui/material\";\r\n+import { Box, FormControl, FormControlLabel, FormGroup, FormHelperText, FormLabel, Grid, IconButton, InputAdornment, ListItemText, MenuItem, OutlinedInput, Select, ThemeProvider, Typography } from \"@mui/material\";\r\n import { Controller, useForm } from \"react-hook-form\";\r\n import { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\n import { useNavigate } from \"react-router-dom\";\r\n import { PrimaryButton } from \"components/Buttons\";\r\n@@ -258,9 +258,9 @@\n           {categories.map((name) => (\r\n             <MenuItem\r\n               key={name}\r\n               value={name}\r\n-              style={getStyles(name, personName, theme)}\r\n+              style={getStyles(name, personName, ThemeProvider)}\r\n             >\r\n               {name}\r\n             </MenuItem>\r\n           ))}\r\n"
                },
                {
                    "date": 1744755904382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { Box, FormControl, FormControlLabel, FormGroup, FormHelperText, FormLabel, Grid, IconButton, InputAdornment, ListItemText, MenuItem, OutlinedInput, Select, ThemeProvider, Typography } from \"@mui/material\";\r\n+import { Box, FormControl, FormControlLabel, FormGroup, FormHelperText, FormLabel, Grid, IconButton, InputAdornment, ListItemText, MenuItem, OutlinedInput, Select, Typography } from \"@mui/material\";\r\n import { Controller, useForm } from \"react-hook-form\";\r\n import { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\n import { useNavigate } from \"react-router-dom\";\r\n import { PrimaryButton } from \"components/Buttons\";\r\n@@ -258,9 +258,9 @@\n           {categories.map((name) => (\r\n             <MenuItem\r\n               key={name}\r\n               value={name}\r\n-              style={getStyles(name, personName, ThemeProvider)}\r\n+              style={getStyles(name, personName, theme)}\r\n             >\r\n               {name}\r\n             </MenuItem>\r\n           ))}\r\n"
                },
                {
                    "date": 1744755911848,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,18 @@\n import CustomerServices from \"services/Customer\";\r\n import { InputLabel } from \"@mui/material\";\r\n import { Checkbox } from \"@mui/material\";\r\n \r\n-\r\n+const ITEM_HEIGHT = 48;\r\n+const ITEM_PADDING_TOP = 8;\r\n+const MenuProps = {\r\n+  PaperProps: {\r\n+    style: {\r\n+      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n+      width: 250,\r\n+    },\r\n+  },\r\n+};\r\n // function PasswordIcon(props) {\r\n // \treturn (\r\n // \t\t<SvgIcon className='saraib' {...props}>\r\n // \t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"none\">\r\n"
                },
                {
                    "date": 1744755929599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n           multiple\r\n           value={personName}\r\n           onChange={handleChange}\r\n           input={<OutlinedInput label=\"Name\" />}\r\n-   \r\n+          MenuProps={MenuProps}\r\n         >\r\n           {categories.map((name) => (\r\n             <MenuItem\r\n               key={name}\r\n"
                },
                {
                    "date": 1744755955329,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,15 @@\n // \t\t\t</svg>\r\n // \t\t</SvgIcon>\r\n // \t);\r\n // }\r\n-\r\n+function getStyles(name, personName, theme) {\r\n+  return {\r\n+    fontWeight: personName.includes(name)\r\n+      ? theme.typography.fontWeightMedium\r\n+      : theme.typography.fontWeightRegular,\r\n+  };\r\n+}\r\n function CreateUser() {\r\n   const [handleBlockedNavigation] =\r\n     useCallbackPrompt(false)\r\n   const navigate = useNavigate();\r\n"
                },
                {
                    "date": 1744755962720,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,15 +38,9 @@\n // \t\t\t</svg>\r\n // \t\t</SvgIcon>\r\n // \t);\r\n // }\r\n-function getStyles(name, personName, theme) {\r\n-  return {\r\n-    fontWeight: personName.includes(name)\r\n-      ? theme.typography.fontWeightMedium\r\n-      : theme.typography.fontWeightRegular,\r\n-  };\r\n-}\r\n+\r\n function CreateUser() {\r\n   const [handleBlockedNavigation] =\r\n     useCallbackPrompt(false)\r\n   const navigate = useNavigate();\r\n@@ -61,8 +55,15 @@\n   const [selectedRole, setSelectedRole] = useState(null)\r\n   const [buttondisabled, setButtondisabled] = useState(false)\r\n   const [selectedCategory, setSelectedCategory] = useState([])\r\n   const [categories, setCategories] = useState([])\r\n+  function getStyles(name, personName, theme) {\r\n+    return {\r\n+      fontWeight: personName.includes(name)\r\n+        ? theme.typography.fontWeightMedium\r\n+        : theme.typography.fontWeightRegular,\r\n+    };\r\n+  }\r\n   // Watch both password and confirm password fields for changes\r\n   const password = watch('password', '');\r\n   const confirmPassword = watch('confirmpassword', '');\r\n   console.log(watch());\r\n"
                },
                {
                    "date": 1744755977936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n import { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\n import { useNavigate } from \"react-router-dom\";\r\n import { PrimaryButton } from \"components/Buttons\";\r\n import Colors from \"assets/Style/Colors\";\r\n+import { useTheme } from '@mui/material/styles';\r\n import { FontFamily } from \"assets\";\r\n import { ErrorToaster, SuccessToaster } from \"components/Toaster\";\r\n import InputField from \"components/Input\";\r\n import RoleServices from \"services/Role\";\r\n"
                },
                {
                    "date": 1744756022082,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -56,8 +56,9 @@\n   const [selectedRole, setSelectedRole] = useState(null)\r\n   const [buttondisabled, setButtondisabled] = useState(false)\r\n   const [selectedCategory, setSelectedCategory] = useState([])\r\n   const [categories, setCategories] = useState([])\r\n+  const theme = useTheme();\r\n   function getStyles(name, personName, theme) {\r\n     return {\r\n       fontWeight: personName.includes(name)\r\n         ? theme.typography.fontWeightMedium\r\n"
                },
                {
                    "date": 1744756049242,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,9 +274,9 @@\n           MenuProps={MenuProps}\r\n         >\r\n           {categories.map((name) => (\r\n             <MenuItem\r\n-              key={name}\r\n+              key={name?.id}\r\n               value={name}\r\n               style={getStyles(name, personName, theme)}\r\n             >\r\n               {name}\r\n"
                },
                {
                    "date": 1744756056622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -275,12 +275,12 @@\n         >\r\n           {categories.map((name) => (\r\n             <MenuItem\r\n               key={name?.id}\r\n-              value={name}\r\n+              value={name?.name}\r\n               style={getStyles(name, personName, theme)}\r\n             >\r\n-              {name}\r\n+              {name?.name}\r\n             </MenuItem>\r\n           ))}\r\n         </Select>\r\n       </FormControl>\r\n"
                },
                {
                    "date": 1744756136546,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,12 +75,14 @@\n   const handleChange = (event) => {\r\n     const {\r\n       target: { value },\r\n     } = event;\r\n-    setPersonName(\r\n-      // On autofill we get a stringified value.\r\n-      typeof value === 'string' ? value.split(',') : value,\r\n-    );\r\n+  \r\n+    const selected = typeof value === 'string' ? value.split(',') : value;\r\n+  \r\n+    const selectedObjects = names.filter((item) => selected.includes(item.label));\r\n+  \r\n+    setPersonName(selectedObjects); // Now you're storing the whole objects\r\n   };\r\n \r\n \r\n   const getRoles = async (search) => {\r\n"
                },
                {
                    "date": 1744756204611,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -110,8 +110,9 @@\n         name: getValues('name'),\r\n         email: getValues('email'),\r\n         phone: getValues('phone'),\r\n         password: getValues('password'),\r\n+        permittedCategories : selectedRole?.name == 'Typist' ? personName : null,\r\n         role_id: selectedRole?.id\r\n       }\r\n \r\n \r\n"
                },
                {
                    "date": 1744756245594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,9 @@\n     } = event;\r\n   \r\n     const selected = typeof value === 'string' ? value.split(',') : value;\r\n   \r\n-    const selectedObjects = names.filter((item) => selected.includes(item.label));\r\n+    const selectedObjects = categories.filter((item) => selected.includes(item.label));\r\n   \r\n     setPersonName(selectedObjects); // Now you're storing the whole objects\r\n   };\r\n \r\n@@ -265,9 +265,9 @@\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n             <Grid item xs={12} sm={5}>\r\n            <FormControl sx={{ m: 1, width: 300 }}>\r\n-        <InputLabel id=\"demo-multiple-name-label\">Name</InputLabel>\r\n+        <InputLabel id=\"demo-multiple-name-label\">Categorie</InputLabel>\r\n         <Select\r\n           labelId=\"demo-multiple-name-label\"\r\n           id=\"demo-multiple-name\"\r\n           multiple\r\n"
                },
                {
                    "date": 1744756340592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -264,30 +264,9 @@\n             />\r\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n             <Grid item xs={12} sm={5}>\r\n-           <FormControl sx={{ m: 1, width: 300 }}>\r\n-        <InputLabel id=\"demo-multiple-name-label\">Categorie</InputLabel>\r\n-        <Select\r\n-          labelId=\"demo-multiple-name-label\"\r\n-          id=\"demo-multiple-name\"\r\n-          multiple\r\n-          value={personName}\r\n-          onChange={handleChange}\r\n-          input={<OutlinedInput label=\"Name\" />}\r\n-          MenuProps={MenuProps}\r\n-        >\r\n-          {categories.map((name) => (\r\n-            <MenuItem\r\n-              key={name?.id}\r\n-              value={name?.name}\r\n-              style={getStyles(name, personName, theme)}\r\n-            >\r\n-              {name?.name}\r\n-            </MenuItem>\r\n-          ))}\r\n-        </Select>\r\n-      </FormControl>\r\n+          \r\n             </Grid>\r\n           )}\r\n \r\n \r\n"
                },
                {
                    "date": 1744756348390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -264,9 +264,9 @@\n             />\r\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n             <Grid item xs={12} sm={5}>\r\n-          \r\n+          {categories}\r\n             </Grid>\r\n           )}\r\n \r\n \r\n"
                },
                {
                    "date": 1744756466648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -164,19 +164,26 @@\n     getCategoryList()\r\n     getRoles()\r\n   }, [])\r\n \r\n-  useEffect(() => {\r\n-    if (selectedRole?.name === 'Typist') {\r\n-      if (selectedCategory?.length === 0) {\r\n-        setError('cat', { type: 'manual', message: 'Please select at least one category' });\r\n+  const selectedCategoryObjects = categoriesData.filter((category) => selectedCategories.includes(category.id))\r\n+\r\n+  // Handle checkbox change\r\n+  const handleCategoryChange = (categoryId: number) => {\r\n+    setSelectedCategories((prev) => {\r\n+      if (prev.includes(categoryId)) {\r\n+        // Remove if already selected\r\n+        return prev.filter((id) => id !== categoryId)\r\n       } else {\r\n-        clearErrors('cat');\r\n+        // Add if not selected\r\n+        return [...prev, categoryId]\r\n       }\r\n-    }\r\n-  }, [selectedCategory, selectedRole, setError, clearErrors]);\r\n+    })\r\n+  }\r\n \r\n \r\n+\r\n+\r\n   return (\r\n     <Box sx={{ p: 3, borderRadius: 3, }}>\r\n \r\n       <Box component=\"form\" onSubmit={handleSubmit(CreateUser)} >\r\n"
                },
                {
                    "date": 1744756472172,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -168,9 +168,9 @@\n   const selectedCategoryObjects = categoriesData.filter((category) => selectedCategories.includes(category.id))\r\n \r\n   // Handle checkbox change\r\n   const handleCategoryChange = (categoryId: number) => {\r\n-    setSelectedCategories((prev) => {\r\n+    setSelectedCategory((prev) => {\r\n       if (prev.includes(categoryId)) {\r\n         // Remove if already selected\r\n         return prev.filter((id) => id !== categoryId)\r\n       } else {\r\n"
                },
                {
                    "date": 1744756480568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -164,12 +164,12 @@\n     getCategoryList()\r\n     getRoles()\r\n   }, [])\r\n \r\n-  const selectedCategoryObjects = categoriesData.filter((category) => selectedCategories.includes(category.id))\r\n+  const selectedCategoryObjects = categories.filter((category) => selectedCategories.includes(category.id))\r\n \r\n   // Handle checkbox change\r\n-  const handleCategoryChange = (categoryId: number) => {\r\n+  const handleCategoryChange = (categoryId) => {\r\n     setSelectedCategory((prev) => {\r\n       if (prev.includes(categoryId)) {\r\n         // Remove if already selected\r\n         return prev.filter((id) => id !== categoryId)\r\n"
                },
                {
                    "date": 1744756486924,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -164,9 +164,9 @@\n     getCategoryList()\r\n     getRoles()\r\n   }, [])\r\n \r\n-  const selectedCategoryObjects = categories.filter((category) => selectedCategories.includes(category.id))\r\n+  const selectedCategoryObjects = categories.filter((category) => selectedCategory.includes(category.id))\r\n \r\n   // Handle checkbox change\r\n   const handleCategoryChange = (categoryId) => {\r\n     setSelectedCategory((prev) => {\r\n"
                },
                {
                    "date": 1744756507754,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -271,9 +271,53 @@\n             />\r\n           </Grid>\r\n           {selectedRole?.name === 'Typist' && (\r\n             <Grid item xs={12} sm={5}>\r\n-          {categories}\r\n+           <Paper elevation={3} sx={{ p: 3, maxWidth: 600, mx: \"auto\", my: 4 }}>\r\n+      <Typography variant=\"h5\" gutterBottom>\r\n+        Select Categories\r\n+      </Typography>\r\n+\r\n+      {selectedRole?.name === \"Typist\" && (\r\n+        <Grid container spacing={2}>\r\n+          <Grid item xs={12} sm={5}>\r\n+            <FormGroup>\r\n+              {categoriesData.map((category) => (\r\n+                <FormControlLabel\r\n+                  key={category.id}\r\n+                  control={\r\n+                    <Checkbox\r\n+                      checked={selectedCategories.includes(category.id)}\r\n+                      onChange={() => handleCategoryChange(category.id)}\r\n+                    />\r\n+                  }\r\n+                  label={category.name}\r\n+                />\r\n+              ))}\r\n+            </FormGroup>\r\n+          </Grid>\r\n+\r\n+          <Grid item xs={12} sm={7}>\r\n+            <Typography variant=\"h6\" gutterBottom>\r\n+              Selected Categories:\r\n+            </Typography>\r\n+            {selectedCategoryObjects.length > 0 ? (\r\n+              <ul>\r\n+                {selectedCategoryObjects.map((category) => (\r\n+                  <li key={category.id}>\r\n+                    <Typography>\r\n+                      <strong>{category.name}</strong>: {category.description}\r\n+                    </Typography>\r\n+                  </li>\r\n+                ))}\r\n+              </ul>\r\n+            ) : (\r\n+              <Typography color=\"text.secondary\">Please select at least one category</Typography>\r\n+            )}\r\n+          </Grid>\r\n+        </Grid>\r\n+      )}\r\n+    </Paper>\r\n             </Grid>\r\n           )}\r\n \r\n \r\n"
                },
                {
                    "date": 1744756514224,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,9 +280,9 @@\n       {selectedRole?.name === \"Typist\" && (\r\n         <Grid container spacing={2}>\r\n           <Grid item xs={12} sm={5}>\r\n             <FormGroup>\r\n-              {categories.map((category) => (\r\n+              {categories?.map((category) => (\r\n                 <FormControlLabel\r\n                   key={category.id}\r\n                   control={\r\n                     <Checkbox\r\n"
                },
                {
                    "date": 1744756645094,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,44 +269,13 @@\n                 required: 'Please select role'\r\n               })}\r\n             />\r\n           </Grid>\r\n-          {selectedRole?.name === 'Typist' && (\r\n-            <Grid item xs={12} sm={12}>\r\n-            \r\n-                <Typography variant=\"h5\" gutterBottom>\r\n-                  Select Categories\r\n-                </Typography>\r\n+     \r\n \r\n-                {selectedRole?.name === \"Typist\" && (\r\n-                  <Grid container spacing={2}>\r\n-                    <Grid item xs={12} sm={5}>\r\n-                      <FormGroup>\r\n-                        {categories?.map((category) => (\r\n-                          <FormControlLabel\r\n-                            key={category.id}\r\n-                            control={\r\n-                              <Checkbox\r\n-                                checked={selectedCategory?.includes(category.id)}\r\n-                                onChange={() => handleCategoryChange(category.id)}\r\n-                              />\r\n-                            }\r\n-                            label={category.name}\r\n-                          />\r\n-                        ))}\r\n-                      </FormGroup>\r\n-                    </Grid>\r\n \r\n-                   \r\n-                  </Grid>\r\n-                )}\r\n-           \r\n-            </Grid>\r\n-          )}\r\n \r\n \r\n-\r\n-\r\n           <Grid item xs={12} sm={5}>\r\n             <InputField\r\n               size=\"small\"\r\n               label=\"Password :*\"\r\n@@ -349,9 +318,40 @@\n               })}\r\n             />\r\n \r\n           </Grid>\r\n+          {selectedRole?.name === 'Typist' && (\r\n+            <Grid item xs={12} sm={12}>\r\n+            \r\n+                <Typography variant=\"h5\" gutterBottom>\r\n+                  Select Categories\r\n+                </Typography>\r\n \r\n+                {selectedRole?.name === \"Typist\" && (\r\n+                  <Grid container spacing={2}>\r\n+                    <Grid item xs={12} sm={5}>\r\n+                      <FormGroup>\r\n+                        {categories?.map((category) => (\r\n+                          <FormControlLabel\r\n+                            key={category.id}\r\n+                            control={\r\n+                              <Checkbox\r\n+                                checked={selectedCategory?.includes(category.id)}\r\n+                                onChange={() => handleCategoryChange(category.id)}\r\n+                              />\r\n+                            }\r\n+                            label={category.name}\r\n+                          />\r\n+                        ))}\r\n+                      </FormGroup>\r\n+                    </Grid>\r\n+\r\n+                   \r\n+                  </Grid>\r\n+                )}\r\n+           \r\n+            </Grid>\r\n+          )}\r\n         </Grid>\r\n       </Box>\r\n \r\n     </Box>\r\n"
                }
            ],
            "date": 1744546821334,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport { Box, Grid, IconButton, InputAdornment, Typography } from \"@mui/material\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Images, SvgIcon, SvgIcon as SvgIconss } from 'assets';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { PrimaryButton } from \"components/Buttons\";\r\nimport Colors from \"assets/Style/Colors\";\r\nimport { FontFamily } from \"assets\";\r\nimport { ErrorToaster, SuccessToaster } from \"components/Toaster\";\r\nimport InputField from \"components/Input\";\r\nimport RoleServices from \"services/Role\";\r\nimport { showErrorToast, showPromiseToast } from \"components/NewToaster\";\r\nimport { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\nimport SelectField from \"components/Select\";\r\nimport UserServices from \"services/User\";\r\nimport SystemServices from \"services/System\";\r\nimport { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\n\r\n\r\n// function PasswordIcon(props) {\r\n// \treturn (\r\n// \t\t<SvgIcon className='saraib' {...props}>\r\n// \t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"none\">\r\n// \t\t\t\t<path d=\"M16.1163 8.29886C16.9177 8.63783 17.6589 9.08308 18.3311 9.62599V5.78823C18.3311 2.59681 15.7343 0 12.5429 0H12.4538C9.26526 0 6.66846 2.59681 6.66846 5.78823V9.62599C7.34064 9.0831 8.08176 8.63786 8.88321 8.29886C9.09865 8.20694 9.31984 8.12364 9.54103 8.04895V5.78823C9.54103 4.17959 10.8481 2.87257 12.4567 2.87257H12.5457C14.1544 2.87257 15.4614 4.17959 15.4614 5.78823V8.05182C15.6797 8.12364 15.9009 8.20694 16.1163 8.29886Z\" fill=\"#B6B6B6\" />\r\n// \t\t\t\t<path d=\"M4.35889 16.8591C4.35889 21.3547 8.00418 24.9999 12.4998 24.9999C16.9953 24.9999 20.6407 21.3575 20.6407 16.8591C20.6407 14.6501 19.7587 12.645 18.3311 11.1771C17.5268 10.3527 16.5501 9.69772 15.4585 9.26974C14.5422 8.91067 13.5425 8.71533 12.4998 8.71533C11.457 8.71533 10.4574 8.91067 9.54104 9.26974C8.44946 9.69488 7.47278 10.3498 6.66846 11.1771C5.23789 12.645 4.35889 14.6501 4.35889 16.8591ZM10.4028 15.216C10.4315 14.1043 11.3363 13.1994 12.448 13.1735C13.6286 13.1448 14.5967 14.0957 14.5967 15.2705C14.5967 15.3941 14.5852 15.5147 14.5651 15.6296C14.4616 16.2242 14.1084 16.7355 13.6142 17.0458C13.4103 17.1751 13.3069 17.4163 13.3586 17.649L13.982 20.6049C14.0194 20.783 13.8843 20.9525 13.7005 20.9525H11.299C11.1152 20.9525 10.9801 20.7859 11.0175 20.6049L11.6408 17.649C11.6897 17.4135 11.5891 17.1722 11.3852 17.0429C10.8911 16.7327 10.5378 16.2242 10.4343 15.6267C10.4114 15.4946 10.3999 15.3567 10.4028 15.216Z\" fill=\"#B6B6B6\" />\r\n// \t\t\t</svg>\r\n// \t\t</SvgIcon>\r\n// \t);\r\n// }\r\n\r\nfunction CreateUser() {\r\n  const [handleBlockedNavigation] =\r\n  useCallbackPrompt(false)\r\n  const navigate = useNavigate();\r\n\r\n  const { register, handleSubmit, formState: { errors }, control, getValues, watch } = useForm();\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false)\r\n  const [inputError, setInputError] = useState(false);\r\n  const [roles, setRoles] = useState([])\r\n  const [selectedRole, setSelectedRole] = useState(null)\r\n  const [buttondisabled, setButtondisabled] = useState(false)\r\n  // Watch both password and confirm password fields for changes\r\n  const password = watch('password', '');\r\n  const confirmPassword = watch('confirmpassword', '');\r\n\r\n  const getRoles = async (search) => {\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n        search: search,\r\n      };\r\n      const { data } = await SystemServices.getRoles(params);\r\n      setRoles(data?.roles?.rows)\r\n    } catch (error) {\r\n      showErrorToast(error);\r\n    }\r\n  };\r\n\r\n\r\n  // *For Create Role\r\n  const CreateUser = async (formData) => {\r\n    setLoading(true)\r\n    setButtondisabled(true)\r\n    console.log(formData);\r\n    try {\r\n      let obj = {\r\n        name: getValues('name'),\r\n\r\n        email: getValues('email'),\r\n        phone: getValues('phone'),\r\n        password: getValues('password'),\r\n        role_id: selectedRole?.id\r\n      }\r\n\r\n\r\n      console.log(obj);\r\n      const promise = UserServices.CreateUser(obj);\r\n\r\n      showPromiseToast(\r\n        promise,\r\n        'Saving ...',\r\n        'Success',\r\n        'Something Went Wrong'\r\n      );\r\n      const response = await promise;\r\n      if (response?.responseCode === 200) {\r\n        navigate('/user-list')\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      setButtondisabled(false)\r\n      // showErrorToast(error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    getRoles()\r\n  }, [])\r\n\r\n  return (\r\n    <Box sx={{ p: 3, borderRadius: 3, }}>\r\n\r\n      <Box component=\"form\" onSubmit={handleSubmit(CreateUser)} >\r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', gap: '10px', alignItems: 'flex-end' }}>\r\n          <Typography sx={{ fontSize: \"22px\", fontWeight: 'bold' }} >CREATE USER</Typography>\r\n          <Box sx={{ display: 'flex', gap: '10px' }}>\r\n            <PrimaryButton\r\n             bgcolor={'#bd9b4a'}\r\n              title=\"Save\"\r\n              type={'submit'}\r\n              disabled={buttondisabled}\r\n\r\n            />\r\n\r\n          </Box>\r\n        </Box>\r\n        <Grid container spacing={0} mt={5} p={1} gap={'0px 20px'} >\r\n\r\n          <Grid item xs={12} sm={5}>\r\n\r\n            <InputField\r\n              label={\" Name :*\"}\r\n              size={'small'}\r\n              placeholder={\" Name\"}\r\n              error={errors?.name?.message}\r\n              register={register(\"name\", {\r\n                required:\r\n                  \"Please enter name.\"\r\n\r\n              })}\r\n            />\r\n\r\n\r\n          </Grid>\r\n          <Grid item xs={12} sm={5}>\r\n\r\n            <InputField\r\n              label={\"Email :*\"}\r\n              size={'small'}\r\n              placeholder={\"Email\"}\r\n              error={errors?.email?.message}\r\n              register={register(\"email\", {\r\n                required: \"Please enter your email.\",\r\n                pattern: {\r\n                  value: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\r\n                  message: \"Please enter a valid email address.\"\r\n                }\r\n              })}\r\n            />\r\n\r\n\r\n          </Grid>\r\n          <Grid item xs={12} sm={5}>\r\n\r\n            <InputField\r\n              label={\"Phone :*\"}\r\n              size={'small'}\r\n              placeholder={\"Phone \"}\r\n              type={'number'}\r\n              error={errors?.phone?.message}\r\n              register={register(\"phone\", {\r\n                required:\r\n                  \"Please enter phone.\",\r\n                pattern: {\r\n                  value: /^05[0-9]{8}$/,\r\n                  message: \"Please enter a valid UAE phone number (starting with 05 and 8 digits).\"\r\n                }\r\n\r\n              })}\r\n            />\r\n\r\n\r\n          </Grid>\r\n          <Grid item xs={12} sm={5}>\r\n            <SelectField\r\n              size={'small'}\r\n              label={'Select Role :*'}\r\n              options={roles}\r\n              selected={selectedRole}\r\n              onSelect={(value) => setSelectedRole(value)}\r\n              error={errors?.role?.message}\r\n              register={register(\"role\", {\r\n                required: 'Please select role'\r\n              })}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={5}>\r\n            <InputField\r\n              size=\"small\"\r\n              label=\"Password :*\"\r\n              type={showPassword ? 'text' : 'password'}\r\n              placeholder=\"Enter Your Password\"\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton edge=\"end\" onClick={() => setShowPassword(!showPassword)}>\r\n                      {showPassword ? <Visibility color=\"primary\" /> : <VisibilityOff color=\"primary\" />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              error={errors.password?.message || (inputError && 'You have entered an invalid email or password.')}\r\n              register={register('password', {\r\n                required: 'Please enter the password.',\r\n              })}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={5}>\r\n            <InputField\r\n              size=\"small\"\r\n              label=\"Confirm Password :*\"\r\n              type={showConfirmPassword ? 'text' : 'password'}\r\n              placeholder=\"Enter Your Confirm Password\"\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton edge=\"end\" onClick={() => setShowConfirmPassword(!showConfirmPassword)}>\r\n                      {showConfirmPassword ? <Visibility color=\"primary\" /> : <VisibilityOff color=\"primary\" />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              error={errors.confirmpassword?.message || (inputError && 'You have entered an invalid email or password.')}\r\n              register={register('confirmpassword', {\r\n                required: 'Please enter the confirm password.',\r\n                validate: value => value === password || 'Passwords do not match.',\r\n              })}\r\n            />\r\n\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </Box>\r\n\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default CreateUser;"
        }
    ]
}