{
    "sourceFile": "src/pages/Dashboard/AlDeed/CreateAldeed.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 75,
            "patches": [
                {
                    "date": 1744633571052,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744633584489,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n import FinanceServices from \"services/Finance\";\r\n import SearchIcon from \"@mui/icons-material/Search\";\r\n // import { TableBody, TableHead } from \"mui-datatables\";\r\n \r\n-function SalesReciept() {\r\n+function CreateAldeed() {\r\n   const theme = useTheme();\r\n   const { user } = useAuth();\r\n   const navigate = useNavigate();\r\n   const [formChange, setFormChange] = useState(false);\r\n@@ -779,5 +779,5 @@\n     </>\r\n   );\r\n }\r\n \r\n-export default SalesReciept;\r\n+export default CreateAldeed;\r\n"
                },
                {
                    "date": 1744633691734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -552,9 +552,9 @@\n                           })}\r\n                           error={errors1?.email?.message}\r\n                         />\r\n                       </Grid>\r\n-{/* \r\n+\r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <InputField\r\n                           label=\"TRN\"\r\n                           size=\"small\"\r\n@@ -565,9 +565,9 @@\n                             required: 'please enter trn .'\r\n                           })}\r\n                           error={errors1?.trn?.message}\r\n                         />\r\n-                      </Grid> */}\r\n+                      </Grid>\r\n \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <InputField\r\n                           label=\"Ref\"\r\n"
                },
                {
                    "date": 1744633697127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -576,9 +576,9 @@\n                           register={register1(\"ref\")}\r\n                         />\r\n                       </Grid>\r\n                      \r\n-                      {/* <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Cost Center\"\r\n                           size=\"small\"\r\n                           options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n@@ -589,9 +589,9 @@\n                             required: 'please enter cost center .'\r\n                           })}\r\n                           error={errors1?.cost_center?.message}\r\n                         />\r\n-                      </Grid> */}\r\n+                      </Grid>\r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <InputField\r\n                           label=\"Address\"\r\n                           size=\"small\"\r\n"
                },
                {
                    "date": 1744633710009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -580,9 +580,9 @@\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Cost Center\"\r\n                           size=\"small\"\r\n-                          options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n+                          options={[ { id: 'DED', name: 'DED' }]}\r\n                           selected={watch1(\"cost_center\")}\r\n                           onSelect={(value) => setValue1(\"cost_center\", value)}\r\n \r\n                           register={register1(\"cost_center\", {\r\n"
                },
                {
                    "date": 1744633808245,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -433,8 +433,23 @@\n                             ),\r\n                           }}\r\n                         />\r\n                       </Grid>\r\n+                      <Grid item md={3} sm={12} xs={12}>\r\n+                        <InputField\r\n+                          label=\"Token\"\r\n+                          size=\"small\"\r\n+                          placeholder=\"Enter Token\"\r\n+                          register={register1(\"token\")}\r\n+                          InputProps={{\r\n+                            endAdornment: (\r\n+                              <IconButton onClick={getReceptionDetail}>\r\n+                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                              </IconButton>\r\n+                            ),\r\n+                          }}\r\n+                        />\r\n+                      </Grid>\r\n                     </Grid>\r\n                   </Grid>\r\n \r\n                   <Grid\r\n"
                },
                {
                    "date": 1744633816064,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -435,9 +435,9 @@\n                         />\r\n                       </Grid>\r\n                       <Grid item md={3} sm={12} xs={12}>\r\n                         <InputField\r\n-                          label=\"Token\"\r\n+                          label=\"Invpice Number\"\r\n                           size=\"small\"\r\n                           placeholder=\"Enter Token\"\r\n                           register={register1(\"token\")}\r\n                           InputProps={{\r\n"
                },
                {
                    "date": 1744633829783,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -435,12 +435,12 @@\n                         />\r\n                       </Grid>\r\n                       <Grid item md={3} sm={12} xs={12}>\r\n                         <InputField\r\n-                          label=\"Invpice Number\"\r\n+                          label=\"Invoice Number\"\r\n                           size=\"small\"\r\n-                          placeholder=\"Enter Token\"\r\n-                          register={register1(\"token\")}\r\n+                          placeholder=\"Invoice Number\"\r\n+                          register={register1(\"invoicenumber\")}\r\n                           InputProps={{\r\n                             endAdornment: (\r\n                               <IconButton onClick={getReceptionDetail}>\r\n                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n"
                },
                {
                    "date": 1744633973774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -264,13 +264,18 @@\n     }\r\n   };\r\n \r\n   // *For Get Account\r\n-  const getReceptionDetail = async () => {\r\n+  const getReceptionDetail = async (state) => {\r\n     try {\r\n       let params = {\r\n         token_number: getValues1(\"token\"),\r\n       };\r\n+      if(state){\r\n+         params = {\r\n+            token_number: getValues1(\"token\"),\r\n+          };\r\n+      }\r\n       const { data } = await CustomerServices.getReceptionDetail(params);\r\n       console.log(data, \"dataaa\");\r\n       setDetail(data?.token)\r\n       setValue1(\"customer\", data?.token?.customer_name);\r\n"
                },
                {
                    "date": 1744633985483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -271,9 +271,9 @@\n         token_number: getValues1(\"token\"),\r\n       };\r\n       if(state){\r\n          params = {\r\n-            token_number: getValues1(\"token\"),\r\n+            token_number: getValues1(\"invoicenumber\"),\r\n           };\r\n       }\r\n       const { data } = await CustomerServices.getReceptionDetail(params);\r\n       console.log(data, \"dataaa\");\r\n"
                },
                {
                    "date": 1744634004963,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,26 +1,26 @@\n import React, { useEffect, useRef, useState } from \"react\";\r\n import {\r\n-  Avatar,\r\n-  Box,\r\n-  Checkbox,\r\n-  Container,\r\n-  FormControlLabel,\r\n-  FormLabel,\r\n-  Grid,\r\n-  IconButton,\r\n-  InputLabel,\r\n-  Radio,\r\n-  RadioGroup,\r\n-  Table,\r\n-  TableCell,\r\n-  TableContainer,\r\n-  TableRow,\r\n-  Typography,\r\n-  TableBody,\r\n-  TableHead,\r\n-  TextField,\r\n-  Paper,\r\n+    Avatar,\r\n+    Box,\r\n+    Checkbox,\r\n+    Container,\r\n+    FormControlLabel,\r\n+    FormLabel,\r\n+    Grid,\r\n+    IconButton,\r\n+    InputLabel,\r\n+    Radio,\r\n+    RadioGroup,\r\n+    Table,\r\n+    TableCell,\r\n+    TableContainer,\r\n+    TableRow,\r\n+    Typography,\r\n+    TableBody,\r\n+    TableHead,\r\n+    TextField,\r\n+    Paper,\r\n } from \"@mui/material\";\r\n import RegisterContainer from \"container/Register\";\r\n import { useTheme } from \"@mui/material/styles\";\r\n import MobileStepper from \"@mui/material/MobileStepper\";\r\n@@ -38,13 +38,13 @@\n import { FormControl } from \"@mui/base\";\r\n import LabelCustomInput from \"components/Input/LabelCustomInput\";\r\n import SelectField from \"components/Select\";\r\n import {\r\n-  CleanTypes,\r\n-  Debounce,\r\n-  Debounce2,\r\n-  getFileSize,\r\n-  handleDownload,\r\n+    CleanTypes,\r\n+    Debounce,\r\n+    Debounce2,\r\n+    getFileSize,\r\n+    handleDownload,\r\n } from \"utils\";\r\n import instance from \"config/axios\";\r\n import routes from \"services/System/routes\";\r\n import CustomerServices from \"services/Customer\";\r\n@@ -65,739 +65,732 @@\n import SearchIcon from \"@mui/icons-material/Search\";\r\n // import { TableBody, TableHead } from \"mui-datatables\";\r\n \r\n function CreateAldeed() {\r\n-  const theme = useTheme();\r\n-  const { user } = useAuth();\r\n-  const navigate = useNavigate();\r\n-  const [formChange, setFormChange] = useState(false);\r\n-  const [submit, setSubmit] = useState(false);\r\n-  const [excludeFromSales, setExcludeFromSales] = useState(\"no\");\r\n-  const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n-  const [total, setTotal] = useState(0);\r\n-  const [subTotal, setSubTotal] = useState(0);\r\n-  const [rows, setRows] = useState([]);\r\n+    const theme = useTheme();\r\n+    const { user } = useAuth();\r\n+    const navigate = useNavigate();\r\n+    const [formChange, setFormChange] = useState(false);\r\n+    const [submit, setSubmit] = useState(false);\r\n+    const [excludeFromSales, setExcludeFromSales] = useState(\"no\");\r\n+    const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n+    const [total, setTotal] = useState(0);\r\n+    const [subTotal, setSubTotal] = useState(0);\r\n+    const [rows, setRows] = useState([]);\r\n \r\n \r\n-  console.log(rows, \"data\")\r\n-  const [items, setItems] = useState([\r\n-    {\r\n-      itemCode: \"\",\r\n-      itemDescription: \"TASHEEL AUTO 19\",\r\n-      totalCharge: 17.1,\r\n-      mbNo: \"\",\r\n-      applicationId: \"\",\r\n-      total: 17.1,\r\n-    },\r\n-  ]);\r\n+    console.log(rows, \"data\")\r\n+    const [items, setItems] = useState([\r\n+        {\r\n+            itemCode: \"\",\r\n+            itemDescription: \"TASHEEL AUTO 19\",\r\n+            totalCharge: 17.1,\r\n+            mbNo: \"\",\r\n+            applicationId: \"\",\r\n+            total: 17.1,\r\n+        },\r\n+    ]);\r\n \r\n-  // const addItem = () => {\r\n-  //   const newItem = {\r\n-  //     itemCode: \"\",\r\n-  //     itemDescription: \"\",\r\n-  //     totalCharge: 0,\r\n-  //     mbNo: \"\",\r\n-  //     applicationId: \"\",\r\n-  //     total: 0,\r\n-  //   };\r\n-  //   setItems([...items, newItem]);\r\n-  // };\r\n+    // const addItem = () => {\r\n+    //   const newItem = {\r\n+    //     itemCode: \"\",\r\n+    //     itemDescription: \"\",\r\n+    //     totalCharge: 0,\r\n+    //     mbNo: \"\",\r\n+    //     applicationId: \"\",\r\n+    //     total: 0,\r\n+    //   };\r\n+    //   setItems([...items, newItem]);\r\n+    // };\r\n \r\n-  const {\r\n-    register,\r\n-    handleSubmit,\r\n-    getValues,\r\n-    setValue,\r\n-    watch,\r\n-    reset,\r\n-    formState: { errors },\r\n-  } = useForm();\r\n-  const {\r\n-    register: register1,\r\n-    handleSubmit: handleSubmit1,\r\n-    setValue: setValue1,\r\n-    getValues: getValues1,\r\n-    control,\r\n-    watch: watch1,\r\n-    formState: { errors: errors1 },\r\n-  } = useForm();\r\n+    const {\r\n+        register,\r\n+        handleSubmit,\r\n+        getValues,\r\n+        setValue,\r\n+        watch,\r\n+        reset,\r\n+        formState: { errors },\r\n+    } = useForm();\r\n+    const {\r\n+        register: register1,\r\n+        handleSubmit: handleSubmit1,\r\n+        setValue: setValue1,\r\n+        getValues: getValues1,\r\n+        control,\r\n+        watch: watch1,\r\n+        formState: { errors: errors1 },\r\n+    } = useForm();\r\n \r\n-  // Watch all form data\r\n+    // Watch all form data\r\n \r\n-  // Watch for changes in the fee-related fields\r\n-  const govtFee = watch('govt_fee', 0);\r\n-  const centerFee = watch('center_fee', 0);\r\n-  const bankCharges = watch('bank_charges', 0);\r\n-  const qty = watch('qty', 1);\r\n-  useEffect(() => {\r\n-    const feesTotal = (parseFloat(govtFee) || 0) + (parseFloat(centerFee) || 0) + (parseFloat(bankCharges) || 0);\r\n-    const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n-    setValue(\"total\", finalTotal);\r\n-  }, [govtFee, centerFee, bankCharges, qty]);\r\n+    // Watch for changes in the fee-related fields\r\n+    const govtFee = watch('govt_fee', 0);\r\n+    const centerFee = watch('center_fee', 0);\r\n+    const bankCharges = watch('bank_charges', 0);\r\n+    const qty = watch('qty', 1);\r\n+    useEffect(() => {\r\n+        const feesTotal = (parseFloat(govtFee) || 0) + (parseFloat(centerFee) || 0) + (parseFloat(bankCharges) || 0);\r\n+        const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n+        setValue(\"total\", finalTotal);\r\n+    }, [govtFee, centerFee, bankCharges, qty]);\r\n \r\n-  const addItem = (data) => {\r\n-    const total = data.total;\r\n-    setRows((prevRows) => {\r\n-      const updatedRows = [...prevRows, data];\r\n-      const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n-      setSubTotal(newSubTotal);\r\n-      return updatedRows;\r\n+    const addItem = (data) => {\r\n+        const total = data.total;\r\n+        setRows((prevRows) => {\r\n+            const updatedRows = [...prevRows, data];\r\n+            const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n+            setSubTotal(newSubTotal);\r\n+            return updatedRows;\r\n+        });\r\n+        reset();\r\n+        setServiceItem(\"\")\r\n+    };\r\n+    const isFormDataEmpty = (data) => {\r\n+        // Check if all form fields are empty\r\n+        return Object.values(data).every((value) => {\r\n+            // If the value is an object (like companyLogo), check if it's empty\r\n+            if (typeof value === \"object\" && value !== null) {\r\n+                return Object.keys(value).length === 0;\r\n+            }\r\n+            // Otherwise, check if the value is an empty string\r\n+            return value === \"\";\r\n+        });\r\n+    };\r\n+\r\n+    const allowFilesType = [\r\n+        \"image/png\",\r\n+        \"image/jpg\",\r\n+        \"image/jpeg\",\r\n+        \"application/pdf\",\r\n+        \"application/vnd.ms-excel\",\r\n+        \"application/msword\",\r\n+        \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n+    ];\r\n+    const allowFilesType2 = [\"image/png\", \"image/jpg\", \"image/jpeg\"];\r\n+    const [guarantors, setGuarantors] = useState([]);\r\n+    const [activeStep, setActiveStep] = React.useState(1);\r\n+\r\n+    // *For Deposit Slip\r\n+    const [progress, setProgress] = useState(0);\r\n+    const [uploadedSize, setUploadedSize] = useState(0);\r\n+    const [slipDetail, setSlipDetail] = useState([]);\r\n+\r\n+    const [selectedDue, setSelectedDue] = useState({\r\n+        id: \"Instant\",\r\n+        name: \"Instant\",\r\n     });\r\n-    reset();\r\n-    setServiceItem(\"\")\r\n-  };\r\n-  const isFormDataEmpty = (data) => {\r\n-    // Check if all form fields are empty\r\n-    return Object.values(data).every((value) => {\r\n-      // If the value is an object (like companyLogo), check if it's empty\r\n-      if (typeof value === \"object\" && value !== null) {\r\n-        return Object.keys(value).length === 0;\r\n-      }\r\n-      // Otherwise, check if the value is an empty string\r\n-      return value === \"\";\r\n+    const [passport, setPassport] = useState();\r\n+    const [allocation, setAllocation] = useState(false);\r\n+    const [depositError, setDepositError] = useState(false);\r\n+    const [loading, setLoading] = useState(false);\r\n+    const [emailVerify, setEmailVerify] = useState(false);\r\n+    const [isUploading, setIsUploading] = useState(false);\r\n+    const [loader, setLoader] = useState(false);\r\n+    const [fieldsDisabled, setFieldsDisabled] = useState({\r\n+        monthlyVisaServiceCharges: false,\r\n+        vipMedical: false,\r\n+        extraTyping: true,\r\n     });\r\n-  };\r\n \r\n-  const allowFilesType = [\r\n-    \"image/png\",\r\n-    \"image/jpg\",\r\n-    \"image/jpeg\",\r\n-    \"application/pdf\",\r\n-    \"application/vnd.ms-excel\",\r\n-    \"application/msword\",\r\n-    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n-  ];\r\n-  const allowFilesType2 = [\"image/png\", \"image/jpg\", \"image/jpeg\"];\r\n-  const [guarantors, setGuarantors] = useState([]);\r\n-  const [activeStep, setActiveStep] = React.useState(1);\r\n+    const [center, setCenter] = useState(null);\r\n+    const [status, setStatus] = useState(null);\r\n \r\n-  // *For Deposit Slip\r\n-  const [progress, setProgress] = useState(0);\r\n-  const [uploadedSize, setUploadedSize] = useState(0);\r\n-  const [slipDetail, setSlipDetail] = useState([]);\r\n+    // *For Stepper Forms Data\r\n+    const [stepFormData, setStepFormData] = useState();\r\n+    const [step1FormData, setStep1FormData] = useState();\r\n+    const [selectedType, setSelectedType] = useState(null);\r\n+    const [date, setDate] = useState(null);\r\n+    const [balanceType, setBalanceType] = useState(null);\r\n+    const [imageURL, setImageURL] = useState(null);\r\n+    const fileInputRef = useRef(null);\r\n+    const [hovered, setHovered] = useState(false);\r\n+    const [accounts, setAccounts] = useState([]);\r\n+    const [salesAccount, setSalesAccount] = useState(null);\r\n+    const [inventoryAccount, setInventoryAccount] = useState(null);\r\n+    const [cogsAccount, setCogsAccount] = useState(null);\r\n+    const [adjustmentAccount, setAdjustmentAccount] = useState(null);\r\n+    const [assemblyAccount, setAssemblyAccount] = useState(null);\r\n+    const [itemType, setItemType] = useState(null);\r\n+    const [unit, setUnit] = useState(null);\r\n+    const [taxes, setTaxes] = useState([]);\r\n+    const [tax, setTax] = useState(null);\r\n+    const [category, setCategory] = useState(null);\r\n+    const [categories, setCategories] = useState(null);\r\n+    const [governmentAccount, setGovernmnentAccount] = useState(null);\r\n+    const [description, setDescription] = useState(null);\r\n+    const [ownGovBank, setOwnGovBank] = useState(null);\r\n+    const [services, setServices] = useState(null);\r\n+    const [serviceItem, setServiceItem] = useState(null);\r\n+    const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n+    const [detail, setDetail] = useState(null)\r\n+    //documents array\r\n \r\n-  const [selectedDue, setSelectedDue] = useState({\r\n-    id: \"Instant\",\r\n-    name: \"Instant\",\r\n-  });\r\n-  const [passport, setPassport] = useState();\r\n-  const [allocation, setAllocation] = useState(false);\r\n-  const [depositError, setDepositError] = useState(false);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [emailVerify, setEmailVerify] = useState(false);\r\n-  const [isUploading, setIsUploading] = useState(false);\r\n-  const [loader, setLoader] = useState(false);\r\n-  const [fieldsDisabled, setFieldsDisabled] = useState({\r\n-    monthlyVisaServiceCharges: false,\r\n-    vipMedical: false,\r\n-    extraTyping: true,\r\n-  });\r\n+    const handleNext = () => {\r\n+        setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n+    };\r\n \r\n-  const [center, setCenter] = useState(null);\r\n-  const [status, setStatus] = useState(null);\r\n+    const submitForm1 = async (formData) => {\r\n+        console.log(formData);\r\n+        try {\r\n+            let obj = {\r\n+                token_number: formData?.token,\r\n+                token_date: date,\r\n+                invoice_prefix: \"AAD\",\r\n+                cost_center: formData?.cost_center,\r\n+                customer_name: formData?.display_customer,\r\n+                reception_id: detail?.id,\r\n+                customer_mobile: formData?.mobile,\r\n+                customer_email: formData?.email,\r\n+                ref: formData?.ref,\r\n+                total_amount: subTotal,\r\n \r\n-  // *For Stepper Forms Data\r\n-  const [stepFormData, setStepFormData] = useState();\r\n-  const [step1FormData, setStep1FormData] = useState();\r\n-  const [selectedType, setSelectedType] = useState(null);\r\n-  const [date, setDate] = useState(null);\r\n-  const [balanceType, setBalanceType] = useState(null);\r\n-  const [imageURL, setImageURL] = useState(null);\r\n-  const fileInputRef = useRef(null);\r\n-  const [hovered, setHovered] = useState(false);\r\n-  const [accounts, setAccounts] = useState([]);\r\n-  const [salesAccount, setSalesAccount] = useState(null);\r\n-  const [inventoryAccount, setInventoryAccount] = useState(null);\r\n-  const [cogsAccount, setCogsAccount] = useState(null);\r\n-  const [adjustmentAccount, setAdjustmentAccount] = useState(null);\r\n-  const [assemblyAccount, setAssemblyAccount] = useState(null);\r\n-  const [itemType, setItemType] = useState(null);\r\n-  const [unit, setUnit] = useState(null);\r\n-  const [taxes, setTaxes] = useState([]);\r\n-  const [tax, setTax] = useState(null);\r\n-  const [category, setCategory] = useState(null);\r\n-  const [categories, setCategories] = useState(null);\r\n-  const [governmentAccount, setGovernmnentAccount] = useState(null);\r\n-  const [description, setDescription] = useState(null);\r\n-  const [ownGovBank, setOwnGovBank] = useState(null);\r\n-  const [services, setServices] = useState(null);\r\n-  const [serviceItem, setServiceItem] = useState(null);\r\n-  const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n-  const [detail, setDetail] = useState(null)\r\n-  //documents array\r\n+                items: rows\r\n+            };\r\n+            console.log(formData, \"formData\");\r\n+            const promise = CustomerServices.CreateSaleReceipt(obj);\r\n \r\n-  const handleNext = () => {\r\n-    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n-  };\r\n+            showPromiseToast(\r\n+                promise,\r\n+                \"Saving...\",\r\n+                \"Added Successfully\",\r\n+                \"Something Went Wrong\"\r\n+            );\r\n+            const response = await promise;\r\n+            if (response?.responseCode === 200) {\r\n+                navigate(\"/pre-sales\");\r\n+            }\r\n+        } catch (error) {\r\n+            ErrorToaster(error);\r\n+        }\r\n+    };\r\n \r\n-  const submitForm1 = async (formData) => {\r\n-    console.log(formData);\r\n-    try {\r\n-      let obj = {\r\n-        token_number: formData?.token,\r\n-        token_date: date,\r\n-        invoice_prefix: \"AAD\",\r\n-        cost_center:formData?.cost_center,\r\n-        customer_name: formData?.display_customer,\r\n-        reception_id: detail?.id,\r\n-        customer_mobile: formData?.mobile,\r\n-        customer_email: formData?.email,\r\n-        ref: formData?.ref,\r\n-        total_amount: subTotal,\r\n+    // *For Get Account\r\n+    const getReceptionDetail = async (state) => {\r\n+        try {\r\n+            let params = {\r\n+                token_number: getValues1(\"token\"),\r\n+            };\r\n+            if (state) {\r\n+                params = {\r\n+                    token_number: getValues1(\"invoicenumber\"),\r\n+                };\r\n+            }\r\n+            const { data } = await CustomerServices.getReceptionDetail(params);\r\n+            console.log(data, \"dataaa\");\r\n+            setDetail(data?.token)\r\n+            setValue1(\"customer\", data?.token?.customer_name);\r\n+            setValue1(\"invoice_date\", moment().toDate());\r\n+            setValue1(\"mobile\", data?.token?.mobile);\r\n+            setValue1(\"ref\", data?.token?.reference);\r\n+            setValue1(\"display_customer\", data?.token?.customer_name);\r\n+            setValue1(\"email\", data?.token?.email);\r\n+            setValue1(\"address\", data?.token?.address);\r\n+            setValue1(\"trn\", data?.token?.trn);\r\n+            setValue1(\"cost_center\", data?.token?.cost_center);\r\n \r\n-        items: rows\r\n-      };\r\n-      console.log(formData, \"formData\");\r\n-      const promise = CustomerServices.CreateSaleReceipt(obj);\r\n+            setAccounts(data?.accounts?.rows);\r\n+        } catch (error) {\r\n+            ErrorToaster(error);\r\n+        } finally {\r\n+            // setLoader(false)\r\n+        }\r\n+    };\r\n \r\n-      showPromiseToast(\r\n-        promise,\r\n-        \"Saving...\",\r\n-        \"Added Successfully\",\r\n-        \"Something Went Wrong\"\r\n-      );\r\n-      const response = await promise;\r\n-      if (response?.responseCode === 200) {\r\n-        navigate(\"/pre-sales\");\r\n-      }\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    }\r\n-  };\r\n+    const getServiceItem = async () => {\r\n+        // setLoader(true)\r\n+        try {\r\n+            let params = {\r\n+                page: 1,\r\n+                limit: 1000,\r\n+            };\r\n \r\n-  // *For Get Account\r\n-  const getReceptionDetail = async (state) => {\r\n-    try {\r\n-      let params = {\r\n-        token_number: getValues1(\"token\"),\r\n-      };\r\n-      if(state){\r\n-         params = {\r\n-            token_number: getValues1(\"invoicenumber\"),\r\n-          };\r\n-      }\r\n-      const { data } = await CustomerServices.getReceptionDetail(params);\r\n-      console.log(data, \"dataaa\");\r\n-      setDetail(data?.token)\r\n-      setValue1(\"customer\", data?.token?.customer_name);\r\n-      setValue1(\"invoice_date\", moment().toDate());\r\n-      setValue1(\"mobile\", data?.token?.mobile);\r\n-      setValue1(\"ref\", data?.token?.reference);\r\n-      setValue1(\"display_customer\", data?.token?.customer_name);\r\n-      setValue1(\"email\", data?.token?.email);\r\n-      setValue1(\"address\", data?.token?.address);\r\n-      setValue1(\"trn\", data?.token?.trn);\r\n-      setValue1(\"cost_center\", data?.token?.cost_center);\r\n+            const { data } = await CustomerServices.getServiceItem(params);\r\n \r\n-      setAccounts(data?.accounts?.rows);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n+            setServices(data?.rows);\r\n+        } catch (error) {\r\n+            ErrorToaster(error);\r\n+        } finally {\r\n+            // setLoader(false)\r\n+        }\r\n+    };\r\n+    const handleServiceSelect = async (value) => {\r\n+        console.log(value, \"idididid\");\r\n+        setServiceItem(value);\r\n+        // setLoader(true)\r\n+        try {\r\n+            let params = {\r\n+                service_id: value?.id,\r\n+            };\r\n \r\n-  const getServiceItem = async () => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n+            const { data } = await CustomerServices.DetailServiceItem(params);\r\n+            setValue(\"item_code\", data?.service?.id);\r\n+            setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n+            setValue(\"center_fee\", data?.service?.center_fee);\r\n+            setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n \r\n-      const { data } = await CustomerServices.getServiceItem(params);\r\n+            setValue(\"qty\", 1);\r\n+        } catch (error) {\r\n+            ErrorToaster(error);\r\n+        } finally {\r\n+            // setLoader(false)\r\n+        }\r\n+    };\r\n \r\n-      setServices(data?.rows);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const handleServiceSelect = async (value) => {\r\n-    console.log(value, \"idididid\");\r\n-    setServiceItem(value);\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        service_id: value?.id,\r\n-      };\r\n+    const getAccounts = async (page, limit, filter) => {\r\n+        // setLoader(true)\r\n+        try {\r\n+            let params = {\r\n+                page: 1,\r\n+                limit: 1000,\r\n+            };\r\n \r\n-      const { data } = await CustomerServices.DetailServiceItem(params);\r\n-      setValue(\"item_code\", data?.service?.id);\r\n-      setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n-      setValue(\"center_fee\", data?.service?.center_fee);\r\n-      setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n+            const { data } = await FinanceServices.getAccounts(params);\r\n+            console.log(data?.accounts?.rows);\r\n \r\n-      setValue(\"qty\", 1);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n+            setAccounts(data?.accounts?.rows);\r\n+        } catch (error) {\r\n+            ErrorToaster(error);\r\n+        } finally {\r\n+            // setLoader(false)\r\n+        }\r\n+    };\r\n+    const getTax = async () => {\r\n+        // setLoader(true)\r\n+        try {\r\n+            let params = {\r\n+                page: 1,\r\n+                limit: 1000,\r\n+            };\r\n \r\n-  const getAccounts = async (page, limit, filter) => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n+            const { data } = await FinanceServices.getTax(params);\r\n+            console.log(data?.accounts?.rows);\r\n \r\n-      const { data } = await FinanceServices.getAccounts(params);\r\n-      console.log(data?.accounts?.rows);\r\n+            setTaxes(data?.tax);\r\n+        } catch (error) {\r\n+            ErrorToaster(error);\r\n+        } finally {\r\n+            // setLoader(false)\r\n+        }\r\n+    };\r\n+    const getCategories = async () => {\r\n+        // setLoader(true)\r\n+        try {\r\n+            let params = {\r\n+                page: 1,\r\n+                limit: 1000,\r\n+            };\r\n \r\n-      setAccounts(data?.accounts?.rows);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const getTax = async () => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n+            const { data } = await CustomerServices.getCategoryList(params);\r\n \r\n-      const { data } = await FinanceServices.getTax(params);\r\n-      console.log(data?.accounts?.rows);\r\n+            setCategories(data?.categories);\r\n+        } catch (error) {\r\n+            ErrorToaster(error);\r\n+        } finally {\r\n+            // setLoader(false)\r\n+        }\r\n+    };\r\n \r\n-      setTaxes(data?.tax);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const getCategories = async () => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n+    useEffect(() => {\r\n+        getAccounts();\r\n+        getTax();\r\n+        getCategories();\r\n+        getServiceItem();\r\n+        setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" })\r\n+        setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n+    }, []);\r\n \r\n-      const { data } = await CustomerServices.getCategoryList(params);\r\n+    return (\r\n+        <>\r\n+            <Box sx={{ width: \"100%\" }}></Box>\r\n+            <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n+                {\r\n+                    <>\r\n+                        <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n+                            <Box\r\n+                                sx={{\r\n+                                    display: \"flex\",\r\n+                                    justifyContent: \"space-between\",\r\n+                                    gap: \"10px\",\r\n+                                    p: 3,\r\n+                                    alignItems: \"flex-end\",\r\n+                                }}\r\n+                            >\r\n+                                <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n+                                    Sales Receipt\r\n+                                </Typography>\r\n+                            </Box>\r\n \r\n-      setCategories(data?.categories);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n+                            <Box sx={{ p: 3 }}>\r\n+                                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                                    <Grid item xs={12}>\r\n+                                        <Grid container>\r\n+                                            <Grid item md={3} sm={12} xs={12}>\r\n+                                                <InputField\r\n+                                                    label=\"Token\"\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Enter Token\"\r\n+                                                    register={register1(\"token\")}\r\n+                                                    InputProps={{\r\n+                                                        endAdornment: (\r\n+                                                            <IconButton onClick={getReceptionDetail}>\r\n+                                                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                                                            </IconButton>\r\n+                                                        ),\r\n+                                                    }}\r\n+                                                />\r\n+                                            </Grid>\r\n+                                            <Grid item md={3} sm={12} xs={12}>\r\n+                                                <InputField\r\n+                                                    label=\"Invoice Number\"\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Invoice Number\"\r\n+                                                    register={register1(\"invoicenumber\")}\r\n+                                                    InputProps={{\r\n+                                                        endAdornment: (\r\n+                                                            <IconButton onClick={getReceptionDetail}>\r\n+                                                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                                                            </IconButton>\r\n+                                                        ),\r\n+                                                    }}\r\n+                                                />\r\n+                                            </Grid>\r\n+                                        </Grid>\r\n+                                    </Grid>\r\n \r\n-  useEffect(() => {\r\n-    getAccounts();\r\n-    getTax();\r\n-    getCategories();\r\n-    getServiceItem();\r\n-    setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" })\r\n-    setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n-  }, []);\r\n+                                    <Grid\r\n+                                        item\r\n+                                        md={5.5}\r\n+                                        sm={12}\r\n+                                        xs={12}\r\n+                                        sx={{\r\n+                                            border: \"2px solid black\",\r\n+                                            p: 2,\r\n+                                            borderRadius: \"15px\",\r\n+                                        }}\r\n+                                    >\r\n+                                        <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                                           \r\n+                                            <Grid item xs={5.7}>\r\n+                                                <DatePicker\r\n+                                                    label={\"Invoice Date :*\"}\r\n+                                                    value={date}\r\n+                                                    size={'small'}\r\n \r\n-  return (\r\n-    <>\r\n-      <Box sx={{ width: \"100%\" }}></Box>\r\n-      <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n-        {\r\n-          <>\r\n-            <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n-              <Box\r\n-                sx={{\r\n-                  display: \"flex\",\r\n-                  justifyContent: \"space-between\",\r\n-                  gap: \"10px\",\r\n-                  p: 3,\r\n-                  alignItems: \"flex-end\",\r\n-                }}\r\n-              >\r\n-                <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n-                  Sales Receipt\r\n-                </Typography>\r\n-              </Box>\r\n+                                                    error={errors1?.date?.message}\r\n+                                                    register={register1(\"date\", {\r\n+                                                        required:\r\n+                                                            date ? false :\r\n+                                                                \"please enter  date.\"\r\n \r\n-              <Box sx={{ p: 3 }}>\r\n-                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                  <Grid item xs={12}>\r\n-                    <Grid container>\r\n-                      <Grid item md={3} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Token\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Enter Token\"\r\n-                          register={register1(\"token\")}\r\n-                          InputProps={{\r\n-                            endAdornment: (\r\n-                              <IconButton onClick={getReceptionDetail}>\r\n-                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n-                              </IconButton>\r\n-                            ),\r\n-                          }}\r\n-                        />\r\n-                      </Grid>\r\n-                      <Grid item md={3} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Invoice Number\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Invoice Number\"\r\n-                          register={register1(\"invoicenumber\")}\r\n-                          InputProps={{\r\n-                            endAdornment: (\r\n-                              <IconButton onClick={getReceptionDetail}>\r\n-                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n-                              </IconButton>\r\n-                            ),\r\n-                          }}\r\n-                        />\r\n-                      </Grid>\r\n-                    </Grid>\r\n-                  </Grid>\r\n+                                                    })}\r\n+                                                    onChange={(date) => {\r\n \r\n-                  <Grid\r\n-                    item\r\n-                    md={5.5}\r\n-                    sm={12}\r\n-                    xs={12}\r\n-                    sx={{\r\n-                      border: \"2px solid black\",\r\n-                      p: 2,\r\n-                      borderRadius: \"15px\",\r\n-                    }}\r\n-                  >\r\n-                    <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Invoice No\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"TSL/83540\"\r\n-                          register={register1(\"invoice_no\")}\r\n-                        />\r\n-                      </Grid>\r\n-                      <Grid item xs={5.7}>\r\n-                        <DatePicker\r\n-                          label={\"Invoice Date :*\"}\r\n-                          value={date}\r\n-                          size={'small'}\r\n+                                                        setValue1('date', date)\r\n+                                                        setDate(new Date(date));\r\n \r\n-                          error={errors1?.date?.message}\r\n-                          register={register1(\"date\", {\r\n-                            required:\r\n-                              date ? false :\r\n-                                \"please enter  date.\"\r\n+                                                    }\r\n \r\n-                          })}\r\n-                          onChange={(date) => {\r\n+                                                    }\r\n+                                                /></Grid>\r\n \r\n-                            setValue1('date', date)\r\n-                            setDate(new Date(date));\r\n+                                            <Grid item xs={5.7} >\r\n+                                                <SelectField\r\n+                                                    size={'small'}\r\n+                                                    label={'Customer *:'}\r\n+                                                    disabled={true}\r\n+                                                    options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n+                                                    selected={selectedCustomer}\r\n+                                                    onSelect={(value) => {\r\n+                                                        setSelectedCustomer(value)\r\n \r\n-                          }\r\n \r\n-                          }\r\n-                        /></Grid>\r\n+                                                    }}\r\n+                                                    error={errors1?.customer?.message}\r\n+                                                    register={register1(\"customer\", {\r\n+                                                        required: false,\r\n+                                                    })}\r\n+                                                />\r\n+                                            </Grid>\r\n \r\n-                      <Grid item xs={5.7} >\r\n-                        <SelectField\r\n-                          size={'small'}\r\n-                          label={'Customer *:'}\r\n-                          disabled={true}\r\n-                          options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n-                          selected={selectedCustomer}\r\n-                          onSelect={(value) => {\r\n-                            setSelectedCustomer(value)\r\n \r\n \r\n-                          }}\r\n-                          error={errors1?.customer?.message}\r\n-                          register={register1(\"customer\", {\r\n-                            required: false,\r\n-                          })}\r\n-                        />\r\n-                      </Grid>\r\n+                                        </Grid>\r\n+                                    </Grid>\r\n+                                    <Grid\r\n+                                        item\r\n+                                        md={5.5}\r\n+                                        sm={12}\r\n+                                        xs={12}\r\n+                                        sx={{\r\n+                                            border: \"2px solid black\",\r\n+                                            p: 2,\r\n+                                            borderRadius: \"15px\",\r\n+                                            mt: { md: 0, sm: 2, xs: 2 },\r\n+                                        }}\r\n+                                    >\r\n+                                        <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                                            <Grid item md={5.7} sm={12} xs={12}>\r\n+                                                <InputField\r\n+                                                    label=\"Display Customer\"\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Walk-in Customer\"\r\n+                                                    register={register1(\"display_customer\", {\r\n+                                                        required: 'please enter display name.'\r\n+                                                    })}\r\n+                                                    error={errors1?.display_customer?.message}\r\n+                                                />\r\n+                                            </Grid>\r\n \r\n+                                            <Grid item md={5.7} sm={12} xs={12}>\r\n+                                                <InputField\r\n+                                                    label=\"Mobile\"\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Mobile No\"\r\n \r\n+                                                    register={register1(\"mobile\", {\r\n+                                                        required: 'please enter mobile .'\r\n+                                                    })}\r\n+                                                    error={errors1?.display_customer?.message}\r\n+                                                />\r\n+                                            </Grid>\r\n \r\n-                    </Grid>\r\n-                  </Grid>\r\n-                  <Grid\r\n-                    item\r\n-                    md={5.5}\r\n-                    sm={12}\r\n-                    xs={12}\r\n-                    sx={{\r\n-                      border: \"2px solid black\",\r\n-                      p: 2,\r\n-                      borderRadius: \"15px\",\r\n-                      mt: { md: 0, sm: 2, xs: 2 },\r\n-                    }}\r\n-                  >\r\n-                    <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Display Customer\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Walk-in Customer\"\r\n-                          register={register1(\"display_customer\", {\r\n-                            required: 'please enter display name.'\r\n-                          })}\r\n-                          error={errors1?.display_customer?.message}\r\n-                        />\r\n-                      </Grid>\r\n+                                            <Grid item md={5.7} sm={12} xs={12}>\r\n+                                                <InputField\r\n+                                                    label=\"Email\"\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Email\"\r\n \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Mobile\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Mobile No\"\r\n+                                                    register={register1(\"email\", {\r\n+                                                        required: 'please enter email .'\r\n+                                                    })}\r\n+                                                    error={errors1?.email?.message}\r\n+                                                />\r\n+                                            </Grid>\r\n \r\n-                          register={register1(\"mobile\", {\r\n-                            required: 'please enter mobile .'\r\n-                          })}\r\n-                          error={errors1?.display_customer?.message}\r\n-                        />\r\n-                      </Grid>\r\n+                                            <Grid item md={5.7} sm={12} xs={12}>\r\n+                                                <InputField\r\n+                                                    label=\"TRN\"\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"TRN\"\r\n \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Email\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Email\"\r\n \r\n-                          register={register1(\"email\", {\r\n-                            required: 'please enter email .'\r\n-                          })}\r\n-                          error={errors1?.email?.message}\r\n-                        />\r\n-                      </Grid>\r\n+                                                    register={register1(\"trn\", {\r\n+                                                        required: 'please enter trn .'\r\n+                                                    })}\r\n+                                                    error={errors1?.trn?.message}\r\n+                                                />\r\n+                                            </Grid>\r\n \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"TRN\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"TRN\"\r\n+                                            <Grid item md={5.7} sm={12} xs={12}>\r\n+                                                <InputField\r\n+                                                    label=\"Ref\"\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Reference\"\r\n+                                                    register={register1(\"ref\")}\r\n+                                                />\r\n+                                            </Grid>\r\n \r\n+                                            <Grid item md={5.7} sm={12} xs={12}>\r\n+                                                <SelectField\r\n+                                                    label=\"Cost Center\"\r\n+                                                    size=\"small\"\r\n+                                                    options={[{ id: 'DED', name: 'DED' }]}\r\n+                                                    selected={watch1(\"cost_center\")}\r\n+                                                    onSelect={(value) => setValue1(\"cost_center\", value)}\r\n \r\n-                          register={register1(\"trn\", {\r\n-                            required: 'please enter trn .'\r\n-                          })}\r\n-                          error={errors1?.trn?.message}\r\n-                        />\r\n-                      </Grid>\r\n+                                                    register={register1(\"cost_center\", {\r\n+                                                        required: 'please enter cost center .'\r\n+                                                    })}\r\n+                                                    error={errors1?.cost_center?.message}\r\n+                                                />\r\n+                                            </Grid>\r\n+                                            <Grid item md={5.7} sm={12} xs={12}>\r\n+                                                <InputField\r\n+                                                    label=\"Address\"\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Address\"\r\n+                                                    multiline\r\n+                                                    rows={2}\r\n \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Ref\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Reference\"\r\n-                          register={register1(\"ref\")}\r\n-                        />\r\n-                      </Grid>\r\n-                     \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <SelectField\r\n-                          label=\"Cost Center\"\r\n-                          size=\"small\"\r\n-                          options={[ { id: 'DED', name: 'DED' }]}\r\n-                          selected={watch1(\"cost_center\")}\r\n-                          onSelect={(value) => setValue1(\"cost_center\", value)}\r\n+                                                    register={register1(\"address\", {\r\n+                                                        required: 'please enter address .'\r\n+                                                    })}\r\n+                                                    error={errors1?.address?.message}\r\n+                                                />\r\n+                                            </Grid>\r\n+                                        </Grid>\r\n+                                    </Grid>\r\n \r\n-                          register={register1(\"cost_center\", {\r\n-                            required: 'please enter cost center .'\r\n-                          })}\r\n-                          error={errors1?.cost_center?.message}\r\n-                        />\r\n-                      </Grid>\r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Address\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Address\"\r\n-                          multiline\r\n-                          rows={2}\r\n+                                    {/* </Grid> */}\r\n+                                    <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n+                                        <Button\r\n+                                            type=\"submit\"\r\n+                                            disabled={rows?.length == 0}\r\n+                                            variant=\"contained\"\r\n+                                            sx={{\r\n+                                                textTransform: 'capitalize',\r\n+                                                backgroundColor: \"#bd9b4a\",\r\n+                                                \":hover\": {\r\n+                                                    backgroundColor: \"rgb(189 155 74)\",\r\n+                                                },\r\n+                                            }}\r\n+                                        >\r\n+                                            Create\r\n+                                        </Button>\r\n+                                    </Grid>\r\n+                                </Grid>\r\n+                            </Box>\r\n+                        </Box>\r\n \r\n-                          register={register1(\"address\", {\r\n-                            required: 'please enter address .'\r\n-                          })}\r\n-                          error={errors1?.address?.message}\r\n-                        />\r\n-                      </Grid>\r\n-                    </Grid>\r\n-                  </Grid>\r\n \r\n-                  {/* </Grid> */}\r\n-                  <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n-                    <Button\r\n-                      type=\"submit\"\r\n-                      disabled={rows?.length == 0}\r\n-                      variant=\"contained\"\r\n-                      sx={{\r\n-                        textTransform: 'capitalize',\r\n-                        backgroundColor: \"#bd9b4a\",\r\n-                        \":hover\": {\r\n-                          backgroundColor: \"rgb(189 155 74)\",\r\n-                        },\r\n-                      }}\r\n-                    >\r\n-                      Create\r\n-                    </Button>\r\n-                  </Grid>\r\n-                </Grid>\r\n-              </Box>\r\n-            </Box>\r\n+                        <form onSubmit={handleSubmit(addItem)}>\r\n+                            <TableContainer component={Paper}>\r\n+                                <Table>\r\n+                                    <TableHead>\r\n+                                        <TableRow>\r\n+                                            <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n+                                            <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n+                                            <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n+                                            <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n+                                            <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n+                                            <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n \r\n+                                            <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n+                                            <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n+                                        </TableRow>\r\n+                                    </TableHead>\r\n+                                    <TableBody>\r\n+                                        <TableRow>\r\n+                                            <TableCell>\r\n+                                                <InputField\r\n+                                                    size=\"small\"\r\n+                                                    disabled={true}\r\n+                                                    placeholder=\"Item code\"\r\n+                                                    register={register(\"item_code\", { required: \"Item code is required\" })}\r\n+                                                />\r\n+                                                {errors.item_code && <span>{errors.item_code.message}</span>}\r\n+                                            </TableCell>\r\n+                                            <TableCell>\r\n+                                                <SelectField\r\n+                                                    size=\"small\"\r\n+                                                    options={services}\r\n+                                                    selected={serviceItem}\r\n+                                                    onSelect={handleServiceSelect}\r\n+                                                    //  error={errors?.service?.message}\r\n+                                                    register={register(\"service\", {\r\n+                                                        required: \"Please select a service.\",\r\n+                                                    })}\r\n+                                                />\r\n+                                                {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n+                                            </TableCell>\r\n+                                            <TableCell>\r\n+                                                <InputField\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Quantity\"\r\n+                                                    type=\"number\"\r\n+                                                    register={register(\"qty\", { required: \"Quantity is required\" })}\r\n+                                                />\r\n+                                                {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n+                                            </TableCell>\r\n+                                            <TableCell>\r\n+                                                <InputField\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Govt fee\"\r\n+                                                    type=\"number\"\r\n+                                                    register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n+                                                />\r\n+                                                {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n+                                            </TableCell>\r\n+                                            <TableCell>\r\n+                                                <InputField\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Center Fee\"\r\n+                                                    type=\"number\"\r\n+                                                    register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n+                                                />\r\n+                                                {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n+                                            </TableCell>\r\n+                                            <TableCell>\r\n+                                                <InputField\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Bank Charges\"\r\n+                                                    type=\"number\"\r\n+                                                    register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n+                                                    disabled\r\n+                                                />\r\n+                                                {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n \r\n-            <form onSubmit={handleSubmit(addItem)}>\r\n-              <TableContainer component={Paper}>\r\n-                <Table>\r\n-                  <TableHead>\r\n-                    <TableRow>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n+                                            </TableCell>\r\n \r\n-                      <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n-                    </TableRow>\r\n-                  </TableHead>\r\n-                  <TableBody>\r\n-                    <TableRow>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          disabled={true}\r\n-                          placeholder=\"Item code\"\r\n-                          register={register(\"item_code\", { required: \"Item code is required\" })}\r\n-                        />\r\n-                        {errors.item_code && <span>{errors.item_code.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <SelectField\r\n-                          size=\"small\"\r\n-                          options={services}\r\n-                          selected={serviceItem}\r\n-                          onSelect={handleServiceSelect}\r\n-                          //  error={errors?.service?.message}\r\n-                          register={register(\"service\", {\r\n-                            required: \"Please select a service.\",\r\n-                          })}\r\n-                        />\r\n-                        {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Quantity\"\r\n-                          type=\"number\"\r\n-                          register={register(\"qty\", { required: \"Quantity is required\" })}\r\n-                        />\r\n-                        {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Govt fee\"\r\n-                          type=\"number\"\r\n-                          register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n-                        />\r\n-                        {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Center Fee\"\r\n-                          type=\"number\"\r\n-                          register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n-                        />\r\n-                        {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Bank Charges\"\r\n-                          type=\"number\"\r\n-                          register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n-                          disabled\r\n-                        />\r\n-                        {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n+                                            <TableCell>\r\n+                                                <InputField\r\n+                                                    disabled={true}\r\n+                                                    style={{ border: \"none\" }}\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Narration\"\r\n+                                                    register={register(\"total\")}\r\n+                                                />\r\n+                                            </TableCell>\r\n+                                            <TableCell>\r\n+                                                <Button\r\n+                                                    variant=\"contained\"\r\n+                                                    color=\"primary\"\r\n+                                                    type=\"submit\"\r\n+                                                    sx={{\r\n+                                                        textTransform: 'capitalize',\r\n+                                                        backgroundColor: \"rgb(189 155 74)\",\r\n+                                                        fontSize: \"12px\",\r\n+                                                        \":hover\": {\r\n+                                                            backgroundColor: \"rgb(189 155 74)\",\r\n+                                                        },\r\n+                                                    }}\r\n+                                                >\r\n+                                                    Add Item\r\n+                                                </Button>\r\n+                                            </TableCell>\r\n+                                        </TableRow>\r\n \r\n-                      </TableCell>\r\n+                                        {rows.map((item, index) => (\r\n+                                            <TableRow key={index}>\r\n+                                                <TableCell>{item?.item_code}</TableCell>\r\n+                                                <TableCell>{item?.service}</TableCell>\r\n+                                                <TableCell>{item?.qty}</TableCell>\r\n+                                                <TableCell>{item?.govt_fee}</TableCell>\r\n+                                                <TableCell>{item?.center_fee}</TableCell>\r\n+                                                <TableCell>{item?.bank_charges}</TableCell>\r\n \r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          disabled={true}\r\n-                          style={{ border: \"none\" }}\r\n-                          size=\"small\"\r\n-                          placeholder=\"Narration\"\r\n-                          register={register(\"total\")}\r\n-                        />\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Button\r\n-                          variant=\"contained\"\r\n-                          color=\"primary\"\r\n-                          type=\"submit\"\r\n-                          sx={{\r\n-                            textTransform: 'capitalize',\r\n-                            backgroundColor: \"rgb(189 155 74)\",\r\n-                            fontSize: \"12px\",\r\n-                            \":hover\": {\r\n-                              backgroundColor: \"rgb(189 155 74)\",\r\n-                            },\r\n-                          }}\r\n-                        >\r\n-                          Add Item\r\n-                        </Button>\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n+                                                <TableCell>{item?.total}</TableCell>\r\n \r\n-                    {rows.map((item, index) => (\r\n-                      <TableRow key={index}>\r\n-                        <TableCell>{item?.item_code}</TableCell>\r\n-                        <TableCell>{item?.service}</TableCell>\r\n-                        <TableCell>{item?.qty}</TableCell>\r\n-                        <TableCell>{item?.govt_fee}</TableCell>\r\n-                        <TableCell>{item?.center_fee}</TableCell>\r\n-                        <TableCell>{item?.bank_charges}</TableCell>\r\n+                                            </TableRow>\r\n+                                        ))}\r\n \r\n-                        <TableCell>{item?.total}</TableCell>\r\n+                                        <TableRow>\r\n+                                            <TableCell colSpan={7} align=\"right\">\r\n+                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n+                                            </TableCell>\r\n+                                            <TableCell>\r\n+                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n+                                            </TableCell>\r\n+                                        </TableRow>\r\n \r\n-                      </TableRow>\r\n-                    ))}\r\n-\r\n-                    <TableRow>\r\n-                      <TableCell colSpan={7} align=\"right\">\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n-\r\n-                    {/* Amount Total Row (optional, if needed for the final sum) */}\r\n-                    <TableRow>\r\n-                      <TableCell colSpan={7} align=\"right\">\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n-                  </TableBody>\r\n-                </Table>\r\n-              </TableContainer>\r\n-            </form>\r\n-          </>\r\n-        }\r\n-      </Box>\r\n-    </>\r\n-  );\r\n+                                        {/* Amount Total Row (optional, if needed for the final sum) */}\r\n+                                        <TableRow>\r\n+                                            <TableCell colSpan={7} align=\"right\">\r\n+                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n+                                            </TableCell>\r\n+                                            <TableCell>\r\n+                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n+                                            </TableCell>\r\n+                                        </TableRow>\r\n+                                    </TableBody>\r\n+                                </Table>\r\n+                            </TableContainer>\r\n+                        </form>\r\n+                    </>\r\n+                }\r\n+            </Box>\r\n+        </>\r\n+    );\r\n }\r\n \r\n export default CreateAldeed;\r\n"
                },
                {
                    "date": 1744634025518,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -422,9 +422,9 @@\n \r\n                             <Box sx={{ p: 3 }}>\r\n                                 <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                                     <Grid item xs={12}>\r\n-                                        <Grid container>\r\n+                                        <Grid container gap={2}>\r\n                                             <Grid item md={3} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Token\"\r\n                                                     size=\"small\"\r\n"
                },
                {
                    "date": 1744634120995,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -271,9 +271,9 @@\n                 token_number: getValues1(\"token\"),\r\n             };\r\n             if (state) {\r\n                 params = {\r\n-                    token_number: getValues1(\"invoicenumber\"),\r\n+                    invoice_number: getValues1(\"invoicenumber\"),\r\n                 };\r\n             }\r\n             const { data } = await CustomerServices.getReceptionDetail(params);\r\n             console.log(data, \"dataaa\");\r\n"
                },
                {
                    "date": 1744634131723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -446,9 +446,9 @@\n                                                     placeholder=\"Invoice Number\"\r\n                                                     register={register1(\"invoicenumber\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n-                                                            <IconButton onClick={getReceptionDetail}>\r\n+                                                            <IconButton onClick={getReceptionDetail(true)}>\r\n                                                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n                                                             </IconButton>\r\n                                                         ),\r\n                                                     }}\r\n"
                },
                {
                    "date": 1744634278436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -431,9 +431,9 @@\n                                                     placeholder=\"Enter Token\"\r\n                                                     register={register1(\"token\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n-                                                            <IconButton onClick={getReceptionDetail}>\r\n+                                                            <IconButton onClick={()=> getReceptionDetail()}>\r\n                                                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n                                                             </IconButton>\r\n                                                         ),\r\n                                                     }}\r\n"
                },
                {
                    "date": 1744634285273,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -446,9 +446,9 @@\n                                                     placeholder=\"Invoice Number\"\r\n                                                     register={register1(\"invoicenumber\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n-                                                            <IconButton onClick={getReceptionDetail(true)}>\r\n+                                                            <IconButton onClick={()=> getReceptionDetail(true)}>\r\n                                                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n                                                             </IconButton>\r\n                                                         ),\r\n                                                     }}\r\n"
                },
                {
                    "date": 1744634347312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -593,9 +593,9 @@\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <SelectField\r\n                                                     label=\"Cost Center\"\r\n                                                     size=\"small\"\r\n-                                                    options={[{ id: 'DED', name: 'DED' }]}\r\n+                                                    options={[{ id: 'Al-DED', name: 'Al-DED' }]}\r\n                                                     selected={watch1(\"cost_center\")}\r\n                                                     onSelect={(value) => setValue1(\"cost_center\", value)}\r\n \r\n                                                     register={register1(\"cost_center\", {\r\n"
                },
                {
                    "date": 1744634715097,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -579,9 +579,21 @@\n                                                     })}\r\n                                                     error={errors1?.trn?.message}\r\n                                                 />\r\n                                             </Grid>\r\n+                                            <Grid item md={5.7} sm={12} xs={12}>\r\n+                                                <InputField\r\n+                                                    label=\"Case No\"\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"TRN\"\r\n \r\n+\r\n+                                                    register={register1(\"trn\", {\r\n+                                                        required: 'please enter trn .'\r\n+                                                    })}\r\n+                                                    error={errors1?.trn?.message}\r\n+                                                />\r\n+                                            </Grid>\r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Ref\"\r\n                                                     size=\"small\"\r\n"
                },
                {
                    "date": 1744634723197,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -583,9 +583,9 @@\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Case No\"\r\n                                                     size=\"small\"\r\n-                                                    placeholder=\"TRN\"\r\n+                                                    placeholder=\"Case NO\"\r\n \r\n \r\n                                                     register={register1(\"trn\", {\r\n                                                         required: 'please enter trn .'\r\n"
                },
                {
                    "date": 1744634732760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -583,15 +583,15 @@\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Case No\"\r\n                                                     size=\"small\"\r\n-                                                    placeholder=\"Case NO\"\r\n+                                                    placeholder=\"Case No\"\r\n \r\n \r\n-                                                    register={register1(\"trn\", {\r\n-                                                        required: 'please enter trn .'\r\n+                                                    register={register1(\"caseno\", {\r\n+                                                        required: 'please enter caseno .'\r\n                                                     })}\r\n-                                                    error={errors1?.trn?.message}\r\n+                                                    error={errors1?.caseno?.message}\r\n                                                 />\r\n                                             </Grid>\r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n"
                },
                {
                    "date": 1744634782815,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,8 +236,9 @@\n                 token_number: formData?.token,\r\n                 token_date: date,\r\n                 invoice_prefix: \"AAD\",\r\n                 cost_center: formData?.cost_center,\r\n+                case_number:formData?.caseno,\r\n                 customer_name: formData?.display_customer,\r\n                 reception_id: detail?.id,\r\n                 customer_mobile: formData?.mobile,\r\n                 customer_email: formData?.email,\r\n"
                },
                {
                    "date": 1744634797074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,8 +236,9 @@\n                 token_number: formData?.token,\r\n                 token_date: date,\r\n                 invoice_prefix: \"AAD\",\r\n                 cost_center: formData?.cost_center,\r\n+                trn:formData?.trn,\r\n                 case_number:formData?.caseno,\r\n                 customer_name: formData?.display_customer,\r\n                 reception_id: detail?.id,\r\n                 customer_mobile: formData?.mobile,\r\n"
                },
                {
                    "date": 1744634843679,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,9 +235,9 @@\n             let obj = {\r\n                 token_number: formData?.token,\r\n                 token_date: date,\r\n                 invoice_prefix: \"AAD\",\r\n-                cost_center: formData?.cost_center,\r\n+                cost_center: formData?.cost_center?.id,\r\n                 trn:formData?.trn,\r\n                 case_number:formData?.caseno,\r\n                 customer_name: formData?.display_customer,\r\n                 reception_id: detail?.id,\r\n"
                },
                {
                    "date": 1744634855794,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,9 +248,9 @@\n \r\n                 items: rows\r\n             };\r\n             console.log(formData, \"formData\");\r\n-            const promise = CustomerServices.CreateSaleReceipt(obj);\r\n+            const promise = CustomerServices.CreateAlDed(obj);\r\n \r\n             showPromiseToast(\r\n                 promise,\r\n                 \"Saving...\",\r\n"
                },
                {
                    "date": 1744634916246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -258,9 +258,9 @@\n                 \"Something Went Wrong\"\r\n             );\r\n             const response = await promise;\r\n             if (response?.responseCode === 200) {\r\n-                navigate(\"/pre-sales\");\r\n+                navigate(\"/alded-list\");\r\n             }\r\n         } catch (error) {\r\n             ErrorToaster(error);\r\n         }\r\n"
                },
                {
                    "date": 1744635024125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -417,9 +417,9 @@\n                                     alignItems: \"flex-end\",\r\n                                 }}\r\n                             >\r\n                                 <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n-                                    Sales Receipt\r\n+                                    Create Al-DED\r\n                                 </Typography>\r\n                             </Box>\r\n \r\n                             <Box sx={{ p: 3 }}>\r\n"
                },
                {
                    "date": 1744662235762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,8 +455,16 @@\n                                                         ),\r\n                                                     }}\r\n                                                 />\r\n                                             </Grid>\r\n+                                            <Grid item md={3} sm={12} xs={12}>\r\n+                                            <PrimaryButton\r\n+                    bgcolor={'#bd9b4a'}\r\n+                    title=\"Create\"\r\n+                    onClick={() => { navigate('/create-aldeed'); localStorage.setItem(\"currentUrl\", '/create-customer') }}\r\n+                    loading={loading}\r\n+                />\r\n+                                            </Grid>\r\n                                         </Grid>\r\n                                     </Grid>\r\n \r\n                                     <Grid\r\n"
                },
                {
                    "date": 1744662245168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,10 +236,10 @@\n                 token_number: formData?.token,\r\n                 token_date: date,\r\n                 invoice_prefix: \"AAD\",\r\n                 cost_center: formData?.cost_center?.id,\r\n-                trn:formData?.trn,\r\n-                case_number:formData?.caseno,\r\n+                trn: formData?.trn,\r\n+                case_number: formData?.caseno,\r\n                 customer_name: formData?.display_customer,\r\n                 reception_id: detail?.id,\r\n                 customer_mobile: formData?.mobile,\r\n                 customer_email: formData?.email,\r\n@@ -433,9 +433,9 @@\n                                                     placeholder=\"Enter Token\"\r\n                                                     register={register1(\"token\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n-                                                            <IconButton onClick={()=> getReceptionDetail()}>\r\n+                                                            <IconButton onClick={() => getReceptionDetail()}>\r\n                                                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n                                                             </IconButton>\r\n                                                         ),\r\n                                                     }}\r\n@@ -448,22 +448,22 @@\n                                                     placeholder=\"Invoice Number\"\r\n                                                     register={register1(\"invoicenumber\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n-                                                            <IconButton onClick={()=> getReceptionDetail(true)}>\r\n+                                                            <IconButton onClick={() => getReceptionDetail(true)}>\r\n                                                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n                                                             </IconButton>\r\n                                                         ),\r\n                                                     }}\r\n                                                 />\r\n                                             </Grid>\r\n                                             <Grid item md={3} sm={12} xs={12}>\r\n-                                            <PrimaryButton\r\n-                    bgcolor={'#bd9b4a'}\r\n-                    title=\"Create\"\r\n-                    onClick={() => { navigate('/create-aldeed'); localStorage.setItem(\"currentUrl\", '/create-customer') }}\r\n-                    loading={loading}\r\n-                />\r\n+                                                <PrimaryButton\r\n+                                                    bgcolor={'#bd9b4a'}\r\n+                                                    title=\"Clear\"\r\n+                                                    onClick={() => { navigate('/create-aldeed'); localStorage.setItem(\"currentUrl\", '/create-customer') }}\r\n+                                                    loading={loading}\r\n+                                                />\r\n                                             </Grid>\r\n                                         </Grid>\r\n                                     </Grid>\r\n \r\n@@ -478,9 +478,9 @@\n                                             borderRadius: \"15px\",\r\n                                         }}\r\n                                     >\r\n                                         <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                                           \r\n+\r\n                                             <Grid item xs={5.7}>\r\n                                                 <DatePicker\r\n                                                     label={\"Invoice Date :*\"}\r\n                                                     value={date}\r\n"
                },
                {
                    "date": 1744662267557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -424,9 +424,9 @@\n \r\n                             <Box sx={{ p: 3 }}>\r\n                                 <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                                     <Grid item xs={12}>\r\n-                                        <Grid container gap={2}>\r\n+                                        <Grid container gap={2} alignItems={'center'}>\r\n                                             <Grid item md={3} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Token\"\r\n                                                     size=\"small\"\r\n"
                },
                {
                    "date": 1744662283294,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -424,9 +424,9 @@\n \r\n                             <Box sx={{ p: 3 }}>\r\n                                 <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                                     <Grid item xs={12}>\r\n-                                        <Grid container gap={2} alignItems={'center'}>\r\n+                                        <Grid container gap={2} alignItems={'flex-end'}>\r\n                                             <Grid item md={3} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Token\"\r\n                                                     size=\"small\"\r\n"
                },
                {
                    "date": 1744662293690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -424,9 +424,9 @@\n \r\n                             <Box sx={{ p: 3 }}>\r\n                                 <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                                     <Grid item xs={12}>\r\n-                                        <Grid container gap={2} alignItems={'flex-end'}>\r\n+                                        <Grid container gap={2} alignItems={'center'}>\r\n                                             <Grid item md={3} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Token\"\r\n                                                     size=\"small\"\r\n"
                },
                {
                    "date": 1744662304868,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -455,9 +455,9 @@\n                                                         ),\r\n                                                     }}\r\n                                                 />\r\n                                             </Grid>\r\n-                                            <Grid item md={3} sm={12} xs={12}>\r\n+                                            <Grid item md={3} sm={12} xs={12} mt={2}>\r\n                                                 <PrimaryButton\r\n                                                     bgcolor={'#bd9b4a'}\r\n                                                     title=\"Clear\"\r\n                                                     onClick={() => { navigate('/create-aldeed'); localStorage.setItem(\"currentUrl\", '/create-customer') }}\r\n"
                },
                {
                    "date": 1744662340629,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -193,8 +193,9 @@\n     });\r\n \r\n     const [center, setCenter] = useState(null);\r\n     const [status, setStatus] = useState(null);\r\n+    const [fieldsDisabled, setFieldsDisabled] = useState(false)\r\n \r\n     // *For Stepper Forms Data\r\n     const [stepFormData, setStepFormData] = useState();\r\n     const [step1FormData, setStep1FormData] = useState();\r\n"
                },
                {
                    "date": 1744662353813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -268,8 +268,9 @@\n     };\r\n \r\n     // *For Get Account\r\n     const getReceptionDetail = async (state) => {\r\n+        setFieldsDisabled(true)\r\n         try {\r\n             let params = {\r\n                 token_number: getValues1(\"token\"),\r\n             };\r\n"
                },
                {
                    "date": 1744662363673,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -185,14 +185,9 @@\n     const [loading, setLoading] = useState(false);\r\n     const [emailVerify, setEmailVerify] = useState(false);\r\n     const [isUploading, setIsUploading] = useState(false);\r\n     const [loader, setLoader] = useState(false);\r\n-    const [fieldsDisabled, setFieldsDisabled] = useState({\r\n-        monthlyVisaServiceCharges: false,\r\n-        vipMedical: false,\r\n-        extraTyping: true,\r\n-    });\r\n-\r\n+  \r\n     const [center, setCenter] = useState(null);\r\n     const [status, setStatus] = useState(null);\r\n     const [fieldsDisabled, setFieldsDisabled] = useState(false)\r\n \r\n"
                },
                {
                    "date": 1744662377069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -426,8 +426,9 @@\n                                             <Grid item md={3} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Token\"\r\n                                                     size=\"small\"\r\n+                                                    disabled={fieldsDisabled}\r\n                                                     placeholder=\"Enter Token\"\r\n                                                     register={register1(\"token\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n"
                },
                {
                    "date": 1744662383351,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -442,8 +442,9 @@\n                                             <Grid item md={3} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Invoice Number\"\r\n                                                     size=\"small\"\r\n+                                                    disabled={fieldsDisabled}\r\n                                                     placeholder=\"Invoice Number\"\r\n                                                     register={register1(\"invoicenumber\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n"
                },
                {
                    "date": 1744662412586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -458,9 +458,11 @@\n                                             <Grid item md={3} sm={12} xs={12} mt={2}>\r\n                                                 <PrimaryButton\r\n                                                     bgcolor={'#bd9b4a'}\r\n                                                     title=\"Clear\"\r\n-                                                    onClick={() => { navigate('/create-aldeed'); localStorage.setItem(\"currentUrl\", '/create-customer') }}\r\n+                                                    onClick={() => { \r\n+                                                        setFieldsDisabled(false)\r\n+                                                     }}\r\n                                                     loading={loading}\r\n                                                 />\r\n                                             </Grid>\r\n                                         </Grid>\r\n"
                },
                {
                    "date": 1744662424816,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -460,8 +460,9 @@\n                                                     bgcolor={'#bd9b4a'}\r\n                                                     title=\"Clear\"\r\n                                                     onClick={() => { \r\n                                                         setFieldsDisabled(false)\r\n+                                                        setValue1('token','')\r\n                                                      }}\r\n                                                     loading={loading}\r\n                                                 />\r\n                                             </Grid>\r\n"
                },
                {
                    "date": 1744662436817,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -461,8 +461,9 @@\n                                                     title=\"Clear\"\r\n                                                     onClick={() => { \r\n                                                         setFieldsDisabled(false)\r\n                                                         setValue1('token','')\r\n+                                                        setValue1('invoicenumber')\r\n                                                      }}\r\n                                                     loading={loading}\r\n                                                 />\r\n                                             </Grid>\r\n"
                },
                {
                    "date": 1744662454358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -461,9 +461,9 @@\n                                                     title=\"Clear\"\r\n                                                     onClick={() => { \r\n                                                         setFieldsDisabled(false)\r\n                                                         setValue1('token','')\r\n-                                                        setValue1('invoicenumber')\r\n+                                                        setValue1('invoicenumber','')\r\n                                                      }}\r\n                                                     loading={loading}\r\n                                                 />\r\n                                             </Grid>\r\n"
                },
                {
                    "date": 1744662545414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -462,8 +462,17 @@\n                                                     onClick={() => { \r\n                                                         setFieldsDisabled(false)\r\n                                                         setValue1('token','')\r\n                                                         setValue1('invoicenumber','')\r\n+                                                        setValue1(\"customer\", '');\r\n+                                                        setValue1(\"invoice_date\", '');\r\n+                                                        setValue1(\"mobile\", '');\r\n+                                                        setValue1(\"ref\", '');\r\n+                                                        setValue1(\"display_customer\", '');\r\n+                                                        setValue1(\"email\", '');\r\n+                                                        setValue1(\"address\", '');\r\n+                                                        setValue1(\"trn\", '');\r\n+                                                        setValue1(\"cost_center\", '');\r\n                                                      }}\r\n                                                     loading={loading}\r\n                                                 />\r\n                                             </Grid>\r\n"
                },
                {
                    "date": 1744662638648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -717,37 +717,58 @@\n                                                 />\r\n                                                 {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n                                             </TableCell>\r\n                                             <TableCell>\r\n-                                                <InputField\r\n-                                                    size=\"small\"\r\n-                                                    placeholder=\"Quantity\"\r\n-                                                    type=\"number\"\r\n-                                                    register={register(\"qty\", { required: \"Quantity is required\" })}\r\n-                                                />\r\n-                                                {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n-                                            </TableCell>\r\n+  <InputField\r\n+    size=\"small\"\r\n+    placeholder=\"Quantity\"\r\n+    type=\"number\"\r\n+    register={register(\"qty\", {\r\n+      required: \"Quantity is required\",\r\n+      min: {\r\n+        value: 0,\r\n+        message: \"Quantity must be at least 0\",\r\n+      },\r\n+    })}\r\n+  />\r\n+  {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n+</TableCell>\r\n+\r\n+<TableCell>\r\n+  <InputField\r\n+    size=\"small\"\r\n+    placeholder=\"Govt fee\"\r\n+    type=\"number\"\r\n+    register={register(\"govt_fee\", {\r\n+      required: \"Govt fee is required\",\r\n+      min: {\r\n+        value: 0,\r\n+        message: \"Govt fee must be at least 0\",\r\n+      },\r\n+    })}\r\n+  />\r\n+  {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n+</TableCell>\r\n+\r\n+<TableCell>\r\n+  <InputField\r\n+    size=\"small\"\r\n+    placeholder=\"Center Fee\"\r\n+    type=\"number\"\r\n+    register={register(\"center_fee\", {\r\n+      required: \"Center fee is required\",\r\n+      min: {\r\n+        value: 0,\r\n+        message: \"Center fee must be at least 0\",\r\n+      },\r\n+    })}\r\n+  />\r\n+  {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n+</TableCell>\r\n+\r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n-                                                    placeholder=\"Govt fee\"\r\n-                                                    type=\"number\"\r\n-                                                    register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n-                                                />\r\n-                                                {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n-                                            </TableCell>\r\n-                                            <TableCell>\r\n-                                                <InputField\r\n-                                                    size=\"small\"\r\n-                                                    placeholder=\"Center Fee\"\r\n-                                                    type=\"number\"\r\n-                                                    register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n-                                                />\r\n-                                                {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n-                                            </TableCell>\r\n-                                            <TableCell>\r\n-                                                <InputField\r\n-                                                    size=\"small\"\r\n                                                     placeholder=\"Bank Charges\"\r\n                                                     type=\"number\"\r\n                                                     register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n                                                     disabled\r\n"
                },
                {
                    "date": 1744662644481,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -185,9 +185,9 @@\n     const [loading, setLoading] = useState(false);\r\n     const [emailVerify, setEmailVerify] = useState(false);\r\n     const [isUploading, setIsUploading] = useState(false);\r\n     const [loader, setLoader] = useState(false);\r\n-  \r\n+\r\n     const [center, setCenter] = useState(null);\r\n     const [status, setStatus] = useState(null);\r\n     const [fieldsDisabled, setFieldsDisabled] = useState(false)\r\n \r\n@@ -458,12 +458,12 @@\n                                             <Grid item md={3} sm={12} xs={12} mt={2}>\r\n                                                 <PrimaryButton\r\n                                                     bgcolor={'#bd9b4a'}\r\n                                                     title=\"Clear\"\r\n-                                                    onClick={() => { \r\n+                                                    onClick={() => {\r\n                                                         setFieldsDisabled(false)\r\n-                                                        setValue1('token','')\r\n-                                                        setValue1('invoicenumber','')\r\n+                                                        setValue1('token', '')\r\n+                                                        setValue1('invoicenumber', '')\r\n                                                         setValue1(\"customer\", '');\r\n                                                         setValue1(\"invoice_date\", '');\r\n                                                         setValue1(\"mobile\", '');\r\n                                                         setValue1(\"ref\", '');\r\n@@ -471,9 +471,9 @@\n                                                         setValue1(\"email\", '');\r\n                                                         setValue1(\"address\", '');\r\n                                                         setValue1(\"trn\", '');\r\n                                                         setValue1(\"cost_center\", '');\r\n-                                                     }}\r\n+                                                    }}\r\n                                                     loading={loading}\r\n                                                 />\r\n                                             </Grid>\r\n                                         </Grid>\r\n@@ -717,54 +717,54 @@\n                                                 />\r\n                                                 {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n                                             </TableCell>\r\n                                             <TableCell>\r\n-  <InputField\r\n-    size=\"small\"\r\n-    placeholder=\"Quantity\"\r\n-    type=\"number\"\r\n-    register={register(\"qty\", {\r\n-      required: \"Quantity is required\",\r\n-      min: {\r\n-        value: 0,\r\n-        message: \"Quantity must be at least 0\",\r\n-      },\r\n-    })}\r\n-  />\r\n-  {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n-</TableCell>\r\n+                                                <InputField\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Quantity\"\r\n+                                                    type=\"number\"\r\n+                                                    register={register(\"qty\", {\r\n+                                                        required: \"Quantity is required\",\r\n+                                                        min: {\r\n+                                                            value: 0,\r\n+                                                            message: \"Quantity must be at least 0\",\r\n+                                                        },\r\n+                                                    })}\r\n+                                                />\r\n+                                                {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n+                                            </TableCell>\r\n \r\n-<TableCell>\r\n-  <InputField\r\n-    size=\"small\"\r\n-    placeholder=\"Govt fee\"\r\n-    type=\"number\"\r\n-    register={register(\"govt_fee\", {\r\n-      required: \"Govt fee is required\",\r\n-      min: {\r\n-        value: 0,\r\n-        message: \"Govt fee must be at least 0\",\r\n-      },\r\n-    })}\r\n-  />\r\n-  {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n-</TableCell>\r\n+                                            <TableCell>\r\n+                                                <InputField\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Govt fee\"\r\n+                                                    type=\"number\"\r\n+                                                    register={register(\"govt_fee\", {\r\n+                                                        required: \"Govt fee is required\",\r\n+                                                        min: {\r\n+                                                            value: 1,\r\n+                                                            message: \"Govt fee must be at least 0\",\r\n+                                                        },\r\n+                                                    })}\r\n+                                                />\r\n+                                                {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n+                                            </TableCell>\r\n \r\n-<TableCell>\r\n-  <InputField\r\n-    size=\"small\"\r\n-    placeholder=\"Center Fee\"\r\n-    type=\"number\"\r\n-    register={register(\"center_fee\", {\r\n-      required: \"Center fee is required\",\r\n-      min: {\r\n-        value: 0,\r\n-        message: \"Center fee must be at least 0\",\r\n-      },\r\n-    })}\r\n-  />\r\n-  {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n-</TableCell>\r\n+                                            <TableCell>\r\n+                                                <InputField\r\n+                                                    size=\"small\"\r\n+                                                    placeholder=\"Center Fee\"\r\n+                                                    type=\"number\"\r\n+                                                    register={register(\"center_fee\", {\r\n+                                                        required: \"Center fee is required\",\r\n+                                                        min: {\r\n+                                                            value: 0,\r\n+                                                            message: \"Center fee must be at least 0\",\r\n+                                                        },\r\n+                                                    })}\r\n+                                                />\r\n+                                                {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n+                                            </TableCell>\r\n \r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n"
                },
                {
                    "date": 1744662651244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -756,9 +756,9 @@\n                                                     type=\"number\"\r\n                                                     register={register(\"center_fee\", {\r\n                                                         required: \"Center fee is required\",\r\n                                                         min: {\r\n-                                                            value: 0,\r\n+                                                            value: 1,\r\n                                                             message: \"Center fee must be at least 0\",\r\n                                                         },\r\n                                                     })}\r\n                                                 />\r\n"
                },
                {
                    "date": 1744662924522,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -654,25 +654,9 @@\n                                             </Grid>\r\n                                         </Grid>\r\n                                     </Grid>\r\n \r\n-                                    {/* </Grid> */}\r\n-                                    <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n-                                        <Button\r\n-                                            type=\"submit\"\r\n-                                            disabled={rows?.length == 0}\r\n-                                            variant=\"contained\"\r\n-                                            sx={{\r\n-                                                textTransform: 'capitalize',\r\n-                                                backgroundColor: \"#bd9b4a\",\r\n-                                                \":hover\": {\r\n-                                                    backgroundColor: \"rgb(189 155 74)\",\r\n-                                                },\r\n-                                            }}\r\n-                                        >\r\n-                                            Create\r\n-                                        </Button>\r\n-                                    </Grid>\r\n+                                 \r\n                                 </Grid>\r\n                             </Box>\r\n                         </Box>\r\n \r\n@@ -724,9 +708,9 @@\n                                                     type=\"number\"\r\n                                                     register={register(\"qty\", {\r\n                                                         required: \"Quantity is required\",\r\n                                                         min: {\r\n-                                                            value: 0,\r\n+                                                            value: 1,\r\n                                                             message: \"Quantity must be at least 0\",\r\n                                                         },\r\n                                                     })}\r\n                                                 />\r\n"
                },
                {
                    "date": 1744662933792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -820,8 +820,25 @@\n                                             <TableCell>\r\n                                                 <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n+                                           {/* </Grid> */}\r\n+                                    <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n+                                        <Button\r\n+                                            type=\"submit\"\r\n+                                            disabled={rows?.length == 0}\r\n+                                            variant=\"contained\"\r\n+                                            sx={{\r\n+                                                textTransform: 'capitalize',\r\n+                                                backgroundColor: \"#bd9b4a\",\r\n+                                                \":hover\": {\r\n+                                                    backgroundColor: \"rgb(189 155 74)\",\r\n+                                                },\r\n+                                            }}\r\n+                                        >\r\n+                                            Create\r\n+                                        </Button>\r\n+                                    </Grid>\r\n                                     </TableBody>\r\n                                 </Table>\r\n                             </TableContainer>\r\n                         </form>\r\n"
                },
                {
                    "date": 1744663030195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -821,24 +821,27 @@\n                                                 <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n                                            {/* </Grid> */}\r\n-                                    <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n-                                        <Button\r\n-                                            type=\"submit\"\r\n-                                            disabled={rows?.length == 0}\r\n-                                            variant=\"contained\"\r\n-                                            sx={{\r\n-                                                textTransform: 'capitalize',\r\n-                                                backgroundColor: \"#bd9b4a\",\r\n-                                                \":hover\": {\r\n-                                                    backgroundColor: \"rgb(189 155 74)\",\r\n-                                                },\r\n-                                            }}\r\n-                                        >\r\n-                                            Create\r\n-                                        </Button>\r\n-                                    </Grid>\r\n+                                           <TableRow>\r\n+    <TableCell colSpan={8} align=\"center\"> {/* adjust colSpan to match total columns */}\r\n+        <Button\r\n+            type=\"submit\"\r\n+            disabled={rows?.length === 0}\r\n+            variant=\"contained\"\r\n+            sx={{\r\n+                textTransform: 'capitalize',\r\n+                backgroundColor: \"#bd9b4a\",\r\n+                \":hover\": {\r\n+                    backgroundColor: \"rgb(189 155 74)\",\r\n+                },\r\n+            }}\r\n+        >\r\n+            Create\r\n+        </Button>\r\n+    </TableCell>\r\n+</TableRow>\r\n+\r\n                                     </TableBody>\r\n                                 </Table>\r\n                             </TableContainer>\r\n                         </form>\r\n"
                },
                {
                    "date": 1744663047744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -654,9 +654,9 @@\n                                             </Grid>\r\n                                         </Grid>\r\n                                     </Grid>\r\n \r\n-                                 \r\n+\r\n                                 </Grid>\r\n                             </Box>\r\n                         </Box>\r\n \r\n@@ -820,27 +820,27 @@\n                                             <TableCell>\r\n                                                 <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n-                                           {/* </Grid> */}\r\n-                                           <TableRow>\r\n-    <TableCell colSpan={8} align=\"center\"> {/* adjust colSpan to match total columns */}\r\n-        <Button\r\n-            type=\"submit\"\r\n-            disabled={rows?.length === 0}\r\n-            variant=\"contained\"\r\n-            sx={{\r\n-                textTransform: 'capitalize',\r\n-                backgroundColor: \"#bd9b4a\",\r\n-                \":hover\": {\r\n-                    backgroundColor: \"rgb(189 155 74)\",\r\n-                },\r\n-            }}\r\n-        >\r\n-            Create\r\n-        </Button>\r\n-    </TableCell>\r\n-</TableRow>\r\n+                                        {/* </Grid> */}\r\n+                                        <TableRow>\r\n+                                            <TableCell colSpan={8} align=\"center\"> {/* adjust colSpan to match total columns */}\r\n+                                                <Button\r\n+                                                    type=\"submit\"\r\n+                                                    disabled={rows?.length === 0}\r\n+                                                    variant=\"contained\"\r\n+                                                    sx={{\r\n+                                                        textTransform: 'capitalize',\r\n+                                                        backgroundColor: \"#bd9b4a\",\r\n+                                                        \":hover\": {\r\n+                                                            backgroundColor: \"rgb(189 155 74)\",\r\n+                                                        },\r\n+                                                    }}\r\n+                                                >\r\n+                                                    Place Invoice\r\n+                                                </Button>\r\n+                                            </TableCell>\r\n+                                        </TableRow>\r\n \r\n                                     </TableBody>\r\n                                 </Table>\r\n                             </TableContainer>\r\n"
                },
                {
                    "date": 1744663054485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -827,8 +827,9 @@\n                                                 <Button\r\n                                                     type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n+                                                    fullWidth\r\n                                                     sx={{\r\n                                                         textTransform: 'capitalize',\r\n                                                         backgroundColor: \"#bd9b4a\",\r\n                                                         \":hover\": {\r\n"
                },
                {
                    "date": 1744663066841,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -827,9 +827,8 @@\n                                                 <Button\r\n                                                     type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n-                                                    fullWidth\r\n                                                     sx={{\r\n                                                         textTransform: 'capitalize',\r\n                                                         backgroundColor: \"#bd9b4a\",\r\n                                                         \":hover\": {\r\n"
                },
                {
                    "date": 1744663077389,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -828,8 +828,9 @@\n                                                     type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n+                                                        width:'150px',\r\n                                                         textTransform: 'capitalize',\r\n                                                         backgroundColor: \"#bd9b4a\",\r\n                                                         \":hover\": {\r\n                                                             backgroundColor: \"rgb(189 155 74)\",\r\n"
                },
                {
                    "date": 1744663088105,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -828,9 +828,9 @@\n                                                     type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n-                                                        width:'150px',\r\n+                                                        width:'350',\r\n                                                         textTransform: 'capitalize',\r\n                                                         backgroundColor: \"#bd9b4a\",\r\n                                                         \":hover\": {\r\n                                                             backgroundColor: \"rgb(189 155 74)\",\r\n"
                },
                {
                    "date": 1744663097158,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -828,9 +828,9 @@\n                                                     type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n-                                                        width:'350',\r\n+                                                        width:'350px',\r\n                                                         textTransform: 'capitalize',\r\n                                                         backgroundColor: \"#bd9b4a\",\r\n                                                         \":hover\": {\r\n                                                             backgroundColor: \"rgb(189 155 74)\",\r\n"
                },
                {
                    "date": 1744663116808,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -838,8 +838,23 @@\n                                                     }}\r\n                                                 >\r\n                                                     Place Invoice\r\n                                                 </Button>\r\n+                                                <Button\r\n+                                                    type=\"submit\"\r\n+                                                    disabled={rows?.length === 0}\r\n+                                                    variant=\"contained\"\r\n+                                                    sx={{\r\n+                                                        width:'350px',\r\n+                                                        textTransform: 'capitalize',\r\n+                                                        backgroundColor: \"#bd9b4a\",\r\n+                                                        \":hover\": {\r\n+                                                            backgroundColor: \"rgb(189 155 74)\",\r\n+                                                        },\r\n+                                                    }}\r\n+                                                >\r\n+                                                    Cancel\r\n+                                                </Button>\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n \r\n                                     </TableBody>\r\n"
                },
                {
                    "date": 1744663122260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -839,9 +839,9 @@\n                                                 >\r\n                                                     Place Invoice\r\n                                                 </Button>\r\n                                                 <Button\r\n-                                                    type=\"submit\"\r\n+                                                   \r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n                                                         width:'350px',\r\n"
                },
                {
                    "date": 1744663140720,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -839,9 +839,9 @@\n                                                 >\r\n                                                     Place Invoice\r\n                                                 </Button>\r\n                                                 <Button\r\n-                                                   \r\n+                                                   onClick={()=> navigate('/aldeed-list')}\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n                                                         width:'350px',\r\n"
                },
                {
                    "date": 1744663164356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -823,8 +823,9 @@\n                                         </TableRow>\r\n                                         {/* </Grid> */}\r\n                                         <TableRow>\r\n                                             <TableCell colSpan={8} align=\"center\"> {/* adjust colSpan to match total columns */}\r\n+                                                <Box>\r\n                                                 <Button\r\n                                                     type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n@@ -840,9 +841,9 @@\n                                                     Place Invoice\r\n                                                 </Button>\r\n                                                 <Button\r\n                                                    onClick={()=> navigate('/aldeed-list')}\r\n-                                                    disabled={rows?.length === 0}\r\n+                                                    \r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n                                                         width:'350px',\r\n                                                         textTransform: 'capitalize',\r\n@@ -853,8 +854,9 @@\n                                                     }}\r\n                                                 >\r\n                                                     Cancel\r\n                                                 </Button>\r\n+                                                </Box>\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n \r\n                                     </TableBody>\r\n"
                },
                {
                    "date": 1744663178890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -823,9 +823,9 @@\n                                         </TableRow>\r\n                                         {/* </Grid> */}\r\n                                         <TableRow>\r\n                                             <TableCell colSpan={8} align=\"center\"> {/* adjust colSpan to match total columns */}\r\n-                                                <Box>\r\n+                                                <Box sx={{display:'flex'}}>\r\n                                                 <Button\r\n                                                     type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n"
                },
                {
                    "date": 1744663184715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -823,9 +823,9 @@\n                                         </TableRow>\r\n                                         {/* </Grid> */}\r\n                                         <TableRow>\r\n                                             <TableCell colSpan={8} align=\"center\"> {/* adjust colSpan to match total columns */}\r\n-                                                <Box sx={{display:'flex'}}>\r\n+                                                <Box sx={{display:'flex',gap:2}}>\r\n                                                 <Button\r\n                                                     type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n"
                },
                {
                    "date": 1744663197289,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -823,9 +823,9 @@\n                                         </TableRow>\r\n                                         {/* </Grid> */}\r\n                                         <TableRow>\r\n                                             <TableCell colSpan={8} align=\"center\"> {/* adjust colSpan to match total columns */}\r\n-                                                <Box sx={{display:'flex',gap:2}}>\r\n+                                                <Box sx={{display:'flex',gap:2,justifyContent:'center'}}>\r\n                                                 <Button\r\n                                                     type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n"
                },
                {
                    "date": 1744665370488,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,9 +62,8 @@\n import axios from \"axios\";\r\n import UploadIcon from \"@mui/icons-material/Upload\";\r\n import FinanceServices from \"services/Finance\";\r\n import SearchIcon from \"@mui/icons-material/Search\";\r\n-// import { TableBody, TableHead } from \"mui-datatables\";\r\n \r\n function CreateAldeed() {\r\n     const theme = useTheme();\r\n     const { user } = useAuth();\r\n@@ -76,9 +75,8 @@\n     const [total, setTotal] = useState(0);\r\n     const [subTotal, setSubTotal] = useState(0);\r\n     const [rows, setRows] = useState([]);\r\n \r\n-\r\n     console.log(rows, \"data\")\r\n     const [items, setItems] = useState([\r\n         {\r\n             itemCode: \"\",\r\n@@ -89,51 +87,39 @@\n             total: 17.1,\r\n         },\r\n     ]);\r\n \r\n-    // const addItem = () => {\r\n-    //   const newItem = {\r\n-    //     itemCode: \"\",\r\n-    //     itemDescription: \"\",\r\n-    //     totalCharge: 0,\r\n-    //     mbNo: \"\",\r\n-    //     applicationId: \"\",\r\n-    //     total: 0,\r\n-    //   };\r\n-    //   setItems([...items, newItem]);\r\n-    // };\r\n-\r\n     const {\r\n+        register: registerItem,\r\n+        handleSubmit: handleSubmitItem,\r\n+        getValues: getValuesItem,\r\n+        setValue: setValueItem,\r\n+        watch: watchItem,\r\n+        reset: resetItem,\r\n+        formState: { errors: errorsItem },\r\n+    } = useForm();\r\n+    \r\n+    const {\r\n         register,\r\n         handleSubmit,\r\n+        setValue,\r\n         getValues,\r\n-        setValue,\r\n+        control,\r\n         watch,\r\n-        reset,\r\n         formState: { errors },\r\n     } = useForm();\r\n-    const {\r\n-        register: register1,\r\n-        handleSubmit: handleSubmit1,\r\n-        setValue: setValue1,\r\n-        getValues: getValues1,\r\n-        control,\r\n-        watch: watch1,\r\n-        formState: { errors: errors1 },\r\n-    } = useForm();\r\n \r\n-    // Watch all form data\r\n-\r\n     // Watch for changes in the fee-related fields\r\n-    const govtFee = watch('govt_fee', 0);\r\n-    const centerFee = watch('center_fee', 0);\r\n-    const bankCharges = watch('bank_charges', 0);\r\n-    const qty = watch('qty', 1);\r\n+    const govtFee = watchItem('govt_fee', 0);\r\n+    const centerFee = watchItem('center_fee', 0);\r\n+    const bankCharges = watchItem('bank_charges', 0);\r\n+    const qty = watchItem('qty', 1);\r\n+    \r\n     useEffect(() => {\r\n         const feesTotal = (parseFloat(govtFee) || 0) + (parseFloat(centerFee) || 0) + (parseFloat(bankCharges) || 0);\r\n         const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n-        setValue(\"total\", finalTotal);\r\n-    }, [govtFee, centerFee, bankCharges, qty]);\r\n+        setValueItem(\"total\", finalTotal);\r\n+    }, [govtFee, centerFee, bankCharges, qty, setValueItem]);\r\n \r\n     const addItem = (data) => {\r\n         const total = data.total;\r\n         setRows((prevRows) => {\r\n@@ -141,11 +127,48 @@\n             const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n             setSubTotal(newSubTotal);\r\n             return updatedRows;\r\n         });\r\n-        reset();\r\n-        setServiceItem(\"\")\r\n+        resetItem();\r\n+        setServiceItem(\"\");\r\n     };\r\n+    \r\n+    const submitForm = async (formData) => {\r\n+        console.log(formData);\r\n+        try {\r\n+            let obj = {\r\n+                token_number: formData?.token,\r\n+                token_date: date,\r\n+                invoice_prefix: \"AAD\",\r\n+                cost_center: formData?.cost_center?.id,\r\n+                trn: formData?.trn,\r\n+                case_number: formData?.caseno,\r\n+                customer_name: formData?.display_customer,\r\n+                reception_id: detail?.id,\r\n+                customer_mobile: formData?.mobile,\r\n+                customer_email: formData?.email,\r\n+                ref: formData?.ref,\r\n+                total_amount: subTotal,\r\n+                items: rows\r\n+            };\r\n+            console.log(formData, \"formData\");\r\n+            const promise = CustomerServices.CreateAlDed(obj);\r\n+\r\n+            showPromiseToast(\r\n+                promise,\r\n+                \"Saving...\",\r\n+                \"Added Successfully\",\r\n+                \"Something Went Wrong\"\r\n+            );\r\n+            const response = await promise;\r\n+            if (response?.responseCode === 200) {\r\n+                navigate(\"/alded-list\");\r\n+            }\r\n+        } catch (error) {\r\n+            ErrorToaster(error);\r\n+        }\r\n+    };\r\n+\r\n     const isFormDataEmpty = (data) => {\r\n         // Check if all form fields are empty\r\n         return Object.values(data).every((value) => {\r\n             // If the value is an object (like companyLogo), check if it's empty\r\n@@ -218,75 +241,37 @@\n     const [services, setServices] = useState(null);\r\n     const [serviceItem, setServiceItem] = useState(null);\r\n     const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n     const [detail, setDetail] = useState(null)\r\n-    //documents array\r\n \r\n     const handleNext = () => {\r\n         setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n     };\r\n \r\n-    const submitForm1 = async (formData) => {\r\n-        console.log(formData);\r\n-        try {\r\n-            let obj = {\r\n-                token_number: formData?.token,\r\n-                token_date: date,\r\n-                invoice_prefix: \"AAD\",\r\n-                cost_center: formData?.cost_center?.id,\r\n-                trn: formData?.trn,\r\n-                case_number: formData?.caseno,\r\n-                customer_name: formData?.display_customer,\r\n-                reception_id: detail?.id,\r\n-                customer_mobile: formData?.mobile,\r\n-                customer_email: formData?.email,\r\n-                ref: formData?.ref,\r\n-                total_amount: subTotal,\r\n-\r\n-                items: rows\r\n-            };\r\n-            console.log(formData, \"formData\");\r\n-            const promise = CustomerServices.CreateAlDed(obj);\r\n-\r\n-            showPromiseToast(\r\n-                promise,\r\n-                \"Saving...\",\r\n-                \"Added Successfully\",\r\n-                \"Something Went Wrong\"\r\n-            );\r\n-            const response = await promise;\r\n-            if (response?.responseCode === 200) {\r\n-                navigate(\"/alded-list\");\r\n-            }\r\n-        } catch (error) {\r\n-            ErrorToaster(error);\r\n-        }\r\n-    };\r\n-\r\n     // *For Get Account\r\n     const getReceptionDetail = async (state) => {\r\n         setFieldsDisabled(true)\r\n         try {\r\n             let params = {\r\n-                token_number: getValues1(\"token\"),\r\n+                token_number: getValues(\"token\"),\r\n             };\r\n             if (state) {\r\n                 params = {\r\n-                    invoice_number: getValues1(\"invoicenumber\"),\r\n+                    invoice_number: getValues(\"invoicenumber\"),\r\n                 };\r\n             }\r\n             const { data } = await CustomerServices.getReceptionDetail(params);\r\n             console.log(data, \"dataaa\");\r\n             setDetail(data?.token)\r\n-            setValue1(\"customer\", data?.token?.customer_name);\r\n-            setValue1(\"invoice_date\", moment().toDate());\r\n-            setValue1(\"mobile\", data?.token?.mobile);\r\n-            setValue1(\"ref\", data?.token?.reference);\r\n-            setValue1(\"display_customer\", data?.token?.customer_name);\r\n-            setValue1(\"email\", data?.token?.email);\r\n-            setValue1(\"address\", data?.token?.address);\r\n-            setValue1(\"trn\", data?.token?.trn);\r\n-            setValue1(\"cost_center\", data?.token?.cost_center);\r\n+            setValue(\"customer\", data?.token?.customer_name);\r\n+            setValue(\"invoice_date\", moment().toDate());\r\n+            setValue(\"mobile\", data?.token?.mobile);\r\n+            setValue(\"ref\", data?.token?.reference);\r\n+            setValue(\"display_customer\", data?.token?.customer_name);\r\n+            setValue(\"email\", data?.token?.email);\r\n+            setValue(\"address\", data?.token?.address);\r\n+            setValue(\"trn\", data?.token?.trn);\r\n+            setValue(\"cost_center\", data?.token?.cost_center);\r\n \r\n             setAccounts(data?.accounts?.rows);\r\n         } catch (error) {\r\n             ErrorToaster(error);\r\n@@ -311,8 +296,9 @@\n         } finally {\r\n             // setLoader(false)\r\n         }\r\n     };\r\n+    \r\n     const handleServiceSelect = async (value) => {\r\n         console.log(value, \"idididid\");\r\n         setServiceItem(value);\r\n         // setLoader(true)\r\n@@ -321,14 +307,13 @@\n                 service_id: value?.id,\r\n             };\r\n \r\n             const { data } = await CustomerServices.DetailServiceItem(params);\r\n-            setValue(\"item_code\", data?.service?.id);\r\n-            setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n-            setValue(\"center_fee\", data?.service?.center_fee);\r\n-            setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n-\r\n-            setValue(\"qty\", 1);\r\n+            setValueItem(\"item_code\", data?.service?.id);\r\n+            setValueItem(\"govt_fee\", data?.service?.bank_service_charge);\r\n+            setValueItem(\"center_fee\", data?.service?.center_fee);\r\n+            setValueItem(\"bank_charges\", data?.service?.bank_service_charge);\r\n+            setValueItem(\"qty\", 1);\r\n         } catch (error) {\r\n             ErrorToaster(error);\r\n         } finally {\r\n             // setLoader(false)\r\n@@ -352,8 +337,9 @@\n         } finally {\r\n             // setLoader(false)\r\n         }\r\n     };\r\n+    \r\n     const getTax = async () => {\r\n         // setLoader(true)\r\n         try {\r\n             let params = {\r\n@@ -370,8 +356,9 @@\n         } finally {\r\n             // setLoader(false)\r\n         }\r\n     };\r\n+    \r\n     const getCategories = async () => {\r\n         // setLoader(true)\r\n         try {\r\n             let params = {\r\n@@ -394,18 +381,18 @@\n         getTax();\r\n         getCategories();\r\n         getServiceItem();\r\n         setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" })\r\n-        setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n+        setValue(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n     }, []);\r\n \r\n     return (\r\n         <>\r\n             <Box sx={{ width: \"100%\" }}></Box>\r\n             <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n                 {\r\n                     <>\r\n-                        <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n+                        <Box component={\"div\"}>\r\n                             <Box\r\n                                 sx={{\r\n                                     display: \"flex\",\r\n                                     justifyContent: \"space-between\",\r\n@@ -428,9 +415,9 @@\n                                                     label=\"Token\"\r\n                                                     size=\"small\"\r\n                                                     disabled={fieldsDisabled}\r\n                                                     placeholder=\"Enter Token\"\r\n-                                                    register={register1(\"token\")}\r\n+                                                    register={register(\"token\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n                                                             <IconButton onClick={() => getReceptionDetail()}>\r\n                                                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n@@ -444,9 +431,9 @@\n                                                     label=\"Invoice Number\"\r\n                                                     size=\"small\"\r\n                                                     disabled={fieldsDisabled}\r\n                                                     placeholder=\"Invoice Number\"\r\n-                                                    register={register1(\"invoicenumber\")}\r\n+                                                    register={register(\"invoicenumber\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n                                                             <IconButton onClick={() => getReceptionDetail(true)}>\r\n                                                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n@@ -460,19 +447,19 @@\n                                                     bgcolor={'#bd9b4a'}\r\n                                                     title=\"Clear\"\r\n                                                     onClick={() => {\r\n                                                         setFieldsDisabled(false)\r\n-                                                        setValue1('token', '')\r\n-                                                        setValue1('invoicenumber', '')\r\n-                                                        setValue1(\"customer\", '');\r\n-                                                        setValue1(\"invoice_date\", '');\r\n-                                                        setValue1(\"mobile\", '');\r\n-                                                        setValue1(\"ref\", '');\r\n-                                                        setValue1(\"display_customer\", '');\r\n-                                                        setValue1(\"email\", '');\r\n-                                                        setValue1(\"address\", '');\r\n-                                                        setValue1(\"trn\", '');\r\n-                                                        setValue1(\"cost_center\", '');\r\n+                                                        setValue('token', '')\r\n+                                                        setValue('invoicenumber', '')\r\n+                                                        setValue(\"customer\", '');\r\n+                                                        setValue(\"invoice_date\", '');\r\n+                                                        setValue(\"mobile\", '');\r\n+                                                        setValue(\"ref\", '');\r\n+                                                        setValue(\"display_customer\", '');\r\n+                                                        setValue(\"email\", '');\r\n+                                                        setValue(\"address\", '');\r\n+                                                        setValue(\"trn\", '');\r\n+                                                        setValue(\"cost_center\", '');\r\n                                                     }}\r\n                                                     loading={loading}\r\n                                                 />\r\n                                             </Grid>\r\n@@ -496,24 +483,19 @@\n                                                 <DatePicker\r\n                                                     label={\"Invoice Date :*\"}\r\n                                                     value={date}\r\n                                                     size={'small'}\r\n-\r\n-                                                    error={errors1?.date?.message}\r\n-                                                    register={register1(\"date\", {\r\n+                                                    error={errors?.date?.message}\r\n+                                                    register={register(\"date\", {\r\n                                                         required:\r\n                                                             date ? false :\r\n                                                                 \"please enter  date.\"\r\n \r\n                                                     })}\r\n                                                     onChange={(date) => {\r\n-\r\n-                                                        setValue1('date', date)\r\n+                                                        setValue('date', date)\r\n                                                         setDate(new Date(date));\r\n-\r\n-                                                    }\r\n-\r\n-                                                    }\r\n+                                                    }}\r\n                                                 /></Grid>\r\n \r\n                                             <Grid item xs={5.7} >\r\n                                                 <SelectField\r\n@@ -523,20 +505,15 @@\n                                                     options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n                                                     selected={selectedCustomer}\r\n                                                     onSelect={(value) => {\r\n                                                         setSelectedCustomer(value)\r\n-\r\n-\r\n                                                     }}\r\n-                                                    error={errors1?.customer?.message}\r\n-                                                    register={register1(\"customer\", {\r\n+                                                    error={errors?.customer?.message}\r\n+                                                    register={register(\"customer\", {\r\n                                                         required: false,\r\n                                                     })}\r\n                                                 />\r\n                                             </Grid>\r\n-\r\n-\r\n-\r\n                                         </Grid>\r\n                                     </Grid>\r\n                                     <Grid\r\n                                         item\r\n@@ -555,88 +532,81 @@\n                                                 <InputField\r\n                                                     label=\"Display Customer\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Walk-in Customer\"\r\n-                                                    register={register1(\"display_customer\", {\r\n+                                                    register={register(\"display_customer\", {\r\n                                                         required: 'please enter display name.'\r\n                                                     })}\r\n-                                                    error={errors1?.display_customer?.message}\r\n+                                                    error={errors?.display_customer?.message}\r\n                                                 />\r\n                                             </Grid>\r\n \r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Mobile\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Mobile No\"\r\n-\r\n-                                                    register={register1(\"mobile\", {\r\n+                                                    register={register(\"mobile\", {\r\n                                                         required: 'please enter mobile .'\r\n                                                     })}\r\n-                                                    error={errors1?.display_customer?.message}\r\n+                                                    error={errors?.mobile?.message}\r\n                                                 />\r\n                                             </Grid>\r\n \r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Email\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Email\"\r\n-\r\n-                                                    register={register1(\"email\", {\r\n+                                                    register={register(\"email\", {\r\n                                                         required: 'please enter email .'\r\n                                                     })}\r\n-                                                    error={errors1?.email?.message}\r\n+                                                    error={errors?.email?.message}\r\n                                                 />\r\n                                             </Grid>\r\n \r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"TRN\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"TRN\"\r\n-\r\n-\r\n-                                                    register={register1(\"trn\", {\r\n+                                                    register={register(\"trn\", {\r\n                                                         required: 'please enter trn .'\r\n                                                     })}\r\n-                                                    error={errors1?.trn?.message}\r\n+                                                    error={errors?.trn?.message}\r\n                                                 />\r\n                                             </Grid>\r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Case No\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Case No\"\r\n-\r\n-\r\n-                                                    register={register1(\"caseno\", {\r\n+                                                    register={register(\"caseno\", {\r\n                                                         required: 'please enter caseno .'\r\n                                                     })}\r\n-                                                    error={errors1?.caseno?.message}\r\n+                                                    error={errors?.caseno?.message}\r\n                                                 />\r\n                                             </Grid>\r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Ref\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Reference\"\r\n-                                                    register={register1(\"ref\")}\r\n+                                                    register={register(\"ref\")}\r\n                                                 />\r\n                                             </Grid>\r\n \r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <SelectField\r\n                                                     label=\"Cost Center\"\r\n                                                     size=\"small\"\r\n                                                     options={[{ id: 'Al-DED', name: 'Al-DED' }]}\r\n-                                                    selected={watch1(\"cost_center\")}\r\n-                                                    onSelect={(value) => setValue1(\"cost_center\", value)}\r\n-\r\n-                                                    register={register1(\"cost_center\", {\r\n+                                                    selected={watch(\"cost_center\")}\r\n+                                                    onSelect={(value) => setValue(\"cost_center\", value)}\r\n+                                                    register={register(\"cost_center\", {\r\n                                                         required: 'please enter cost center .'\r\n                                                     })}\r\n-                                                    error={errors1?.cost_center?.message}\r\n+                                                    error={errors?.cost_center?.message}\r\n                                                 />\r\n                                             </Grid>\r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n@@ -644,25 +614,22 @@\n                                                     size=\"small\"\r\n                                                     placeholder=\"Address\"\r\n                                                     multiline\r\n                                                     rows={2}\r\n-\r\n-                                                    register={register1(\"address\", {\r\n+                                                    register={register(\"address\", {\r\n                                                         required: 'please enter address .'\r\n                                                     })}\r\n-                                                    error={errors1?.address?.message}\r\n+                                                    error={errors?.address?.message}\r\n                                                 />\r\n                                             </Grid>\r\n                                         </Grid>\r\n                                     </Grid>\r\n-\r\n-\r\n                                 </Grid>\r\n                             </Box>\r\n                         </Box>\r\n \r\n-\r\n-                        <form onSubmit={handleSubmit(addItem)}>\r\n+                        {/* Item Form - Separated from main form */}\r\n+                        <div>\r\n                             <TableContainer component={Paper}>\r\n                                 <Table>\r\n                                     <TableHead>\r\n                                         <TableRow>\r\n@@ -671,9 +638,8 @@\n                                             <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n                                             <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n                                             <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n                                             <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n-\r\n                                             <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n                                             <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n                                         </TableRow>\r\n                                     </TableHead>\r\n@@ -683,99 +649,97 @@\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     disabled={true}\r\n                                                     placeholder=\"Item code\"\r\n-                                                    register={register(\"item_code\", { required: \"Item code is required\" })}\r\n+                                                    register={registerItem(\"item_code\", { required: \"Item code is required\" })}\r\n                                                 />\r\n-                                                {errors.item_code && <span>{errors.item_code.message}</span>}\r\n+                                                {errorsItem.item_code && <span style={{ color: \"red\" }}>{errorsItem.item_code.message}</span>}\r\n                                             </TableCell>\r\n                                             <TableCell>\r\n                                                 <SelectField\r\n                                                     size=\"small\"\r\n                                                     options={services}\r\n                                                     selected={serviceItem}\r\n                                                     onSelect={handleServiceSelect}\r\n-                                                    //  error={errors?.service?.message}\r\n-                                                    register={register(\"service\", {\r\n+                                                    register={registerItem(\"service\", {\r\n                                                         required: \"Please select a service.\",\r\n                                                     })}\r\n                                                 />\r\n-                                                {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n+                                                {errorsItem.service && <span style={{ color: \"red\" }}>{errorsItem.service.message}</span>}\r\n                                             </TableCell>\r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Quantity\"\r\n                                                     type=\"number\"\r\n-                                                    register={register(\"qty\", {\r\n+                                                    register={registerItem(\"qty\", {\r\n                                                         required: \"Quantity is required\",\r\n                                                         min: {\r\n                                                             value: 1,\r\n-                                                            message: \"Quantity must be at least 0\",\r\n+                                                            message: \"Quantity must be at least 1\",\r\n                                                         },\r\n                                                     })}\r\n                                                 />\r\n-                                                {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n+                                                {errorsItem.qty && <span style={{ color: \"red\" }}>{errorsItem.qty.message}</span>}\r\n                                             </TableCell>\r\n \r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Govt fee\"\r\n                                                     type=\"number\"\r\n-                                                    register={register(\"govt_fee\", {\r\n+                                                    register={registerItem(\"govt_fee\", {\r\n                                                         required: \"Govt fee is required\",\r\n                                                         min: {\r\n-                                                            value: 1,\r\n+                                                            value: 0,\r\n                                                             message: \"Govt fee must be at least 0\",\r\n                                                         },\r\n                                                     })}\r\n                                                 />\r\n-                                                {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n+                                                {errorsItem.govt_fee && <span style={{ color: \"red\" }}>{errorsItem.govt_fee.message}</span>}\r\n                                             </TableCell>\r\n \r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Center Fee\"\r\n                                                     type=\"number\"\r\n-                                                    register={register(\"center_fee\", {\r\n+                                                    register={registerItem(\"center_fee\", {\r\n                                                         required: \"Center fee is required\",\r\n                                                         min: {\r\n-                                                            value: 1,\r\n+                                                            value: 0,\r\n                                                             message: \"Center fee must be at least 0\",\r\n                                                         },\r\n                                                     })}\r\n                                                 />\r\n-                                                {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n+                                                {errorsItem.center_fee && <span style={{ color: \"red\" }}>{errorsItem.center_fee.message}</span>}\r\n                                             </TableCell>\r\n \r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Bank Charges\"\r\n                                                     type=\"number\"\r\n-                                                    register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n+                                                    register={registerItem(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n                                                     disabled\r\n                                                 />\r\n-                                                {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n-\r\n+                                                {errorsItem.bank_charges && <span style={{ color: \"red\" }}>{errorsItem.bank_charges.message}</span>}\r\n                                             </TableCell>\r\n \r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     disabled={true}\r\n                                                     style={{ border: \"none\" }}\r\n                                                     size=\"small\"\r\n-                                                    placeholder=\"Narration\"\r\n-                                                    register={register(\"total\")}\r\n+                                                    placeholder=\"Total\"\r\n+                                                    register={registerItem(\"total\")}\r\n                                                 />\r\n                                             </TableCell>\r\n                                             <TableCell>\r\n                                                 <Button\r\n                                                     variant=\"contained\"\r\n                                                     color=\"primary\"\r\n-                                                    type=\"submit\"\r\n+                                                    onClick={handleSubmitItem(addItem)}\r\n                                                     sx={{\r\n                                                         textTransform: 'capitalize',\r\n                                                         backgroundColor: \"rgb(189 155 74)\",\r\n                                                         fontSize: \"12px\",\r\n@@ -796,38 +760,35 @@\n                                                 <TableCell>{item?.qty}</TableCell>\r\n                                                 <TableCell>{item?.govt_fee}</TableCell>\r\n                                                 <TableCell>{item?.center_fee}</TableCell>\r\n                                                 <TableCell>{item?.bank_charges}</TableCell>\r\n-\r\n                                                 <TableCell>{item?.total}</TableCell>\r\n-\r\n                                             </TableRow>\r\n                                         ))}\r\n \r\n                                         <TableRow>\r\n-                                            <TableCell colSpan={7} align=\"right\">\r\n+                                            <TableCell colSpan={6} align=\"right\">\r\n                                                 <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n                                             </TableCell>\r\n-                                            <TableCell>\r\n-                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n+                                            <TableCell colSpan={2}>\r\n+                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography>\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n \r\n-                                        {/* Amount Total Row (optional, if needed for the final sum) */}\r\n                                         <TableRow>\r\n-                                            <TableCell colSpan={7} align=\"right\">\r\n+                                            <TableCell colSpan={6} align=\"right\">\r\n                                                 <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n                                             </TableCell>\r\n-                                            <TableCell>\r\n-                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n+                                            <TableCell colSpan={2}>\r\n+                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography>\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n-                                        {/* </Grid> */}\r\n+                                        \r\n                                         <TableRow>\r\n-                                            <TableCell colSpan={8} align=\"center\"> {/* adjust colSpan to match total columns */}\r\n+                                            <TableCell colSpan={8} align=\"center\">\r\n                                                 <Box sx={{display:'flex',gap:2,justifyContent:'center'}}>\r\n                                                 <Button\r\n-                                                    type=\"submit\"\r\n+                                                    onClick={handleSubmit(submitForm)}\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n                                                         width:'350px',\r\n@@ -841,9 +802,8 @@\n                                                     Place Invoice\r\n                                                 </Button>\r\n                                                 <Button\r\n                                                    onClick={()=> navigate('/aldeed-list')}\r\n-                                                    \r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n                                                         width:'350px',\r\n                                                         textTransform: 'capitalize',\r\n@@ -857,13 +817,12 @@\n                                                 </Button>\r\n                                                 </Box>\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n-\r\n                                     </TableBody>\r\n                                 </Table>\r\n                             </TableContainer>\r\n-                        </form>\r\n+                        </div>\r\n                     </>\r\n                 }\r\n             </Box>\r\n         </>\r\n"
                },
                {
                    "date": 1744665551113,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,8 +62,9 @@\n import axios from \"axios\";\r\n import UploadIcon from \"@mui/icons-material/Upload\";\r\n import FinanceServices from \"services/Finance\";\r\n import SearchIcon from \"@mui/icons-material/Search\";\r\n+// import { TableBody, TableHead } from \"mui-datatables\";\r\n \r\n function CreateAldeed() {\r\n     const theme = useTheme();\r\n     const { user } = useAuth();\r\n@@ -75,8 +76,9 @@\n     const [total, setTotal] = useState(0);\r\n     const [subTotal, setSubTotal] = useState(0);\r\n     const [rows, setRows] = useState([]);\r\n \r\n+\r\n     console.log(rows, \"data\")\r\n     const [items, setItems] = useState([\r\n         {\r\n             itemCode: \"\",\r\n@@ -87,39 +89,51 @@\n             total: 17.1,\r\n         },\r\n     ]);\r\n \r\n+    // const addItem = () => {\r\n+    //   const newItem = {\r\n+    //     itemCode: \"\",\r\n+    //     itemDescription: \"\",\r\n+    //     totalCharge: 0,\r\n+    //     mbNo: \"\",\r\n+    //     applicationId: \"\",\r\n+    //     total: 0,\r\n+    //   };\r\n+    //   setItems([...items, newItem]);\r\n+    // };\r\n+\r\n     const {\r\n-        register: registerItem,\r\n-        handleSubmit: handleSubmitItem,\r\n-        getValues: getValuesItem,\r\n-        setValue: setValueItem,\r\n-        watch: watchItem,\r\n-        reset: resetItem,\r\n-        formState: { errors: errorsItem },\r\n-    } = useForm();\r\n-    \r\n-    const {\r\n         register,\r\n         handleSubmit,\r\n+        getValues,\r\n         setValue,\r\n-        getValues,\r\n-        control,\r\n         watch,\r\n+        reset,\r\n         formState: { errors },\r\n     } = useForm();\r\n+    const {\r\n+        register: register1,\r\n+        handleSubmit: handleSubmit1,\r\n+        setValue: setValue1,\r\n+        getValues: getValues1,\r\n+        control,\r\n+        watch: watch1,\r\n+        formState: { errors: errors1 },\r\n+    } = useForm();\r\n \r\n+    // Watch all form data\r\n+\r\n     // Watch for changes in the fee-related fields\r\n-    const govtFee = watchItem('govt_fee', 0);\r\n-    const centerFee = watchItem('center_fee', 0);\r\n-    const bankCharges = watchItem('bank_charges', 0);\r\n-    const qty = watchItem('qty', 1);\r\n-    \r\n+    const govtFee = watch('govt_fee', 0);\r\n+    const centerFee = watch('center_fee', 0);\r\n+    const bankCharges = watch('bank_charges', 0);\r\n+    const qty = watch('qty', 1);\r\n     useEffect(() => {\r\n         const feesTotal = (parseFloat(govtFee) || 0) + (parseFloat(centerFee) || 0) + (parseFloat(bankCharges) || 0);\r\n         const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n-        setValueItem(\"total\", finalTotal);\r\n-    }, [govtFee, centerFee, bankCharges, qty, setValueItem]);\r\n+        setValue(\"total\", finalTotal);\r\n+    }, [govtFee, centerFee, bankCharges, qty]);\r\n \r\n     const addItem = (data) => {\r\n         const total = data.total;\r\n         setRows((prevRows) => {\r\n@@ -127,48 +141,11 @@\n             const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n             setSubTotal(newSubTotal);\r\n             return updatedRows;\r\n         });\r\n-        resetItem();\r\n-        setServiceItem(\"\");\r\n+        reset();\r\n+        setServiceItem(\"\")\r\n     };\r\n-    \r\n-    const submitForm = async (formData) => {\r\n-        console.log(formData);\r\n-        try {\r\n-            let obj = {\r\n-                token_number: formData?.token,\r\n-                token_date: date,\r\n-                invoice_prefix: \"AAD\",\r\n-                cost_center: formData?.cost_center?.id,\r\n-                trn: formData?.trn,\r\n-                case_number: formData?.caseno,\r\n-                customer_name: formData?.display_customer,\r\n-                reception_id: detail?.id,\r\n-                customer_mobile: formData?.mobile,\r\n-                customer_email: formData?.email,\r\n-                ref: formData?.ref,\r\n-                total_amount: subTotal,\r\n-                items: rows\r\n-            };\r\n-            console.log(formData, \"formData\");\r\n-            const promise = CustomerServices.CreateAlDed(obj);\r\n-\r\n-            showPromiseToast(\r\n-                promise,\r\n-                \"Saving...\",\r\n-                \"Added Successfully\",\r\n-                \"Something Went Wrong\"\r\n-            );\r\n-            const response = await promise;\r\n-            if (response?.responseCode === 200) {\r\n-                navigate(\"/alded-list\");\r\n-            }\r\n-        } catch (error) {\r\n-            ErrorToaster(error);\r\n-        }\r\n-    };\r\n-\r\n     const isFormDataEmpty = (data) => {\r\n         // Check if all form fields are empty\r\n         return Object.values(data).every((value) => {\r\n             // If the value is an object (like companyLogo), check if it's empty\r\n@@ -241,37 +218,75 @@\n     const [services, setServices] = useState(null);\r\n     const [serviceItem, setServiceItem] = useState(null);\r\n     const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n     const [detail, setDetail] = useState(null)\r\n+    //documents array\r\n \r\n     const handleNext = () => {\r\n         setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n     };\r\n \r\n+    const submitForm1 = async (formData) => {\r\n+        console.log(formData);\r\n+        try {\r\n+            let obj = {\r\n+                token_number: formData?.token,\r\n+                token_date: date,\r\n+                invoice_prefix: \"AAD\",\r\n+                cost_center: formData?.cost_center?.id,\r\n+                trn: formData?.trn,\r\n+                case_number: formData?.caseno,\r\n+                customer_name: formData?.display_customer,\r\n+                reception_id: detail?.id,\r\n+                customer_mobile: formData?.mobile,\r\n+                customer_email: formData?.email,\r\n+                ref: formData?.ref,\r\n+                total_amount: subTotal,\r\n+\r\n+                items: rows\r\n+            };\r\n+            console.log(formData, \"formData\");\r\n+            const promise = CustomerServices.CreateAlDed(obj);\r\n+\r\n+            showPromiseToast(\r\n+                promise,\r\n+                \"Saving...\",\r\n+                \"Added Successfully\",\r\n+                \"Something Went Wrong\"\r\n+            );\r\n+            const response = await promise;\r\n+            if (response?.responseCode === 200) {\r\n+                navigate(\"/alded-list\");\r\n+            }\r\n+        } catch (error) {\r\n+            ErrorToaster(error);\r\n+        }\r\n+    };\r\n+\r\n     // *For Get Account\r\n     const getReceptionDetail = async (state) => {\r\n         setFieldsDisabled(true)\r\n         try {\r\n             let params = {\r\n-                token_number: getValues(\"token\"),\r\n+                token_number: getValues1(\"token\"),\r\n             };\r\n             if (state) {\r\n                 params = {\r\n-                    invoice_number: getValues(\"invoicenumber\"),\r\n+                    invoice_number: getValues1(\"invoicenumber\"),\r\n                 };\r\n             }\r\n             const { data } = await CustomerServices.getReceptionDetail(params);\r\n             console.log(data, \"dataaa\");\r\n             setDetail(data?.token)\r\n-            setValue(\"customer\", data?.token?.customer_name);\r\n-            setValue(\"invoice_date\", moment().toDate());\r\n-            setValue(\"mobile\", data?.token?.mobile);\r\n-            setValue(\"ref\", data?.token?.reference);\r\n-            setValue(\"display_customer\", data?.token?.customer_name);\r\n-            setValue(\"email\", data?.token?.email);\r\n-            setValue(\"address\", data?.token?.address);\r\n-            setValue(\"trn\", data?.token?.trn);\r\n-            setValue(\"cost_center\", data?.token?.cost_center);\r\n+            setValue1(\"customer\", data?.token?.customer_name);\r\n+            setValue1(\"invoice_date\", moment().toDate());\r\n+            setValue1(\"mobile\", data?.token?.mobile);\r\n+            setValue1(\"ref\", data?.token?.reference);\r\n+            setValue1(\"display_customer\", data?.token?.customer_name);\r\n+            setValue1(\"email\", data?.token?.email);\r\n+            setValue1(\"address\", data?.token?.address);\r\n+            setValue1(\"trn\", data?.token?.trn);\r\n+            setValue1(\"cost_center\", data?.token?.cost_center);\r\n \r\n             setAccounts(data?.accounts?.rows);\r\n         } catch (error) {\r\n             ErrorToaster(error);\r\n@@ -296,9 +311,8 @@\n         } finally {\r\n             // setLoader(false)\r\n         }\r\n     };\r\n-    \r\n     const handleServiceSelect = async (value) => {\r\n         console.log(value, \"idididid\");\r\n         setServiceItem(value);\r\n         // setLoader(true)\r\n@@ -307,13 +321,14 @@\n                 service_id: value?.id,\r\n             };\r\n \r\n             const { data } = await CustomerServices.DetailServiceItem(params);\r\n-            setValueItem(\"item_code\", data?.service?.id);\r\n-            setValueItem(\"govt_fee\", data?.service?.bank_service_charge);\r\n-            setValueItem(\"center_fee\", data?.service?.center_fee);\r\n-            setValueItem(\"bank_charges\", data?.service?.bank_service_charge);\r\n-            setValueItem(\"qty\", 1);\r\n+            setValue(\"item_code\", data?.service?.id);\r\n+            setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n+            setValue(\"center_fee\", data?.service?.center_fee);\r\n+            setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n+\r\n+            setValue(\"qty\", 1);\r\n         } catch (error) {\r\n             ErrorToaster(error);\r\n         } finally {\r\n             // setLoader(false)\r\n@@ -337,9 +352,8 @@\n         } finally {\r\n             // setLoader(false)\r\n         }\r\n     };\r\n-    \r\n     const getTax = async () => {\r\n         // setLoader(true)\r\n         try {\r\n             let params = {\r\n@@ -356,9 +370,8 @@\n         } finally {\r\n             // setLoader(false)\r\n         }\r\n     };\r\n-    \r\n     const getCategories = async () => {\r\n         // setLoader(true)\r\n         try {\r\n             let params = {\r\n@@ -381,18 +394,18 @@\n         getTax();\r\n         getCategories();\r\n         getServiceItem();\r\n         setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" })\r\n-        setValue(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n+        setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n     }, []);\r\n \r\n     return (\r\n         <>\r\n             <Box sx={{ width: \"100%\" }}></Box>\r\n             <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n                 {\r\n                     <>\r\n-                        <Box component={\"div\"}>\r\n+                        <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n                             <Box\r\n                                 sx={{\r\n                                     display: \"flex\",\r\n                                     justifyContent: \"space-between\",\r\n@@ -415,9 +428,9 @@\n                                                     label=\"Token\"\r\n                                                     size=\"small\"\r\n                                                     disabled={fieldsDisabled}\r\n                                                     placeholder=\"Enter Token\"\r\n-                                                    register={register(\"token\")}\r\n+                                                    register={register1(\"token\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n                                                             <IconButton onClick={() => getReceptionDetail()}>\r\n                                                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n@@ -431,9 +444,9 @@\n                                                     label=\"Invoice Number\"\r\n                                                     size=\"small\"\r\n                                                     disabled={fieldsDisabled}\r\n                                                     placeholder=\"Invoice Number\"\r\n-                                                    register={register(\"invoicenumber\")}\r\n+                                                    register={register1(\"invoicenumber\")}\r\n                                                     InputProps={{\r\n                                                         endAdornment: (\r\n                                                             <IconButton onClick={() => getReceptionDetail(true)}>\r\n                                                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n@@ -447,19 +460,19 @@\n                                                     bgcolor={'#bd9b4a'}\r\n                                                     title=\"Clear\"\r\n                                                     onClick={() => {\r\n                                                         setFieldsDisabled(false)\r\n-                                                        setValue('token', '')\r\n-                                                        setValue('invoicenumber', '')\r\n-                                                        setValue(\"customer\", '');\r\n-                                                        setValue(\"invoice_date\", '');\r\n-                                                        setValue(\"mobile\", '');\r\n-                                                        setValue(\"ref\", '');\r\n-                                                        setValue(\"display_customer\", '');\r\n-                                                        setValue(\"email\", '');\r\n-                                                        setValue(\"address\", '');\r\n-                                                        setValue(\"trn\", '');\r\n-                                                        setValue(\"cost_center\", '');\r\n+                                                        setValue1('token', '')\r\n+                                                        setValue1('invoicenumber', '')\r\n+                                                        setValue1(\"customer\", '');\r\n+                                                        setValue1(\"invoice_date\", '');\r\n+                                                        setValue1(\"mobile\", '');\r\n+                                                        setValue1(\"ref\", '');\r\n+                                                        setValue1(\"display_customer\", '');\r\n+                                                        setValue1(\"email\", '');\r\n+                                                        setValue1(\"address\", '');\r\n+                                                        setValue1(\"trn\", '');\r\n+                                                        setValue1(\"cost_center\", '');\r\n                                                     }}\r\n                                                     loading={loading}\r\n                                                 />\r\n                                             </Grid>\r\n@@ -483,19 +496,24 @@\n                                                 <DatePicker\r\n                                                     label={\"Invoice Date :*\"}\r\n                                                     value={date}\r\n                                                     size={'small'}\r\n-                                                    error={errors?.date?.message}\r\n-                                                    register={register(\"date\", {\r\n+\r\n+                                                    error={errors1?.date?.message}\r\n+                                                    register={register1(\"date\", {\r\n                                                         required:\r\n                                                             date ? false :\r\n                                                                 \"please enter  date.\"\r\n \r\n                                                     })}\r\n                                                     onChange={(date) => {\r\n-                                                        setValue('date', date)\r\n+\r\n+                                                        setValue1('date', date)\r\n                                                         setDate(new Date(date));\r\n-                                                    }}\r\n+\r\n+                                                    }\r\n+\r\n+                                                    }\r\n                                                 /></Grid>\r\n \r\n                                             <Grid item xs={5.7} >\r\n                                                 <SelectField\r\n@@ -505,15 +523,20 @@\n                                                     options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n                                                     selected={selectedCustomer}\r\n                                                     onSelect={(value) => {\r\n                                                         setSelectedCustomer(value)\r\n+\r\n+\r\n                                                     }}\r\n-                                                    error={errors?.customer?.message}\r\n-                                                    register={register(\"customer\", {\r\n+                                                    error={errors1?.customer?.message}\r\n+                                                    register={register1(\"customer\", {\r\n                                                         required: false,\r\n                                                     })}\r\n                                                 />\r\n                                             </Grid>\r\n+\r\n+\r\n+\r\n                                         </Grid>\r\n                                     </Grid>\r\n                                     <Grid\r\n                                         item\r\n@@ -532,81 +555,88 @@\n                                                 <InputField\r\n                                                     label=\"Display Customer\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Walk-in Customer\"\r\n-                                                    register={register(\"display_customer\", {\r\n+                                                    register={register1(\"display_customer\", {\r\n                                                         required: 'please enter display name.'\r\n                                                     })}\r\n-                                                    error={errors?.display_customer?.message}\r\n+                                                    error={errors1?.display_customer?.message}\r\n                                                 />\r\n                                             </Grid>\r\n \r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Mobile\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Mobile No\"\r\n-                                                    register={register(\"mobile\", {\r\n+\r\n+                                                    register={register1(\"mobile\", {\r\n                                                         required: 'please enter mobile .'\r\n                                                     })}\r\n-                                                    error={errors?.mobile?.message}\r\n+                                                    error={errors1?.display_customer?.message}\r\n                                                 />\r\n                                             </Grid>\r\n \r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Email\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Email\"\r\n-                                                    register={register(\"email\", {\r\n+\r\n+                                                    register={register1(\"email\", {\r\n                                                         required: 'please enter email .'\r\n                                                     })}\r\n-                                                    error={errors?.email?.message}\r\n+                                                    error={errors1?.email?.message}\r\n                                                 />\r\n                                             </Grid>\r\n \r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"TRN\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"TRN\"\r\n-                                                    register={register(\"trn\", {\r\n+\r\n+\r\n+                                                    register={register1(\"trn\", {\r\n                                                         required: 'please enter trn .'\r\n                                                     })}\r\n-                                                    error={errors?.trn?.message}\r\n+                                                    error={errors1?.trn?.message}\r\n                                                 />\r\n                                             </Grid>\r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Case No\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Case No\"\r\n-                                                    register={register(\"caseno\", {\r\n+\r\n+\r\n+                                                    register={register1(\"caseno\", {\r\n                                                         required: 'please enter caseno .'\r\n                                                     })}\r\n-                                                    error={errors?.caseno?.message}\r\n+                                                    error={errors1?.caseno?.message}\r\n                                                 />\r\n                                             </Grid>\r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n                                                     label=\"Ref\"\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Reference\"\r\n-                                                    register={register(\"ref\")}\r\n+                                                    register={register1(\"ref\")}\r\n                                                 />\r\n                                             </Grid>\r\n \r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <SelectField\r\n                                                     label=\"Cost Center\"\r\n                                                     size=\"small\"\r\n                                                     options={[{ id: 'Al-DED', name: 'Al-DED' }]}\r\n-                                                    selected={watch(\"cost_center\")}\r\n-                                                    onSelect={(value) => setValue(\"cost_center\", value)}\r\n-                                                    register={register(\"cost_center\", {\r\n+                                                    selected={watch1(\"cost_center\")}\r\n+                                                    onSelect={(value) => setValue1(\"cost_center\", value)}\r\n+\r\n+                                                    register={register1(\"cost_center\", {\r\n                                                         required: 'please enter cost center .'\r\n                                                     })}\r\n-                                                    error={errors?.cost_center?.message}\r\n+                                                    error={errors1?.cost_center?.message}\r\n                                                 />\r\n                                             </Grid>\r\n                                             <Grid item md={5.7} sm={12} xs={12}>\r\n                                                 <InputField\r\n@@ -614,22 +644,25 @@\n                                                     size=\"small\"\r\n                                                     placeholder=\"Address\"\r\n                                                     multiline\r\n                                                     rows={2}\r\n-                                                    register={register(\"address\", {\r\n+\r\n+                                                    register={register1(\"address\", {\r\n                                                         required: 'please enter address .'\r\n                                                     })}\r\n-                                                    error={errors?.address?.message}\r\n+                                                    error={errors1?.address?.message}\r\n                                                 />\r\n                                             </Grid>\r\n                                         </Grid>\r\n                                     </Grid>\r\n+\r\n+\r\n                                 </Grid>\r\n                             </Box>\r\n                         </Box>\r\n \r\n-                        {/* Item Form - Separated from main form */}\r\n-                        <div>\r\n+\r\n+                        <form onSubmit={handleSubmit(addItem)}>\r\n                             <TableContainer component={Paper}>\r\n                                 <Table>\r\n                                     <TableHead>\r\n                                         <TableRow>\r\n@@ -638,8 +671,9 @@\n                                             <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n                                             <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n                                             <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n                                             <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n+\r\n                                             <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n                                             <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n                                         </TableRow>\r\n                                     </TableHead>\r\n@@ -649,97 +683,99 @@\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     disabled={true}\r\n                                                     placeholder=\"Item code\"\r\n-                                                    register={registerItem(\"item_code\", { required: \"Item code is required\" })}\r\n+                                                    register={register(\"item_code\", { required: \"Item code is required\" })}\r\n                                                 />\r\n-                                                {errorsItem.item_code && <span style={{ color: \"red\" }}>{errorsItem.item_code.message}</span>}\r\n+                                                {errors.item_code && <span>{errors.item_code.message}</span>}\r\n                                             </TableCell>\r\n                                             <TableCell>\r\n                                                 <SelectField\r\n                                                     size=\"small\"\r\n                                                     options={services}\r\n                                                     selected={serviceItem}\r\n                                                     onSelect={handleServiceSelect}\r\n-                                                    register={registerItem(\"service\", {\r\n+                                                    //  error={errors?.service?.message}\r\n+                                                    register={register(\"service\", {\r\n                                                         required: \"Please select a service.\",\r\n                                                     })}\r\n                                                 />\r\n-                                                {errorsItem.service && <span style={{ color: \"red\" }}>{errorsItem.service.message}</span>}\r\n+                                                {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n                                             </TableCell>\r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Quantity\"\r\n                                                     type=\"number\"\r\n-                                                    register={registerItem(\"qty\", {\r\n+                                                    register={register(\"qty\", {\r\n                                                         required: \"Quantity is required\",\r\n                                                         min: {\r\n                                                             value: 1,\r\n-                                                            message: \"Quantity must be at least 1\",\r\n+                                                            message: \"Quantity must be at least 0\",\r\n                                                         },\r\n                                                     })}\r\n                                                 />\r\n-                                                {errorsItem.qty && <span style={{ color: \"red\" }}>{errorsItem.qty.message}</span>}\r\n+                                                {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n                                             </TableCell>\r\n \r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Govt fee\"\r\n                                                     type=\"number\"\r\n-                                                    register={registerItem(\"govt_fee\", {\r\n+                                                    register={register(\"govt_fee\", {\r\n                                                         required: \"Govt fee is required\",\r\n                                                         min: {\r\n-                                                            value: 0,\r\n+                                                            value: 1,\r\n                                                             message: \"Govt fee must be at least 0\",\r\n                                                         },\r\n                                                     })}\r\n                                                 />\r\n-                                                {errorsItem.govt_fee && <span style={{ color: \"red\" }}>{errorsItem.govt_fee.message}</span>}\r\n+                                                {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n                                             </TableCell>\r\n \r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Center Fee\"\r\n                                                     type=\"number\"\r\n-                                                    register={registerItem(\"center_fee\", {\r\n+                                                    register={register(\"center_fee\", {\r\n                                                         required: \"Center fee is required\",\r\n                                                         min: {\r\n-                                                            value: 0,\r\n+                                                            value: 1,\r\n                                                             message: \"Center fee must be at least 0\",\r\n                                                         },\r\n                                                     })}\r\n                                                 />\r\n-                                                {errorsItem.center_fee && <span style={{ color: \"red\" }}>{errorsItem.center_fee.message}</span>}\r\n+                                                {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n                                             </TableCell>\r\n \r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     placeholder=\"Bank Charges\"\r\n                                                     type=\"number\"\r\n-                                                    register={registerItem(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n+                                                    register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n                                                     disabled\r\n                                                 />\r\n-                                                {errorsItem.bank_charges && <span style={{ color: \"red\" }}>{errorsItem.bank_charges.message}</span>}\r\n+                                                {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n+\r\n                                             </TableCell>\r\n \r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     disabled={true}\r\n                                                     style={{ border: \"none\" }}\r\n                                                     size=\"small\"\r\n-                                                    placeholder=\"Total\"\r\n-                                                    register={registerItem(\"total\")}\r\n+                                                    placeholder=\"Narration\"\r\n+                                                    register={register(\"total\")}\r\n                                                 />\r\n                                             </TableCell>\r\n                                             <TableCell>\r\n                                                 <Button\r\n                                                     variant=\"contained\"\r\n                                                     color=\"primary\"\r\n-                                                    onClick={handleSubmitItem(addItem)}\r\n+                                                    type=\"submit\"\r\n                                                     sx={{\r\n                                                         textTransform: 'capitalize',\r\n                                                         backgroundColor: \"rgb(189 155 74)\",\r\n                                                         fontSize: \"12px\",\r\n@@ -760,35 +796,38 @@\n                                                 <TableCell>{item?.qty}</TableCell>\r\n                                                 <TableCell>{item?.govt_fee}</TableCell>\r\n                                                 <TableCell>{item?.center_fee}</TableCell>\r\n                                                 <TableCell>{item?.bank_charges}</TableCell>\r\n+\r\n                                                 <TableCell>{item?.total}</TableCell>\r\n+\r\n                                             </TableRow>\r\n                                         ))}\r\n \r\n                                         <TableRow>\r\n-                                            <TableCell colSpan={6} align=\"right\">\r\n+                                            <TableCell colSpan={7} align=\"right\">\r\n                                                 <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n                                             </TableCell>\r\n-                                            <TableCell colSpan={2}>\r\n-                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography>\r\n+                                            <TableCell>\r\n+                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n \r\n+                                        {/* Amount Total Row (optional, if needed for the final sum) */}\r\n                                         <TableRow>\r\n-                                            <TableCell colSpan={6} align=\"right\">\r\n+                                            <TableCell colSpan={7} align=\"right\">\r\n                                                 <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n                                             </TableCell>\r\n-                                            <TableCell colSpan={2}>\r\n-                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography>\r\n+                                            <TableCell>\r\n+                                                <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n-                                        \r\n+                                        {/* </Grid> */}\r\n                                         <TableRow>\r\n-                                            <TableCell colSpan={8} align=\"center\">\r\n+                                            <TableCell colSpan={8} align=\"center\"> {/* adjust colSpan to match total columns */}\r\n                                                 <Box sx={{display:'flex',gap:2,justifyContent:'center'}}>\r\n                                                 <Button\r\n-                                                    onClick={handleSubmit(submitForm)}\r\n+                                                    type=\"submit\"\r\n                                                     disabled={rows?.length === 0}\r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n                                                         width:'350px',\r\n@@ -802,8 +841,9 @@\n                                                     Place Invoice\r\n                                                 </Button>\r\n                                                 <Button\r\n                                                    onClick={()=> navigate('/aldeed-list')}\r\n+                                                    \r\n                                                     variant=\"contained\"\r\n                                                     sx={{\r\n                                                         width:'350px',\r\n                                                         textTransform: 'capitalize',\r\n@@ -817,12 +857,13 @@\n                                                 </Button>\r\n                                                 </Box>\r\n                                             </TableCell>\r\n                                         </TableRow>\r\n+\r\n                                     </TableBody>\r\n                                 </Table>\r\n                             </TableContainer>\r\n-                        </div>\r\n+                        </form>\r\n                     </>\r\n                 }\r\n             </Box>\r\n         </>\r\n"
                },
                {
                    "date": 1744666938990,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -273,9 +273,9 @@\n                 params = {\r\n                     invoice_number: getValues1(\"invoicenumber\"),\r\n                 };\r\n             }\r\n-            const { data } = await CustomerServices.getReceptionDetail(params);\r\n+            const { data } = await CustomerServices.getReceiptDetail(params);\r\n             console.log(data, \"dataaa\");\r\n             setDetail(data?.token)\r\n             setValue1(\"customer\", data?.token?.customer_name);\r\n             setValue1(\"invoice_date\", moment().toDate());\r\n"
                },
                {
                    "date": 1744667032033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -275,9 +275,9 @@\n                 };\r\n             }\r\n             const { data } = await CustomerServices.getReceiptDetail(params);\r\n             console.log(data, \"dataaa\");\r\n-            setDetail(data?.token)\r\n+            setDetail(data?.receipt)\r\n             setValue1(\"customer\", data?.token?.customer_name);\r\n             setValue1(\"invoice_date\", moment().toDate());\r\n             setValue1(\"mobile\", data?.token?.mobile);\r\n             setValue1(\"ref\", data?.token?.reference);\r\n"
                },
                {
                    "date": 1744667037746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -276,17 +276,17 @@\n             }\r\n             const { data } = await CustomerServices.getReceiptDetail(params);\r\n             console.log(data, \"dataaa\");\r\n             setDetail(data?.receipt)\r\n-            setValue1(\"customer\", data?.token?.customer_name);\r\n+            setValue1(\"customer\", data?.receipt?.customer_name);\r\n             setValue1(\"invoice_date\", moment().toDate());\r\n-            setValue1(\"mobile\", data?.token?.mobile);\r\n-            setValue1(\"ref\", data?.token?.reference);\r\n-            setValue1(\"display_customer\", data?.token?.customer_name);\r\n-            setValue1(\"email\", data?.token?.email);\r\n-            setValue1(\"address\", data?.token?.address);\r\n-            setValue1(\"trn\", data?.token?.trn);\r\n-            setValue1(\"cost_center\", data?.token?.cost_center);\r\n+            setValue1(\"mobile\", data?.receipt?.mobile);\r\n+            setValue1(\"ref\", data?.receipt?.reference);\r\n+            setValue1(\"display_customer\", data?.receipt?.customer_name);\r\n+            setValue1(\"email\", data?.receipt?.email);\r\n+            setValue1(\"address\", data?.receipt?.address);\r\n+            setValue1(\"trn\", data?.receipt?.trn);\r\n+            setValue1(\"cost_center\", data?.receipt?.cost_center);\r\n \r\n             setAccounts(data?.accounts?.rows);\r\n         } catch (error) {\r\n             ErrorToaster(error);\r\n"
                },
                {
                    "date": 1744667149825,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -281,9 +281,9 @@\n             setValue1(\"invoice_date\", moment().toDate());\r\n             setValue1(\"mobile\", data?.receipt?.mobile);\r\n             setValue1(\"ref\", data?.receipt?.reference);\r\n             setValue1(\"display_customer\", data?.receipt?.customer_name);\r\n-            setValue1(\"email\", data?.receipt?.email);\r\n+            setValue1(\"email\", data?.receipt?.customer_email);\r\n             setValue1(\"address\", data?.receipt?.address);\r\n             setValue1(\"trn\", data?.receipt?.trn);\r\n             setValue1(\"cost_center\", data?.receipt?.cost_center);\r\n \r\n"
                },
                {
                    "date": 1744667158496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -278,9 +278,9 @@\n             console.log(data, \"dataaa\");\r\n             setDetail(data?.receipt)\r\n             setValue1(\"customer\", data?.receipt?.customer_name);\r\n             setValue1(\"invoice_date\", moment().toDate());\r\n-            setValue1(\"mobile\", data?.receipt?.mobile);\r\n+            setValue1(\"mobile\", data?.receipt?.customer_mobile);\r\n             setValue1(\"ref\", data?.receipt?.reference);\r\n             setValue1(\"display_customer\", data?.receipt?.customer_name);\r\n             setValue1(\"email\", data?.receipt?.customer_email);\r\n             setValue1(\"address\", data?.receipt?.address);\r\n"
                },
                {
                    "date": 1744667205695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -285,9 +285,9 @@\n             setValue1(\"email\", data?.receipt?.customer_email);\r\n             setValue1(\"address\", data?.receipt?.address);\r\n             setValue1(\"trn\", data?.receipt?.trn);\r\n             setValue1(\"cost_center\", data?.receipt?.cost_center);\r\n-\r\n+            setValue1(\"caseno\", data?.receipt?.case_no);\r\n             setAccounts(data?.accounts?.rows);\r\n         } catch (error) {\r\n             ErrorToaster(error);\r\n         } finally {\r\n"
                },
                {
                    "date": 1744667220005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -279,9 +279,9 @@\n             setDetail(data?.receipt)\r\n             setValue1(\"customer\", data?.receipt?.customer_name);\r\n             setValue1(\"invoice_date\", moment().toDate());\r\n             setValue1(\"mobile\", data?.receipt?.customer_mobile);\r\n-            setValue1(\"ref\", data?.receipt?.reference);\r\n+            setValue1(\"ref\", data?.receipt?.ref);\r\n             setValue1(\"display_customer\", data?.receipt?.customer_name);\r\n             setValue1(\"email\", data?.receipt?.customer_email);\r\n             setValue1(\"address\", data?.receipt?.address);\r\n             setValue1(\"trn\", data?.receipt?.trn);\r\n"
                },
                {
                    "date": 1744667289809,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -677,9 +677,9 @@\n                                             <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n                                         </TableRow>\r\n                                     </TableHead>\r\n                                     <TableBody>\r\n-                                        <TableRow>\r\n+                                        {/* <TableRow>\r\n                                             <TableCell>\r\n                                                 <InputField\r\n                                                     size=\"small\"\r\n                                                     disabled={true}\r\n@@ -786,9 +786,9 @@\n                                                 >\r\n                                                     Add Item\r\n                                                 </Button>\r\n                                             </TableCell>\r\n-                                        </TableRow>\r\n+                                        </TableRow> */}\r\n \r\n                                         {rows.map((item, index) => (\r\n                                             <TableRow key={index}>\r\n                                                 <TableCell>{item?.item_code}</TableCell>\r\n"
                },
                {
                    "date": 1744667324873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,8 +286,9 @@\n             setValue1(\"address\", data?.receipt?.address);\r\n             setValue1(\"trn\", data?.receipt?.trn);\r\n             setValue1(\"cost_center\", data?.receipt?.cost_center);\r\n             setValue1(\"caseno\", data?.receipt?.case_no);\r\n+            setRows(data?.receipt?.sale_receipt_items)\r\n             setAccounts(data?.accounts?.rows);\r\n         } catch (error) {\r\n             ErrorToaster(error);\r\n         } finally {\r\n"
                },
                {
                    "date": 1744667381024,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -792,9 +792,9 @@\n \r\n                                         {rows.map((item, index) => (\r\n                                             <TableRow key={index}>\r\n                                                 <TableCell>{item?.item_code}</TableCell>\r\n-                                                <TableCell>{item?.service}</TableCell>\r\n+                                                <TableCell>{item?.service?.name}</TableCell>\r\n                                                 <TableCell>{item?.qty}</TableCell>\r\n                                                 <TableCell>{item?.govt_fee}</TableCell>\r\n                                                 <TableCell>{item?.center_fee}</TableCell>\r\n                                                 <TableCell>{item?.bank_charges}</TableCell>\r\n"
                },
                {
                    "date": 1744667447427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -228,8 +228,9 @@\n     const submitForm1 = async (formData) => {\r\n         console.log(formData);\r\n         try {\r\n             let obj = {\r\n+                id:323,\r\n                 token_number: formData?.token,\r\n                 token_date: date,\r\n                 invoice_prefix: \"AAD\",\r\n                 cost_center: formData?.cost_center?.id,\r\n"
                },
                {
                    "date": 1744667501167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -228,9 +228,9 @@\n     const submitForm1 = async (formData) => {\r\n         console.log(formData);\r\n         try {\r\n             let obj = {\r\n-                id:323,\r\n+                id:detail?.id,\r\n                 token_number: formData?.token,\r\n                 token_date: date,\r\n                 invoice_prefix: \"AAD\",\r\n                 cost_center: formData?.cost_center?.id,\r\n"
                },
                {
                    "date": 1744667808075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,8 +287,9 @@\n             setValue1(\"address\", data?.receipt?.address);\r\n             setValue1(\"trn\", data?.receipt?.trn);\r\n             setValue1(\"cost_center\", data?.receipt?.cost_center);\r\n             setValue1(\"caseno\", data?.receipt?.case_no);\r\n+            setSubTotal(data?.receipt?.total_amount)\r\n             setRows(data?.receipt?.sale_receipt_items)\r\n             setAccounts(data?.accounts?.rows);\r\n         } catch (error) {\r\n             ErrorToaster(error);\r\n"
                }
            ],
            "date": 1744633571052,
            "name": "Commit-0",
            "content": "import React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Checkbox,\r\n  Container,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  Grid,\r\n  IconButton,\r\n  InputLabel,\r\n  Radio,\r\n  RadioGroup,\r\n  Table,\r\n  TableCell,\r\n  TableContainer,\r\n  TableRow,\r\n  Typography,\r\n  TableBody,\r\n  TableHead,\r\n  TextField,\r\n  Paper,\r\n} from \"@mui/material\";\r\nimport RegisterContainer from \"container/Register\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport MobileStepper from \"@mui/material/MobileStepper\";\r\nimport Button from \"@mui/material/Button\";\r\nimport KeyboardArrowLeft from \"@mui/icons-material/KeyboardArrowLeft\";\r\nimport KeyboardArrowRight from \"@mui/icons-material/KeyboardArrowRight\";\r\nimport { PrimaryButton } from \"components/Buttons\";\r\nimport Colors from \"assets/Style/Colors\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport UploadFile from \"components/UploadFile\";\r\nimport InputField from \"components/Input\";\r\nimport DatePicker from \"components/DatePicker\";\r\nimport { ErrorToaster } from \"components/Toaster\";\r\nimport { FormControl } from \"@mui/base\";\r\nimport LabelCustomInput from \"components/Input/LabelCustomInput\";\r\nimport SelectField from \"components/Select\";\r\nimport {\r\n  CleanTypes,\r\n  Debounce,\r\n  Debounce2,\r\n  getFileSize,\r\n  handleDownload,\r\n} from \"utils\";\r\nimport instance from \"config/axios\";\r\nimport routes from \"services/System/routes\";\r\nimport CustomerServices from \"services/Customer\";\r\nimport CustomerService from \"../DashboardPages/CustomerService\";\r\nimport { showErrorToast, showPromiseToast } from \"components/NewToaster\";\r\nimport moment from \"moment\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport SystemServices from \"services/System\";\r\nimport UploadFileSingle from \"components/UploadFileSingle\";\r\nimport { Images } from \"assets\";\r\nimport { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\nimport { addMonths } from \"date-fns\";\r\nimport { useAuth } from \"context/UseContext\";\r\nimport DoDisturbIcon from \"@mui/icons-material/DoDisturb\";\r\nimport axios from \"axios\";\r\nimport UploadIcon from \"@mui/icons-material/Upload\";\r\nimport FinanceServices from \"services/Finance\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\n// import { TableBody, TableHead } from \"mui-datatables\";\r\n\r\nfunction SalesReciept() {\r\n  const theme = useTheme();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [formChange, setFormChange] = useState(false);\r\n  const [submit, setSubmit] = useState(false);\r\n  const [excludeFromSales, setExcludeFromSales] = useState(\"no\");\r\n  const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n  const [total, setTotal] = useState(0);\r\n  const [subTotal, setSubTotal] = useState(0);\r\n  const [rows, setRows] = useState([]);\r\n\r\n\r\n  console.log(rows, \"data\")\r\n  const [items, setItems] = useState([\r\n    {\r\n      itemCode: \"\",\r\n      itemDescription: \"TASHEEL AUTO 19\",\r\n      totalCharge: 17.1,\r\n      mbNo: \"\",\r\n      applicationId: \"\",\r\n      total: 17.1,\r\n    },\r\n  ]);\r\n\r\n  // const addItem = () => {\r\n  //   const newItem = {\r\n  //     itemCode: \"\",\r\n  //     itemDescription: \"\",\r\n  //     totalCharge: 0,\r\n  //     mbNo: \"\",\r\n  //     applicationId: \"\",\r\n  //     total: 0,\r\n  //   };\r\n  //   setItems([...items, newItem]);\r\n  // };\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    getValues,\r\n    setValue,\r\n    watch,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const {\r\n    register: register1,\r\n    handleSubmit: handleSubmit1,\r\n    setValue: setValue1,\r\n    getValues: getValues1,\r\n    control,\r\n    watch: watch1,\r\n    formState: { errors: errors1 },\r\n  } = useForm();\r\n\r\n  // Watch all form data\r\n\r\n  // Watch for changes in the fee-related fields\r\n  const govtFee = watch('govt_fee', 0);\r\n  const centerFee = watch('center_fee', 0);\r\n  const bankCharges = watch('bank_charges', 0);\r\n  const qty = watch('qty', 1);\r\n  useEffect(() => {\r\n    const feesTotal = (parseFloat(govtFee) || 0) + (parseFloat(centerFee) || 0) + (parseFloat(bankCharges) || 0);\r\n    const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n    setValue(\"total\", finalTotal);\r\n  }, [govtFee, centerFee, bankCharges, qty]);\r\n\r\n  const addItem = (data) => {\r\n    const total = data.total;\r\n    setRows((prevRows) => {\r\n      const updatedRows = [...prevRows, data];\r\n      const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n      setSubTotal(newSubTotal);\r\n      return updatedRows;\r\n    });\r\n    reset();\r\n    setServiceItem(\"\")\r\n  };\r\n  const isFormDataEmpty = (data) => {\r\n    // Check if all form fields are empty\r\n    return Object.values(data).every((value) => {\r\n      // If the value is an object (like companyLogo), check if it's empty\r\n      if (typeof value === \"object\" && value !== null) {\r\n        return Object.keys(value).length === 0;\r\n      }\r\n      // Otherwise, check if the value is an empty string\r\n      return value === \"\";\r\n    });\r\n  };\r\n\r\n  const allowFilesType = [\r\n    \"image/png\",\r\n    \"image/jpg\",\r\n    \"image/jpeg\",\r\n    \"application/pdf\",\r\n    \"application/vnd.ms-excel\",\r\n    \"application/msword\",\r\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n  ];\r\n  const allowFilesType2 = [\"image/png\", \"image/jpg\", \"image/jpeg\"];\r\n  const [guarantors, setGuarantors] = useState([]);\r\n  const [activeStep, setActiveStep] = React.useState(1);\r\n\r\n  // *For Deposit Slip\r\n  const [progress, setProgress] = useState(0);\r\n  const [uploadedSize, setUploadedSize] = useState(0);\r\n  const [slipDetail, setSlipDetail] = useState([]);\r\n\r\n  const [selectedDue, setSelectedDue] = useState({\r\n    id: \"Instant\",\r\n    name: \"Instant\",\r\n  });\r\n  const [passport, setPassport] = useState();\r\n  const [allocation, setAllocation] = useState(false);\r\n  const [depositError, setDepositError] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [emailVerify, setEmailVerify] = useState(false);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [loader, setLoader] = useState(false);\r\n  const [fieldsDisabled, setFieldsDisabled] = useState({\r\n    monthlyVisaServiceCharges: false,\r\n    vipMedical: false,\r\n    extraTyping: true,\r\n  });\r\n\r\n  const [center, setCenter] = useState(null);\r\n  const [status, setStatus] = useState(null);\r\n\r\n  // *For Stepper Forms Data\r\n  const [stepFormData, setStepFormData] = useState();\r\n  const [step1FormData, setStep1FormData] = useState();\r\n  const [selectedType, setSelectedType] = useState(null);\r\n  const [date, setDate] = useState(null);\r\n  const [balanceType, setBalanceType] = useState(null);\r\n  const [imageURL, setImageURL] = useState(null);\r\n  const fileInputRef = useRef(null);\r\n  const [hovered, setHovered] = useState(false);\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [salesAccount, setSalesAccount] = useState(null);\r\n  const [inventoryAccount, setInventoryAccount] = useState(null);\r\n  const [cogsAccount, setCogsAccount] = useState(null);\r\n  const [adjustmentAccount, setAdjustmentAccount] = useState(null);\r\n  const [assemblyAccount, setAssemblyAccount] = useState(null);\r\n  const [itemType, setItemType] = useState(null);\r\n  const [unit, setUnit] = useState(null);\r\n  const [taxes, setTaxes] = useState([]);\r\n  const [tax, setTax] = useState(null);\r\n  const [category, setCategory] = useState(null);\r\n  const [categories, setCategories] = useState(null);\r\n  const [governmentAccount, setGovernmnentAccount] = useState(null);\r\n  const [description, setDescription] = useState(null);\r\n  const [ownGovBank, setOwnGovBank] = useState(null);\r\n  const [services, setServices] = useState(null);\r\n  const [serviceItem, setServiceItem] = useState(null);\r\n  const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n  const [detail, setDetail] = useState(null)\r\n  //documents array\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const submitForm1 = async (formData) => {\r\n    console.log(formData);\r\n    try {\r\n      let obj = {\r\n        token_number: formData?.token,\r\n        token_date: date,\r\n        invoice_prefix: \"AAD\",\r\n        cost_center:formData?.cost_center,\r\n        customer_name: formData?.display_customer,\r\n        reception_id: detail?.id,\r\n        customer_mobile: formData?.mobile,\r\n        customer_email: formData?.email,\r\n        ref: formData?.ref,\r\n        total_amount: subTotal,\r\n\r\n        items: rows\r\n      };\r\n      console.log(formData, \"formData\");\r\n      const promise = CustomerServices.CreateSaleReceipt(obj);\r\n\r\n      showPromiseToast(\r\n        promise,\r\n        \"Saving...\",\r\n        \"Added Successfully\",\r\n        \"Something Went Wrong\"\r\n      );\r\n      const response = await promise;\r\n      if (response?.responseCode === 200) {\r\n        navigate(\"/pre-sales\");\r\n      }\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    }\r\n  };\r\n\r\n  // *For Get Account\r\n  const getReceptionDetail = async () => {\r\n    try {\r\n      let params = {\r\n        token_number: getValues1(\"token\"),\r\n      };\r\n      const { data } = await CustomerServices.getReceptionDetail(params);\r\n      console.log(data, \"dataaa\");\r\n      setDetail(data?.token)\r\n      setValue1(\"customer\", data?.token?.customer_name);\r\n      setValue1(\"invoice_date\", moment().toDate());\r\n      setValue1(\"mobile\", data?.token?.mobile);\r\n      setValue1(\"ref\", data?.token?.reference);\r\n      setValue1(\"display_customer\", data?.token?.customer_name);\r\n      setValue1(\"email\", data?.token?.email);\r\n      setValue1(\"address\", data?.token?.address);\r\n      setValue1(\"trn\", data?.token?.trn);\r\n      setValue1(\"cost_center\", data?.token?.cost_center);\r\n\r\n      setAccounts(data?.accounts?.rows);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n\r\n  const getServiceItem = async () => {\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n      };\r\n\r\n      const { data } = await CustomerServices.getServiceItem(params);\r\n\r\n      setServices(data?.rows);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n  const handleServiceSelect = async (value) => {\r\n    console.log(value, \"idididid\");\r\n    setServiceItem(value);\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        service_id: value?.id,\r\n      };\r\n\r\n      const { data } = await CustomerServices.DetailServiceItem(params);\r\n      setValue(\"item_code\", data?.service?.id);\r\n      setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n      setValue(\"center_fee\", data?.service?.center_fee);\r\n      setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n\r\n      setValue(\"qty\", 1);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n\r\n  const getAccounts = async (page, limit, filter) => {\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n      };\r\n\r\n      const { data } = await FinanceServices.getAccounts(params);\r\n      console.log(data?.accounts?.rows);\r\n\r\n      setAccounts(data?.accounts?.rows);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n  const getTax = async () => {\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n      };\r\n\r\n      const { data } = await FinanceServices.getTax(params);\r\n      console.log(data?.accounts?.rows);\r\n\r\n      setTaxes(data?.tax);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n  const getCategories = async () => {\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n      };\r\n\r\n      const { data } = await CustomerServices.getCategoryList(params);\r\n\r\n      setCategories(data?.categories);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAccounts();\r\n    getTax();\r\n    getCategories();\r\n    getServiceItem();\r\n    setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" })\r\n    setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: \"100%\" }}></Box>\r\n      <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n        {\r\n          <>\r\n            <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  gap: \"10px\",\r\n                  p: 3,\r\n                  alignItems: \"flex-end\",\r\n                }}\r\n              >\r\n                <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n                  Sales Receipt\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Box sx={{ p: 3 }}>\r\n                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                  <Grid item xs={12}>\r\n                    <Grid container>\r\n                      <Grid item md={3} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Token\"\r\n                          size=\"small\"\r\n                          placeholder=\"Enter Token\"\r\n                          register={register1(\"token\")}\r\n                          InputProps={{\r\n                            endAdornment: (\r\n                              <IconButton onClick={getReceptionDetail}>\r\n                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n                              </IconButton>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  <Grid\r\n                    item\r\n                    md={5.5}\r\n                    sm={12}\r\n                    xs={12}\r\n                    sx={{\r\n                      border: \"2px solid black\",\r\n                      p: 2,\r\n                      borderRadius: \"15px\",\r\n                    }}\r\n                  >\r\n                    <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Invoice No\"\r\n                          size=\"small\"\r\n                          placeholder=\"TSL/83540\"\r\n                          register={register1(\"invoice_no\")}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={5.7}>\r\n                        <DatePicker\r\n                          label={\"Invoice Date :*\"}\r\n                          value={date}\r\n                          size={'small'}\r\n\r\n                          error={errors1?.date?.message}\r\n                          register={register1(\"date\", {\r\n                            required:\r\n                              date ? false :\r\n                                \"please enter  date.\"\r\n\r\n                          })}\r\n                          onChange={(date) => {\r\n\r\n                            setValue1('date', date)\r\n                            setDate(new Date(date));\r\n\r\n                          }\r\n\r\n                          }\r\n                        /></Grid>\r\n\r\n                      <Grid item xs={5.7} >\r\n                        <SelectField\r\n                          size={'small'}\r\n                          label={'Customer *:'}\r\n                          disabled={true}\r\n                          options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n                          selected={selectedCustomer}\r\n                          onSelect={(value) => {\r\n                            setSelectedCustomer(value)\r\n\r\n\r\n                          }}\r\n                          error={errors1?.customer?.message}\r\n                          register={register1(\"customer\", {\r\n                            required: false,\r\n                          })}\r\n                        />\r\n                      </Grid>\r\n\r\n\r\n\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    md={5.5}\r\n                    sm={12}\r\n                    xs={12}\r\n                    sx={{\r\n                      border: \"2px solid black\",\r\n                      p: 2,\r\n                      borderRadius: \"15px\",\r\n                      mt: { md: 0, sm: 2, xs: 2 },\r\n                    }}\r\n                  >\r\n                    <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Display Customer\"\r\n                          size=\"small\"\r\n                          placeholder=\"Walk-in Customer\"\r\n                          register={register1(\"display_customer\", {\r\n                            required: 'please enter display name.'\r\n                          })}\r\n                          error={errors1?.display_customer?.message}\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Mobile\"\r\n                          size=\"small\"\r\n                          placeholder=\"Mobile No\"\r\n\r\n                          register={register1(\"mobile\", {\r\n                            required: 'please enter mobile .'\r\n                          })}\r\n                          error={errors1?.display_customer?.message}\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Email\"\r\n                          size=\"small\"\r\n                          placeholder=\"Email\"\r\n\r\n                          register={register1(\"email\", {\r\n                            required: 'please enter email .'\r\n                          })}\r\n                          error={errors1?.email?.message}\r\n                        />\r\n                      </Grid>\r\n{/* \r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"TRN\"\r\n                          size=\"small\"\r\n                          placeholder=\"TRN\"\r\n\r\n\r\n                          register={register1(\"trn\", {\r\n                            required: 'please enter trn .'\r\n                          })}\r\n                          error={errors1?.trn?.message}\r\n                        />\r\n                      </Grid> */}\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Ref\"\r\n                          size=\"small\"\r\n                          placeholder=\"Reference\"\r\n                          register={register1(\"ref\")}\r\n                        />\r\n                      </Grid>\r\n                     \r\n                      {/* <Grid item md={5.7} sm={12} xs={12}>\r\n                        <SelectField\r\n                          label=\"Cost Center\"\r\n                          size=\"small\"\r\n                          options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n                          selected={watch1(\"cost_center\")}\r\n                          onSelect={(value) => setValue1(\"cost_center\", value)}\r\n\r\n                          register={register1(\"cost_center\", {\r\n                            required: 'please enter cost center .'\r\n                          })}\r\n                          error={errors1?.cost_center?.message}\r\n                        />\r\n                      </Grid> */}\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Address\"\r\n                          size=\"small\"\r\n                          placeholder=\"Address\"\r\n                          multiline\r\n                          rows={2}\r\n\r\n                          register={register1(\"address\", {\r\n                            required: 'please enter address .'\r\n                          })}\r\n                          error={errors1?.address?.message}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  {/* </Grid> */}\r\n                  <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={rows?.length == 0}\r\n                      variant=\"contained\"\r\n                      sx={{\r\n                        textTransform: 'capitalize',\r\n                        backgroundColor: \"#bd9b4a\",\r\n                        \":hover\": {\r\n                          backgroundColor: \"rgb(189 155 74)\",\r\n                        },\r\n                      }}\r\n                    >\r\n                      Create\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            </Box>\r\n\r\n\r\n            <form onSubmit={handleSubmit(addItem)}>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n                      <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n                      <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n                      <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n                      <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n                      <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n\r\n                      <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n                      <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    <TableRow>\r\n                      <TableCell>\r\n                        <InputField\r\n                          size=\"small\"\r\n                          disabled={true}\r\n                          placeholder=\"Item code\"\r\n                          register={register(\"item_code\", { required: \"Item code is required\" })}\r\n                        />\r\n                        {errors.item_code && <span>{errors.item_code.message}</span>}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <SelectField\r\n                          size=\"small\"\r\n                          options={services}\r\n                          selected={serviceItem}\r\n                          onSelect={handleServiceSelect}\r\n                          //  error={errors?.service?.message}\r\n                          register={register(\"service\", {\r\n                            required: \"Please select a service.\",\r\n                          })}\r\n                        />\r\n                        {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <InputField\r\n                          size=\"small\"\r\n                          placeholder=\"Quantity\"\r\n                          type=\"number\"\r\n                          register={register(\"qty\", { required: \"Quantity is required\" })}\r\n                        />\r\n                        {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <InputField\r\n                          size=\"small\"\r\n                          placeholder=\"Govt fee\"\r\n                          type=\"number\"\r\n                          register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n                        />\r\n                        {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <InputField\r\n                          size=\"small\"\r\n                          placeholder=\"Center Fee\"\r\n                          type=\"number\"\r\n                          register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n                        />\r\n                        {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <InputField\r\n                          size=\"small\"\r\n                          placeholder=\"Bank Charges\"\r\n                          type=\"number\"\r\n                          register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n                          disabled\r\n                        />\r\n                        {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n\r\n                      </TableCell>\r\n\r\n                      <TableCell>\r\n                        <InputField\r\n                          disabled={true}\r\n                          style={{ border: \"none\" }}\r\n                          size=\"small\"\r\n                          placeholder=\"Narration\"\r\n                          register={register(\"total\")}\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Button\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                          type=\"submit\"\r\n                          sx={{\r\n                            textTransform: 'capitalize',\r\n                            backgroundColor: \"rgb(189 155 74)\",\r\n                            fontSize: \"12px\",\r\n                            \":hover\": {\r\n                              backgroundColor: \"rgb(189 155 74)\",\r\n                            },\r\n                          }}\r\n                        >\r\n                          Add Item\r\n                        </Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n\r\n                    {rows.map((item, index) => (\r\n                      <TableRow key={index}>\r\n                        <TableCell>{item?.item_code}</TableCell>\r\n                        <TableCell>{item?.service}</TableCell>\r\n                        <TableCell>{item?.qty}</TableCell>\r\n                        <TableCell>{item?.govt_fee}</TableCell>\r\n                        <TableCell>{item?.center_fee}</TableCell>\r\n                        <TableCell>{item?.bank_charges}</TableCell>\r\n\r\n                        <TableCell>{item?.total}</TableCell>\r\n\r\n                      </TableRow>\r\n                    ))}\r\n\r\n                    <TableRow>\r\n                      <TableCell colSpan={7} align=\"right\">\r\n                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n                      </TableCell>\r\n                    </TableRow>\r\n\r\n                    {/* Amount Total Row (optional, if needed for the final sum) */}\r\n                    <TableRow>\r\n                      <TableCell colSpan={7} align=\"right\">\r\n                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </form>\r\n          </>\r\n        }\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SalesReciept;\r\n"
        }
    ]
}