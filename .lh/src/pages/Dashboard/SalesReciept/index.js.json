{
    "sourceFile": "src/pages/Dashboard/SalesReciept/index.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 162,
            "patches": [
                {
                    "date": 1744620323235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744620504358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -469,9 +469,9 @@\n                           label=\"Customer\"\r\n                           size=\"small\"\r\n                           options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n                           selected={watch1(\"customer\")}\r\n-                          onSelect={(value) => setValue(\"customer\", value)}\r\n+                          onSelect={(value) => setValue1(\"customer\", value)}\r\n                           register={register1(\"customer\")}\r\n                         />\r\n                       </Grid>\r\n \r\n"
                },
                {
                    "date": 1744620523874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -388,8 +388,9 @@\n     getAccounts();\r\n     getTax();\r\n     getCategories();\r\n     getServiceItem();\r\n+    setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n   }, []);\r\n \r\n   return (\r\n     <>\r\n"
                },
                {
                    "date": 1744620547918,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -468,8 +468,9 @@\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Customer\"\r\n                           size=\"small\"\r\n+                          disabled={true}\r\n                           options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n                           selected={watch1(\"customer\")}\r\n                           onSelect={(value) => setValue1(\"customer\", value)}\r\n                           register={register1(\"customer\")}\r\n"
                },
                {
                    "date": 1744620624175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,8 +220,9 @@\n   const [description, setDescription] = useState(null);\r\n   const [ownGovBank, setOwnGovBank] = useState(null);\r\n   const [services, setServices] = useState(null);\r\n   const [serviceItem, setServiceItem] = useState(null);\r\n+  const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n   //documents array\r\n \r\n   const handleNext = () => {\r\n     setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n"
                },
                {
                    "date": 1744620680829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -464,9 +464,26 @@\n                           onChange={(value) => setValue(\"invoice_date\", value)}\r\n                           maxDate={moment().toDate()}\r\n                         />\r\n                       </Grid>\r\n+                      <Grid item xs={2.8} >\r\n+                                <SelectField\r\n+                                    size={'small'}\r\n+                                    label={'Service Category *:'}\r\n \r\n+                                    options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n+                                    selected={selectedCategory}\r\n+                                    onSelect={(value) => {\r\n+                                        setSelectedCategory(value)\r\n+                                       \r\n+\r\n+                                    }}\r\n+                                    error={errors1?.service?.message}\r\n+                                    register={register1(\"service\", {\r\n+                                        required: 'Please select service.',\r\n+                                    })}\r\n+                                />\r\n+                            </Grid>\r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Customer\"\r\n                           size=\"small\"\r\n"
                },
                {
                    "date": 1744620692997,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -470,11 +470,11 @@\n                                     size={'small'}\r\n                                     label={'Service Category *:'}\r\n \r\n                                     options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n-                                    selected={selectedCategory}\r\n+                                    selected={selectedCustomer}\r\n                                     onSelect={(value) => {\r\n-                                        setSelectedCategory(value)\r\n+                                        setSelectedCustomer(value)\r\n                                        \r\n \r\n                                     }}\r\n                                     error={errors1?.service?.message}\r\n"
                },
                {
                    "date": 1744620703675,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -476,25 +476,15 @@\n                                         setSelectedCustomer(value)\r\n                                        \r\n \r\n                                     }}\r\n-                                    error={errors1?.service?.message}\r\n-                                    register={register1(\"service\", {\r\n-                                        required: 'Please select service.',\r\n+                                    error={errors1?.customer?.message}\r\n+                                    register={register1(\"customer\", {\r\n+                                        required: 'Please select customer.',\r\n                                     })}\r\n                                 />\r\n                             </Grid>\r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <SelectField\r\n-                          label=\"Customer\"\r\n-                          size=\"small\"\r\n-                          disabled={true}\r\n-                          options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n-                          selected={watch1(\"customer\")}\r\n-                          onSelect={(value) => setValue1(\"customer\", value)}\r\n-                          register={register1(\"customer\")}\r\n-                        />\r\n-                      </Grid>\r\n+                     \r\n \r\n                    \r\n                     </Grid>\r\n                   </Grid>\r\n"
                },
                {
                    "date": 1744620714905,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -389,8 +389,9 @@\n     getAccounts();\r\n     getTax();\r\n     getCategories();\r\n     getServiceItem();\r\n+    setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" })\r\n     setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n   }, []);\r\n \r\n   return (\r\n"
                },
                {
                    "date": 1744620730893,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -468,9 +468,9 @@\n                       </Grid>\r\n                       <Grid item xs={2.8} >\r\n                                 <SelectField\r\n                                     size={'small'}\r\n-                                    label={'Service Category *:'}\r\n+                                    label={'Customer *:'}\r\n \r\n                                     options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n                                     selected={selectedCustomer}\r\n                                     onSelect={(value) => {\r\n"
                },
                {
                    "date": 1744620744263,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -465,9 +465,9 @@\n                           onChange={(value) => setValue(\"invoice_date\", value)}\r\n                           maxDate={moment().toDate()}\r\n                         />\r\n                       </Grid>\r\n-                      <Grid item xs={2.8} >\r\n+                      <Grid item xs={5.7 >\r\n                                 <SelectField\r\n                                     size={'small'}\r\n                                     label={'Customer *:'}\r\n \r\n@@ -479,9 +479,9 @@\n \r\n                                     }}\r\n                                     error={errors1?.customer?.message}\r\n                                     register={register1(\"customer\", {\r\n-                                        required: 'Please select customer.',\r\n+                                        required: false,\r\n                                     })}\r\n                                 />\r\n                             </Grid>\r\n                      \r\n"
                },
                {
                    "date": 1744620927849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -465,13 +465,13 @@\n                           onChange={(value) => setValue(\"invoice_date\", value)}\r\n                           maxDate={moment().toDate()}\r\n                         />\r\n                       </Grid>\r\n-                      <Grid item xs={5.7 >\r\n+                      <Grid item xs={5.7} >\r\n                                 <SelectField\r\n                                     size={'small'}\r\n                                     label={'Customer *:'}\r\n-\r\n+disabled={true}\r\n                                     options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n                                     selected={selectedCustomer}\r\n                                     onSelect={(value) => {\r\n                                         setSelectedCustomer(value)\r\n"
                },
                {
                    "date": 1744620967774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,13 +73,13 @@\n   const [submit, setSubmit] = useState(false);\r\n   const [excludeFromSales, setExcludeFromSales] = useState(\"no\");\r\n   const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n   const [total, setTotal] = useState(0);\r\n-  const [subTotal, setSubTotal] = useState(0); \r\n+  const [subTotal, setSubTotal] = useState(0);\r\n   const [rows, setRows] = useState([]);\r\n \r\n \r\n-console.log(rows , \"data\")\r\n+  console.log(rows, \"data\")\r\n   const [items, setItems] = useState([\r\n     {\r\n       itemCode: \"\",\r\n       itemDescription: \"TASHEEL AUTO 19\",\r\n@@ -116,36 +116,36 @@\n     handleSubmit: handleSubmit1,\r\n     setValue: setValue1,\r\n     getValues: getValues1,\r\n     control,\r\n-    watch :watch1,\r\n+    watch: watch1,\r\n     formState: { errors: errors1 },\r\n   } = useForm();\r\n \r\n   // Watch all form data\r\n-  \r\n+\r\n   // Watch for changes in the fee-related fields\r\n   const govtFee = watch('govt_fee', 0);\r\n   const centerFee = watch('center_fee', 0);\r\n   const bankCharges = watch('bank_charges', 0);\r\n   const qty = watch('qty', 1);\r\n   useEffect(() => {\r\n     const feesTotal = (parseFloat(govtFee) || 0) + (parseFloat(centerFee) || 0) + (parseFloat(bankCharges) || 0);\r\n-    const finalTotal = feesTotal * (parseFloat(qty) || 1); \r\n-    setValue(\"total\",finalTotal);\r\n+    const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n+    setValue(\"total\", finalTotal);\r\n   }, [govtFee, centerFee, bankCharges, qty]);\r\n \r\n-const addItem = (data) => {\r\n-  const total = data.total;  \r\n-  setRows((prevRows) => {\r\n-    const updatedRows = [...prevRows, data];\r\n-    const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0); \r\n-    setSubTotal(newSubTotal); \r\n-    return updatedRows;\r\n-  });\r\n-  reset();\r\n-  setServiceItem(\"\")\r\n-};\r\n+  const addItem = (data) => {\r\n+    const total = data.total;\r\n+    setRows((prevRows) => {\r\n+      const updatedRows = [...prevRows, data];\r\n+      const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n+      setSubTotal(newSubTotal);\r\n+      return updatedRows;\r\n+    });\r\n+    reset();\r\n+    setServiceItem(\"\")\r\n+  };\r\n   const isFormDataEmpty = (data) => {\r\n     // Check if all form fields are empty\r\n     return Object.values(data).every((value) => {\r\n       // If the value is an object (like companyLogo), check if it's empty\r\n@@ -154,9 +154,9 @@\n       }\r\n       // Otherwise, check if the value is an empty string\r\n       return value === \"\";\r\n     });\r\n-  };  \r\n+  };\r\n \r\n   const allowFilesType = [\r\n     \"image/png\",\r\n     \"image/jpg\",\r\n@@ -322,9 +322,9 @@\n       setValue(\"item_code\", data?.service?.id);\r\n       setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n       setValue(\"center_fee\", data?.service?.center_fee);\r\n       setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n-      setValue(\"qty\",1);\r\n+      setValue(\"qty\", 1);\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     } finally {\r\n       // setLoader(false)\r\n@@ -466,28 +466,28 @@\n                           maxDate={moment().toDate()}\r\n                         />\r\n                       </Grid>\r\n                       <Grid item xs={5.7} >\r\n-                                <SelectField\r\n-                                    size={'small'}\r\n-                                    label={'Customer *:'}\r\n-disabled={true}\r\n-                                    options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n-                                    selected={selectedCustomer}\r\n-                                    onSelect={(value) => {\r\n-                                        setSelectedCustomer(value)\r\n-                                       \r\n+                        <SelectField\r\n+                          size={'small'}\r\n+                          label={'Customer *:'}\r\n+                          disabled={true}\r\n+                          options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n+                          selected={selectedCustomer}\r\n+                          onSelect={(value) => {\r\n+                            setSelectedCustomer(value)\r\n \r\n-                                    }}\r\n-                                    error={errors1?.customer?.message}\r\n-                                    register={register1(\"customer\", {\r\n-                                        required: false,\r\n-                                    })}\r\n-                                />\r\n-                            </Grid>\r\n-                     \r\n \r\n-                   \r\n+                          }}\r\n+                          error={errors1?.customer?.message}\r\n+                          register={register1(\"customer\", {\r\n+                            required: false,\r\n+                          })}\r\n+                        />\r\n+                      </Grid>\r\n+\r\n+\r\n+\r\n                     </Grid>\r\n                   </Grid>\r\n                   <Grid\r\n                     item\r\n@@ -588,177 +588,177 @@\n                 </Grid>\r\n               </Box>\r\n             </Box>\r\n \r\n-            \r\n-    <form onSubmit={handleSubmit(addItem)}>\r\n-      <TableContainer component={Paper}>\r\n-        <Table>\r\n-          <TableHead>\r\n-            <TableRow>\r\n-              <TableCell>Item Code</TableCell>\r\n-              <TableCell sx={{ width: \"200px\" }}>Item Description</TableCell>\r\n-              <TableCell>Qty</TableCell>\r\n-              <TableCell>Govt fee</TableCell>\r\n-              <TableCell>Center fee</TableCell>\r\n-              <TableCell>Bank Charge</TableCell>\r\n-              <TableCell>Transaction ID</TableCell>\r\n-              <TableCell>Application ID</TableCell>\r\n-              <TableCell>Narration</TableCell>\r\n-              <TableCell>Total</TableCell>\r\n-              <TableCell>Action</TableCell>\r\n-            </TableRow>\r\n-          </TableHead>\r\n-          <TableBody>\r\n-            <TableRow>\r\n-              <TableCell>\r\n-                <InputField\r\n-                  size=\"small\"\r\n-                  placeholder=\"Item code\"\r\n-                  {...register(\"item_code\", { required: \"Item code is required\" })}\r\n-                />\r\n-                {errors.item_code && <span>{errors.item_code.message}</span>}\r\n-              </TableCell>\r\n-              <TableCell>\r\n-              <SelectField\r\n-                         size=\"small\"\r\n-                         options={services}\r\n-                         selected={serviceItem}\r\n-                         onSelect={handleServiceSelect}\r\n-                        //  error={errors?.service?.message}\r\n-                         register={register(\"service\", {\r\n-                           required: \"Please select a service.\",\r\n-                         })}\r\n-                       />\r\n-                {errors.service && <span style={{color:\"red\"}}>{errors.service.message}</span>}\r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <InputField\r\n-                  size=\"small\"\r\n-                  placeholder=\"Quantity\"\r\n-                  type=\"number\"\r\n-                  register={register(\"qty\", { required: \"Quantity is required\" })}\r\n-                />\r\n-                {errors.qty && <span style={{color:\"red\"}}>{errors.qty.message}</span>}\r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <InputField\r\n-                  size=\"small\"\r\n-                  placeholder=\"Govt fee\"\r\n-                  type=\"number\"\r\n-                  register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n-                />\r\n-                {errors.govt_fee && <span style={{color:\"red\"}}>{errors.govt_fee.message}</span>}\r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <InputField\r\n-                  size=\"small\"\r\n-                  placeholder=\"Center Fee\"\r\n-                  type=\"number\"\r\n-                  register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n-                />\r\n-                {errors.center_fee && <span style={{color:\"red\"}}>{errors.center_fee.message}</span>}\r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <InputField\r\n-                  size=\"small\"\r\n-                  placeholder=\"Bank Charges\"\r\n-                  type=\"number\"\r\n-                  register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n-                  disabled\r\n-                />\r\n-                {errors.bank_charges && <span style={{color:\"red\"}}>{errors.bank_charges.message}</span>}\r\n \r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <InputField\r\n-                  size=\"small\"\r\n-                  placeholder=\"Transaction Id\"\r\n-                  register={register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n-                />\r\n-                {errors.transaction_id && <span style={{color:\"red\"}}>{errors.transaction_id.message}</span>}\r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <InputField\r\n-                  size=\"small\"\r\n-                  placeholder=\"Application Id\"\r\n-                  register={register(\"application_id\", { required: \"Application Id is required\" })}\r\n-                />\r\n-                {errors.application_id && <span style={{color:\"red\"}}>{errors.application_id.message}</span>}\r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <InputField\r\n-                  size=\"small\"\r\n-                  placeholder=\"Narration\"\r\n-                  register={register(\"narration\", { required: \"Narration is required\" })}\r\n-                />\r\n-                {errors.narration && <span style={{color:\"red\"}}>{errors.narration.message}</span>}\r\n-              </TableCell>\r\n-              <TableCell>\r\n-               <InputField\r\n-                   disabled={true}\r\n-                   style={{border:\"none\"}}\r\n-                  size=\"small\"\r\n-                  placeholder=\"Narration\"\r\n-                  register={register(\"total\")}\r\n-                />\r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <Button\r\n-                  variant=\"contained\"\r\n-                  color=\"primary\"\r\n-                  type=\"submit\"\r\n-                  sx={{\r\n-                    backgroundColor: \"rgb(189 155 74)\",\r\n-                    fontSize: \"12px\",\r\n-                    \":hover\": {\r\n-                      backgroundColor: \"rgb(189 155 74)\",\r\n-                    },\r\n-                  }}\r\n-                >\r\n-                  Add Item\r\n-                </Button>\r\n-              </TableCell>\r\n-            </TableRow>\r\n+            <form onSubmit={handleSubmit(addItem)}>\r\n+              <TableContainer component={Paper}>\r\n+                <Table>\r\n+                  <TableHead>\r\n+                    <TableRow>\r\n+                      <TableCell>Item Code</TableCell>\r\n+                      <TableCell sx={{ width: \"200px\" }}>Service</TableCell>\r\n+                      <TableCell>Qty</TableCell>\r\n+                      <TableCell>Govt fee</TableCell>\r\n+                      <TableCell>Center fee</TableCell>\r\n+                      <TableCell>Bank Charge</TableCell>\r\n+                      <TableCell>Transaction ID</TableCell>\r\n+                      <TableCell>Application ID</TableCell>\r\n+                      <TableCell>Narration</TableCell>\r\n+                      <TableCell>Total</TableCell>\r\n+                      <TableCell>Action</TableCell>\r\n+                    </TableRow>\r\n+                  </TableHead>\r\n+                  <TableBody>\r\n+                    <TableRow>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Item code\"\r\n+                          {...register(\"item_code\", { required: \"Item code is required\" })}\r\n+                        />\r\n+                        {errors.item_code && <span>{errors.item_code.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <SelectField\r\n+                          size=\"small\"\r\n+                          options={services}\r\n+                          selected={serviceItem}\r\n+                          onSelect={handleServiceSelect}\r\n+                          //  error={errors?.service?.message}\r\n+                          register={register(\"service\", {\r\n+                            required: \"Please select a service.\",\r\n+                          })}\r\n+                        />\r\n+                        {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Quantity\"\r\n+                          type=\"number\"\r\n+                          register={register(\"qty\", { required: \"Quantity is required\" })}\r\n+                        />\r\n+                        {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Govt fee\"\r\n+                          type=\"number\"\r\n+                          register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n+                        />\r\n+                        {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Center Fee\"\r\n+                          type=\"number\"\r\n+                          register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n+                        />\r\n+                        {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Bank Charges\"\r\n+                          type=\"number\"\r\n+                          register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n+                          disabled\r\n+                        />\r\n+                        {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n \r\n-            {rows.map((item, index) => (\r\n-              <TableRow key={index}>\r\n-                <TableCell>{item?.item_code}</TableCell>\r\n-                <TableCell>{item?.service}</TableCell>\r\n-                <TableCell>{item?.qty}</TableCell>\r\n-                <TableCell>{item?.govt_fee}</TableCell>\r\n-                <TableCell>{item?.center_fee}</TableCell>\r\n-                <TableCell>{item?.bank_charges}</TableCell>\r\n-                <TableCell>{item?.transaction_id}</TableCell>\r\n-                <TableCell>{item?.application_id}</TableCell>\r\n-                <TableCell>{item?.narration}</TableCell>\r\n-                <TableCell>{item?.total}</TableCell>\r\n-               \r\n-              </TableRow>\r\n-            ))}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Transaction Id\"\r\n+                          register={register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n+                        />\r\n+                        {errors.transaction_id && <span style={{ color: \"red\" }}>{errors.transaction_id.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Application Id\"\r\n+                          register={register(\"application_id\", { required: \"Application Id is required\" })}\r\n+                        />\r\n+                        {errors.application_id && <span style={{ color: \"red\" }}>{errors.application_id.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Narration\"\r\n+                          register={register(\"narration\", { required: \"Narration is required\" })}\r\n+                        />\r\n+                        {errors.narration && <span style={{ color: \"red\" }}>{errors.narration.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          disabled={true}\r\n+                          style={{ border: \"none\" }}\r\n+                          size=\"small\"\r\n+                          placeholder=\"Narration\"\r\n+                          register={register(\"total\")}\r\n+                        />\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <Button\r\n+                          variant=\"contained\"\r\n+                          color=\"primary\"\r\n+                          type=\"submit\"\r\n+                          sx={{\r\n+                            backgroundColor: \"rgb(189 155 74)\",\r\n+                            fontSize: \"12px\",\r\n+                            \":hover\": {\r\n+                              backgroundColor: \"rgb(189 155 74)\",\r\n+                            },\r\n+                          }}\r\n+                        >\r\n+                          Add Item\r\n+                        </Button>\r\n+                      </TableCell>\r\n+                    </TableRow>\r\n \r\n-<TableRow>\r\n-              <TableCell colSpan={9} align=\"right\">\r\n-                <Typography variant=\"h6\"  sx={{fontSize:\"15px\"}}>Sub-total:</Typography>\r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <Typography variant=\"h6\"  sx={{fontSize:\"15px\"}}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n-              </TableCell>\r\n-            </TableRow>\r\n+                    {rows.map((item, index) => (\r\n+                      <TableRow key={index}>\r\n+                        <TableCell>{item?.item_code}</TableCell>\r\n+                        <TableCell>{item?.service}</TableCell>\r\n+                        <TableCell>{item?.qty}</TableCell>\r\n+                        <TableCell>{item?.govt_fee}</TableCell>\r\n+                        <TableCell>{item?.center_fee}</TableCell>\r\n+                        <TableCell>{item?.bank_charges}</TableCell>\r\n+                        <TableCell>{item?.transaction_id}</TableCell>\r\n+                        <TableCell>{item?.application_id}</TableCell>\r\n+                        <TableCell>{item?.narration}</TableCell>\r\n+                        <TableCell>{item?.total}</TableCell>\r\n \r\n-            {/* Amount Total Row (optional, if needed for the final sum) */}\r\n-            <TableRow>\r\n-              <TableCell colSpan={9} align=\"right\">\r\n-                <Typography variant=\"h6\"  sx={{fontSize:\"15px\"}}>Amount Total:</Typography>\r\n-              </TableCell>\r\n-              <TableCell>\r\n-                <Typography variant=\"h6\" sx={{fontSize:\"15px\"}}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n-              </TableCell>\r\n-            </TableRow>\r\n-          </TableBody>\r\n-        </Table>\r\n-      </TableContainer>\r\n-    </form>\r\n+                      </TableRow>\r\n+                    ))}\r\n+\r\n+                    <TableRow>\r\n+                      <TableCell colSpan={9} align=\"right\">\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n+                      </TableCell>\r\n+                    </TableRow>\r\n+\r\n+                    {/* Amount Total Row (optional, if needed for the final sum) */}\r\n+                    <TableRow>\r\n+                      <TableCell colSpan={9} align=\"right\">\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n+                      </TableCell>\r\n+                    </TableRow>\r\n+                  </TableBody>\r\n+                </Table>\r\n+              </TableContainer>\r\n+            </form>\r\n           </>\r\n         }\r\n       </Box>\r\n     </>\r\n"
                },
                {
                    "date": 1744620976168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -595,9 +595,9 @@\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"200px\" }}>Service</TableCell>\r\n+                      <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n                       <TableCell>Qty</TableCell>\r\n                       <TableCell>Govt fee</TableCell>\r\n                       <TableCell>Center fee</TableCell>\r\n                       <TableCell>Bank Charge</TableCell>\r\n"
                },
                {
                    "date": 1744620990004,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -595,9 +595,9 @@\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n                       <TableCell>Qty</TableCell>\r\n                       <TableCell>Govt fee</TableCell>\r\n                       <TableCell>Center fee</TableCell>\r\n                       <TableCell>Bank Charge</TableCell>\r\n"
                },
                {
                    "date": 1744621016681,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -594,12 +594,12 @@\n               <TableContainer component={Paper}>\r\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n-                      <TableCell>Item Code</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n-                      <TableCell>Qty</TableCell>\r\n-                      <TableCell>Govt fee</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Qty</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Govt fee</TableCell>\r\n                       <TableCell>Center fee</TableCell>\r\n                       <TableCell>Bank Charge</TableCell>\r\n                       <TableCell>Transaction ID</TableCell>\r\n                       <TableCell>Application ID</TableCell>\r\n"
                },
                {
                    "date": 1744621023595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -598,11 +598,11 @@\n                       <TableCell sx={{ width: \"350px\" }}>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Govt fee</TableCell>\r\n-                      <TableCell>Center fee</TableCell>\r\n-                      <TableCell>Bank Charge</TableCell>\r\n-                      <TableCell>Transaction ID</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Center fee</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Bank Charge</TableCell>\r\n+                      <TableCell >Transaction ID</TableCell>\r\n                       <TableCell>Application ID</TableCell>\r\n                       <TableCell>Narration</TableCell>\r\n                       <TableCell>Total</TableCell>\r\n                       <TableCell>Action</TableCell>\r\n"
                },
                {
                    "date": 1744621033328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -600,13 +600,13 @@\n                       <TableCell sx={{ width: \"350px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Govt fee</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Center fee</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Bank Charge</TableCell>\r\n-                      <TableCell >Transaction ID</TableCell>\r\n-                      <TableCell>Application ID</TableCell>\r\n-                      <TableCell>Narration</TableCell>\r\n-                      <TableCell>Total</TableCell>\r\n-                      <TableCell>Action</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Transaction ID</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Application ID</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Narration</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Total</TableCell>\r\n+                      <TableCellsx={{ width: \"350px\" }}>Action</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n                     <TableRow>\r\n"
                },
                {
                    "date": 1744621076716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -590,9 +590,9 @@\n             </Box>\r\n \r\n \r\n             <form onSubmit={handleSubmit(addItem)}>\r\n-              <TableContainer component={Paper}>\r\n+              <TableContainer component={Paper}  sx={{overflowX:'scroll'}}>\r\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell sx={{ width: \"350px\" }}>Item Code</TableCell>\r\n@@ -604,9 +604,9 @@\n                       <TableCell sx={{ width: \"350px\" }}>Transaction ID</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Application ID</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Narration</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Total</TableCell>\r\n-                      <TableCellsx={{ width: \"350px\" }}>Action</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Action</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n                     <TableRow>\r\n"
                },
                {
                    "date": 1744621112745,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -609,9 +609,9 @@\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n                     <TableRow>\r\n-                      <TableCell>\r\n+                      <TableCell  sx={{ width: \"350px\" }}>\r\n                         <InputField\r\n                           size=\"small\"\r\n                           placeholder=\"Item code\"\r\n                           {...register(\"item_code\", { required: \"Item code is required\" })}\r\n"
                },
                {
                    "date": 1744621136187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -609,9 +609,9 @@\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n                     <TableRow>\r\n-                      <TableCell  sx={{ width: \"350px\" }}>\r\n+                      <TableCell >\r\n                         <InputField\r\n                           size=\"small\"\r\n                           placeholder=\"Item code\"\r\n                           {...register(\"item_code\", { required: \"Item code is required\" })}\r\n"
                },
                {
                    "date": 1744621284497,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -591,172 +591,144 @@\n \r\n \r\n             <form onSubmit={handleSubmit(addItem)}>\r\n               <TableContainer component={Paper}  sx={{overflowX:'scroll'}}>\r\n-                <Table>\r\n-                  <TableHead>\r\n-                    <TableRow>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Qty</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Govt fee</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Center fee</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Bank Charge</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Transaction ID</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Application ID</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Narration</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Total</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Action</TableCell>\r\n-                    </TableRow>\r\n-                  </TableHead>\r\n-                  <TableBody>\r\n-                    <TableRow>\r\n-                      <TableCell >\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Item code\"\r\n-                          {...register(\"item_code\", { required: \"Item code is required\" })}\r\n-                        />\r\n-                        {errors.item_code && <span>{errors.item_code.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <SelectField\r\n-                          size=\"small\"\r\n-                          options={services}\r\n-                          selected={serviceItem}\r\n-                          onSelect={handleServiceSelect}\r\n-                          //  error={errors?.service?.message}\r\n-                          register={register(\"service\", {\r\n-                            required: \"Please select a service.\",\r\n-                          })}\r\n-                        />\r\n-                        {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Quantity\"\r\n-                          type=\"number\"\r\n-                          register={register(\"qty\", { required: \"Quantity is required\" })}\r\n-                        />\r\n-                        {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Govt fee\"\r\n-                          type=\"number\"\r\n-                          register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n-                        />\r\n-                        {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Center Fee\"\r\n-                          type=\"number\"\r\n-                          register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n-                        />\r\n-                        {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Bank Charges\"\r\n-                          type=\"number\"\r\n-                          register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n-                          disabled\r\n-                        />\r\n-                        {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n+              <Table>\r\n+            <TableHeader>\r\n+              <TableRow>\r\n+                <TableHead style={{ width: \"100px\" }}>Item Code</TableHead>\r\n+                <TableHead style={{ width: \"300px\" }}>Service</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Qty</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Govt fee</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Center fee</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Bank Charge</TableHead>\r\n+                <TableHead style={{ width: \"300px\" }}>Transaction ID</TableHead>\r\n+                <TableHead style={{ width: \"300px\" }}>Application ID</TableHead>\r\n+                <TableHead style={{ width: \"300px\" }}>Narration</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Total</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Action</TableHead>\r\n+              </TableRow>\r\n+            </TableHeader>\r\n+            <TableBody>\r\n+              <TableRow>\r\n+                <TableCell>\r\n+                  <Input placeholder=\"Item code\" {...register(\"item_code\", { required: \"Item code is required\" })} />\r\n+                  {errors.item_code && <span className=\"text-xs text-red-500\">{errors.item_code.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Select value={serviceItem} onValueChange={handleServiceSelect}>\r\n+                    <SelectTrigger>\r\n+                      <SelectValue placeholder=\"Select service\" />\r\n+                    </SelectTrigger>\r\n+                    <SelectContent>\r\n+                      {services.map((service) => (\r\n+                        <SelectItem key={service.id} value={service.name}>\r\n+                          {service.name}\r\n+                        </SelectItem>\r\n+                      ))}\r\n+                    </SelectContent>\r\n+                  </Select>\r\n+                  <input type=\"hidden\" {...register(\"service\", { required: \"Please select a service.\" })} />\r\n+                  {errors.service && <span className=\"text-xs text-red-500\">{errors.service.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    type=\"number\"\r\n+                    placeholder=\"Quantity\"\r\n+                    {...register(\"qty\", { required: \"Quantity is required\" })}\r\n+                  />\r\n+                  {errors.qty && <span className=\"text-xs text-red-500\">{errors.qty.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    type=\"number\"\r\n+                    placeholder=\"Govt fee\"\r\n+                    {...register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n+                  />\r\n+                  {errors.govt_fee && <span className=\"text-xs text-red-500\">{errors.govt_fee.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    type=\"number\"\r\n+                    placeholder=\"Center Fee\"\r\n+                    {...register(\"center_fee\", { required: \"Center fee is required\" })}\r\n+                  />\r\n+                  {errors.center_fee && <span className=\"text-xs text-red-500\">{errors.center_fee.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    type=\"number\"\r\n+                    placeholder=\"Bank Charges\"\r\n+                    disabled\r\n+                    {...register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n+                  />\r\n+                  {errors.bank_charges && <span className=\"text-xs text-red-500\">{errors.bank_charges.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    placeholder=\"Transaction Id\"\r\n+                    {...register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n+                  />\r\n+                  {errors.transaction_id && (\r\n+                    <span className=\"text-xs text-red-500\">{errors.transaction_id.message}</span>\r\n+                  )}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    placeholder=\"Application Id\"\r\n+                    {...register(\"application_id\", { required: \"Application Id is required\" })}\r\n+                  />\r\n+                  {errors.application_id && (\r\n+                    <span className=\"text-xs text-red-500\">{errors.application_id.message}</span>\r\n+                  )}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input placeholder=\"Narration\" {...register(\"narration\", { required: \"Narration is required\" })} />\r\n+                  {errors.narration && <span className=\"text-xs text-red-500\">{errors.narration.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input disabled placeholder=\"Total\" {...register(\"total\")} />\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Button type=\"submit\" className=\"bg-[#bd9b4a] hover:bg-[#a88a42] text-xs\">\r\n+                    <Plus className=\"h-4 w-4 mr-1\" />\r\n+                    Add Item\r\n+                  </Button>\r\n+                </TableCell>\r\n+              </TableRow>\r\n \r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Transaction Id\"\r\n-                          register={register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n-                        />\r\n-                        {errors.transaction_id && <span style={{ color: \"red\" }}>{errors.transaction_id.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Application Id\"\r\n-                          register={register(\"application_id\", { required: \"Application Id is required\" })}\r\n-                        />\r\n-                        {errors.application_id && <span style={{ color: \"red\" }}>{errors.application_id.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Narration\"\r\n-                          register={register(\"narration\", { required: \"Narration is required\" })}\r\n-                        />\r\n-                        {errors.narration && <span style={{ color: \"red\" }}>{errors.narration.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          disabled={true}\r\n-                          style={{ border: \"none\" }}\r\n-                          size=\"small\"\r\n-                          placeholder=\"Narration\"\r\n-                          register={register(\"total\")}\r\n-                        />\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Button\r\n-                          variant=\"contained\"\r\n-                          color=\"primary\"\r\n-                          type=\"submit\"\r\n-                          sx={{\r\n-                            backgroundColor: \"rgb(189 155 74)\",\r\n-                            fontSize: \"12px\",\r\n-                            \":hover\": {\r\n-                              backgroundColor: \"rgb(189 155 74)\",\r\n-                            },\r\n-                          }}\r\n-                        >\r\n-                          Add Item\r\n-                        </Button>\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n+              {rows.map((item, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{item.item_code}</TableCell>\r\n+                  <TableCell>{item.service}</TableCell>\r\n+                  <TableCell>{item.qty}</TableCell>\r\n+                  <TableCell>{item.govt_fee}</TableCell>\r\n+                  <TableCell>{item.center_fee}</TableCell>\r\n+                  <TableCell>{item.bank_charges}</TableCell>\r\n+                  <TableCell>{item.transaction_id}</TableCell>\r\n+                  <TableCell>{item.application_id}</TableCell>\r\n+                  <TableCell>{item.narration}</TableCell>\r\n+                  <TableCell>{item.total}</TableCell>\r\n+                </TableRow>\r\n+              ))}\r\n \r\n-                    {rows.map((item, index) => (\r\n-                      <TableRow key={index}>\r\n-                        <TableCell>{item?.item_code}</TableCell>\r\n-                        <TableCell>{item?.service}</TableCell>\r\n-                        <TableCell>{item?.qty}</TableCell>\r\n-                        <TableCell>{item?.govt_fee}</TableCell>\r\n-                        <TableCell>{item?.center_fee}</TableCell>\r\n-                        <TableCell>{item?.bank_charges}</TableCell>\r\n-                        <TableCell>{item?.transaction_id}</TableCell>\r\n-                        <TableCell>{item?.application_id}</TableCell>\r\n-                        <TableCell>{item?.narration}</TableCell>\r\n-                        <TableCell>{item?.total}</TableCell>\r\n+              <TableRow>\r\n+                <TableCell colSpan={9} className=\"text-right font-medium\">\r\n+                  Sub-total:\r\n+                </TableCell>\r\n+                <TableCell className=\"font-medium\">{subTotal}</TableCell>\r\n+                <TableCell />\r\n+              </TableRow>\r\n \r\n-                      </TableRow>\r\n-                    ))}\r\n-\r\n-                    <TableRow>\r\n-                      <TableCell colSpan={9} align=\"right\">\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n-\r\n-                    {/* Amount Total Row (optional, if needed for the final sum) */}\r\n-                    <TableRow>\r\n-                      <TableCell colSpan={9} align=\"right\">\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n-                  </TableBody>\r\n-                </Table>\r\n+              <TableRow>\r\n+                <TableCell colSpan={9} className=\"text-right font-medium\">\r\n+                  Amount Total:\r\n+                </TableCell>\r\n+                <TableCell className=\"font-medium\">{subTotal}</TableCell>\r\n+                <TableCell />\r\n+              </TableRow>\r\n+            </TableBody>\r\n+          </Table>\r\n               </TableContainer>\r\n             </form>\r\n           </>\r\n         }\r\n"
                },
                {
                    "date": 1744621311128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -591,144 +591,172 @@\n \r\n \r\n             <form onSubmit={handleSubmit(addItem)}>\r\n               <TableContainer component={Paper}  sx={{overflowX:'scroll'}}>\r\n-              <Table>\r\n-            <TableHeader>\r\n-              <TableRow>\r\n-                <TableHead style={{ width: \"100px\" }}>Item Code</TableHead>\r\n-                <TableHead style={{ width: \"300px\" }}>Service</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Qty</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Govt fee</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Center fee</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Bank Charge</TableHead>\r\n-                <TableHead style={{ width: \"300px\" }}>Transaction ID</TableHead>\r\n-                <TableHead style={{ width: \"300px\" }}>Application ID</TableHead>\r\n-                <TableHead style={{ width: \"300px\" }}>Narration</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Total</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Action</TableHead>\r\n-              </TableRow>\r\n-            </TableHeader>\r\n-            <TableBody>\r\n-              <TableRow>\r\n-                <TableCell>\r\n-                  <Input placeholder=\"Item code\" {...register(\"item_code\", { required: \"Item code is required\" })} />\r\n-                  {errors.item_code && <span className=\"text-xs text-red-500\">{errors.item_code.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Select value={serviceItem} onValueChange={handleServiceSelect}>\r\n-                    <SelectTrigger>\r\n-                      <SelectValue placeholder=\"Select service\" />\r\n-                    </SelectTrigger>\r\n-                    <SelectContent>\r\n-                      {services.map((service) => (\r\n-                        <SelectItem key={service.id} value={service.name}>\r\n-                          {service.name}\r\n-                        </SelectItem>\r\n-                      ))}\r\n-                    </SelectContent>\r\n-                  </Select>\r\n-                  <input type=\"hidden\" {...register(\"service\", { required: \"Please select a service.\" })} />\r\n-                  {errors.service && <span className=\"text-xs text-red-500\">{errors.service.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    type=\"number\"\r\n-                    placeholder=\"Quantity\"\r\n-                    {...register(\"qty\", { required: \"Quantity is required\" })}\r\n-                  />\r\n-                  {errors.qty && <span className=\"text-xs text-red-500\">{errors.qty.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    type=\"number\"\r\n-                    placeholder=\"Govt fee\"\r\n-                    {...register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n-                  />\r\n-                  {errors.govt_fee && <span className=\"text-xs text-red-500\">{errors.govt_fee.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    type=\"number\"\r\n-                    placeholder=\"Center Fee\"\r\n-                    {...register(\"center_fee\", { required: \"Center fee is required\" })}\r\n-                  />\r\n-                  {errors.center_fee && <span className=\"text-xs text-red-500\">{errors.center_fee.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    type=\"number\"\r\n-                    placeholder=\"Bank Charges\"\r\n-                    disabled\r\n-                    {...register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n-                  />\r\n-                  {errors.bank_charges && <span className=\"text-xs text-red-500\">{errors.bank_charges.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    placeholder=\"Transaction Id\"\r\n-                    {...register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n-                  />\r\n-                  {errors.transaction_id && (\r\n-                    <span className=\"text-xs text-red-500\">{errors.transaction_id.message}</span>\r\n-                  )}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    placeholder=\"Application Id\"\r\n-                    {...register(\"application_id\", { required: \"Application Id is required\" })}\r\n-                  />\r\n-                  {errors.application_id && (\r\n-                    <span className=\"text-xs text-red-500\">{errors.application_id.message}</span>\r\n-                  )}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input placeholder=\"Narration\" {...register(\"narration\", { required: \"Narration is required\" })} />\r\n-                  {errors.narration && <span className=\"text-xs text-red-500\">{errors.narration.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input disabled placeholder=\"Total\" {...register(\"total\")} />\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Button type=\"submit\" className=\"bg-[#bd9b4a] hover:bg-[#a88a42] text-xs\">\r\n-                    <Plus className=\"h-4 w-4 mr-1\" />\r\n-                    Add Item\r\n-                  </Button>\r\n-                </TableCell>\r\n-              </TableRow>\r\n+                <Table>\r\n+                  <TableHead>\r\n+                    <TableRow>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Item Code</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Qty</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Govt fee</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Center fee</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Bank Charge</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Transaction ID</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Application ID</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Narration</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Total</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Action</TableCell>\r\n+                    </TableRow>\r\n+                  </TableHead>\r\n+                  <TableBody>\r\n+                    <TableRow>\r\n+                      <TableCell >\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Item code\"\r\n+                          {...register(\"item_code\", { required: \"Item code is required\" })}\r\n+                        />\r\n+                        {errors.item_code && <span>{errors.item_code.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <SelectField\r\n+                          size=\"small\"\r\n+                          options={services}\r\n+                          selected={serviceItem}\r\n+                          onSelect={handleServiceSelect}\r\n+                          //  error={errors?.service?.message}\r\n+                          register={register(\"service\", {\r\n+                            required: \"Please select a service.\",\r\n+                          })}\r\n+                        />\r\n+                        {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Quantity\"\r\n+                          type=\"number\"\r\n+                          register={register(\"qty\", { required: \"Quantity is required\" })}\r\n+                        />\r\n+                        {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Govt fee\"\r\n+                          type=\"number\"\r\n+                          register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n+                        />\r\n+                        {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Center Fee\"\r\n+                          type=\"number\"\r\n+                          register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n+                        />\r\n+                        {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Bank Charges\"\r\n+                          type=\"number\"\r\n+                          register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n+                          disabled\r\n+                        />\r\n+                        {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n \r\n-              {rows.map((item, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{item.item_code}</TableCell>\r\n-                  <TableCell>{item.service}</TableCell>\r\n-                  <TableCell>{item.qty}</TableCell>\r\n-                  <TableCell>{item.govt_fee}</TableCell>\r\n-                  <TableCell>{item.center_fee}</TableCell>\r\n-                  <TableCell>{item.bank_charges}</TableCell>\r\n-                  <TableCell>{item.transaction_id}</TableCell>\r\n-                  <TableCell>{item.application_id}</TableCell>\r\n-                  <TableCell>{item.narration}</TableCell>\r\n-                  <TableCell>{item.total}</TableCell>\r\n-                </TableRow>\r\n-              ))}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Transaction Id\"\r\n+                          register={register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n+                        />\r\n+                        {errors.transaction_id && <span style={{ color: \"red\" }}>{errors.transaction_id.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Application Id\"\r\n+                          register={register(\"application_id\", { required: \"Application Id is required\" })}\r\n+                        />\r\n+                        {errors.application_id && <span style={{ color: \"red\" }}>{errors.application_id.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Narration\"\r\n+                          register={register(\"narration\", { required: \"Narration is required\" })}\r\n+                        />\r\n+                        {errors.narration && <span style={{ color: \"red\" }}>{errors.narration.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          disabled={true}\r\n+                          style={{ border: \"none\" }}\r\n+                          size=\"small\"\r\n+                          placeholder=\"Narration\"\r\n+                          register={register(\"total\")}\r\n+                        />\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <Button\r\n+                          variant=\"contained\"\r\n+                          color=\"primary\"\r\n+                          type=\"submit\"\r\n+                          sx={{\r\n+                            backgroundColor: \"rgb(189 155 74)\",\r\n+                            fontSize: \"12px\",\r\n+                            \":hover\": {\r\n+                              backgroundColor: \"rgb(189 155 74)\",\r\n+                            },\r\n+                          }}\r\n+                        >\r\n+                          Add Item\r\n+                        </Button>\r\n+                      </TableCell>\r\n+                    </TableRow>\r\n \r\n-              <TableRow>\r\n-                <TableCell colSpan={9} className=\"text-right font-medium\">\r\n-                  Sub-total:\r\n-                </TableCell>\r\n-                <TableCell className=\"font-medium\">{subTotal}</TableCell>\r\n-                <TableCell />\r\n-              </TableRow>\r\n+                    {rows.map((item, index) => (\r\n+                      <TableRow key={index}>\r\n+                        <TableCell>{item?.item_code}</TableCell>\r\n+                        <TableCell>{item?.service}</TableCell>\r\n+                        <TableCell>{item?.qty}</TableCell>\r\n+                        <TableCell>{item?.govt_fee}</TableCell>\r\n+                        <TableCell>{item?.center_fee}</TableCell>\r\n+                        <TableCell>{item?.bank_charges}</TableCell>\r\n+                        <TableCell>{item?.transaction_id}</TableCell>\r\n+                        <TableCell>{item?.application_id}</TableCell>\r\n+                        <TableCell>{item?.narration}</TableCell>\r\n+                        <TableCell>{item?.total}</TableCell>\r\n \r\n-              <TableRow>\r\n-                <TableCell colSpan={9} className=\"text-right font-medium\">\r\n-                  Amount Total:\r\n-                </TableCell>\r\n-                <TableCell className=\"font-medium\">{subTotal}</TableCell>\r\n-                <TableCell />\r\n-              </TableRow>\r\n-            </TableBody>\r\n-          </Table>\r\n+                      </TableRow>\r\n+                    ))}\r\n+\r\n+                    <TableRow>\r\n+                      <TableCell colSpan={9} align=\"right\">\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n+                      </TableCell>\r\n+                    </TableRow>\r\n+\r\n+                    {/* Amount Total Row (optional, if needed for the final sum) */}\r\n+                    <TableRow>\r\n+                      <TableCell colSpan={9} align=\"right\">\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n+                      </TableCell>\r\n+                    </TableRow>\r\n+                  </TableBody>\r\n+                </Table>\r\n               </TableContainer>\r\n             </form>\r\n           </>\r\n         }\r\n"
                },
                {
                    "date": 1744621320934,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -591,172 +591,144 @@\n \r\n \r\n             <form onSubmit={handleSubmit(addItem)}>\r\n               <TableContainer component={Paper}  sx={{overflowX:'scroll'}}>\r\n-                <Table>\r\n-                  <TableHead>\r\n-                    <TableRow>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Qty</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Govt fee</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Center fee</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Bank Charge</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Transaction ID</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Application ID</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Narration</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Total</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Action</TableCell>\r\n-                    </TableRow>\r\n-                  </TableHead>\r\n-                  <TableBody>\r\n-                    <TableRow>\r\n-                      <TableCell >\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Item code\"\r\n-                          {...register(\"item_code\", { required: \"Item code is required\" })}\r\n-                        />\r\n-                        {errors.item_code && <span>{errors.item_code.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <SelectField\r\n-                          size=\"small\"\r\n-                          options={services}\r\n-                          selected={serviceItem}\r\n-                          onSelect={handleServiceSelect}\r\n-                          //  error={errors?.service?.message}\r\n-                          register={register(\"service\", {\r\n-                            required: \"Please select a service.\",\r\n-                          })}\r\n-                        />\r\n-                        {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Quantity\"\r\n-                          type=\"number\"\r\n-                          register={register(\"qty\", { required: \"Quantity is required\" })}\r\n-                        />\r\n-                        {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Govt fee\"\r\n-                          type=\"number\"\r\n-                          register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n-                        />\r\n-                        {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Center Fee\"\r\n-                          type=\"number\"\r\n-                          register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n-                        />\r\n-                        {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Bank Charges\"\r\n-                          type=\"number\"\r\n-                          register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n-                          disabled\r\n-                        />\r\n-                        {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n+              <Table>\r\n+            <TableHead>\r\n+              <TableRow>\r\n+                <TableHead style={{ width: \"100px\" }}>Item Code</TableHead>\r\n+                <TableHead style={{ width: \"300px\" }}>Service</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Qty</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Govt fee</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Center fee</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Bank Charge</TableHead>\r\n+                <TableHead style={{ width: \"300px\" }}>Transaction ID</TableHead>\r\n+                <TableHead style={{ width: \"300px\" }}>Application ID</TableHead>\r\n+                <TableHead style={{ width: \"300px\" }}>Narration</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Total</TableHead>\r\n+                <TableHead style={{ width: \"100px\" }}>Action</TableHead>\r\n+              </TableRow>\r\n+            </TableHead>\r\n+            <TableBody>\r\n+              <TableRow>\r\n+                <TableCell>\r\n+                  <Input placeholder=\"Item code\" {...register(\"item_code\", { required: \"Item code is required\" })} />\r\n+                  {errors.item_code && <span className=\"text-xs text-red-500\">{errors.item_code.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Select value={serviceItem} onValueChange={handleServiceSelect}>\r\n+                    <SelectTrigger>\r\n+                      <SelectValue placeholder=\"Select service\" />\r\n+                    </SelectTrigger>\r\n+                    <SelectContent>\r\n+                      {services.map((service) => (\r\n+                        <SelectItem key={service.id} value={service.name}>\r\n+                          {service.name}\r\n+                        </SelectItem>\r\n+                      ))}\r\n+                    </SelectContent>\r\n+                  </Select>\r\n+                  <input type=\"hidden\" {...register(\"service\", { required: \"Please select a service.\" })} />\r\n+                  {errors.service && <span className=\"text-xs text-red-500\">{errors.service.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    type=\"number\"\r\n+                    placeholder=\"Quantity\"\r\n+                    {...register(\"qty\", { required: \"Quantity is required\" })}\r\n+                  />\r\n+                  {errors.qty && <span className=\"text-xs text-red-500\">{errors.qty.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    type=\"number\"\r\n+                    placeholder=\"Govt fee\"\r\n+                    {...register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n+                  />\r\n+                  {errors.govt_fee && <span className=\"text-xs text-red-500\">{errors.govt_fee.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    type=\"number\"\r\n+                    placeholder=\"Center Fee\"\r\n+                    {...register(\"center_fee\", { required: \"Center fee is required\" })}\r\n+                  />\r\n+                  {errors.center_fee && <span className=\"text-xs text-red-500\">{errors.center_fee.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    type=\"number\"\r\n+                    placeholder=\"Bank Charges\"\r\n+                    disabled\r\n+                    {...register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n+                  />\r\n+                  {errors.bank_charges && <span className=\"text-xs text-red-500\">{errors.bank_charges.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    placeholder=\"Transaction Id\"\r\n+                    {...register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n+                  />\r\n+                  {errors.transaction_id && (\r\n+                    <span className=\"text-xs text-red-500\">{errors.transaction_id.message}</span>\r\n+                  )}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input\r\n+                    placeholder=\"Application Id\"\r\n+                    {...register(\"application_id\", { required: \"Application Id is required\" })}\r\n+                  />\r\n+                  {errors.application_id && (\r\n+                    <span className=\"text-xs text-red-500\">{errors.application_id.message}</span>\r\n+                  )}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input placeholder=\"Narration\" {...register(\"narration\", { required: \"Narration is required\" })} />\r\n+                  {errors.narration && <span className=\"text-xs text-red-500\">{errors.narration.message}</span>}\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Input disabled placeholder=\"Total\" {...register(\"total\")} />\r\n+                </TableCell>\r\n+                <TableCell>\r\n+                  <Button type=\"submit\" className=\"bg-[#bd9b4a] hover:bg-[#a88a42] text-xs\">\r\n+                    <Plus className=\"h-4 w-4 mr-1\" />\r\n+                    Add Item\r\n+                  </Button>\r\n+                </TableCell>\r\n+              </TableRow>\r\n \r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Transaction Id\"\r\n-                          register={register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n-                        />\r\n-                        {errors.transaction_id && <span style={{ color: \"red\" }}>{errors.transaction_id.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Application Id\"\r\n-                          register={register(\"application_id\", { required: \"Application Id is required\" })}\r\n-                        />\r\n-                        {errors.application_id && <span style={{ color: \"red\" }}>{errors.application_id.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Narration\"\r\n-                          register={register(\"narration\", { required: \"Narration is required\" })}\r\n-                        />\r\n-                        {errors.narration && <span style={{ color: \"red\" }}>{errors.narration.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          disabled={true}\r\n-                          style={{ border: \"none\" }}\r\n-                          size=\"small\"\r\n-                          placeholder=\"Narration\"\r\n-                          register={register(\"total\")}\r\n-                        />\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Button\r\n-                          variant=\"contained\"\r\n-                          color=\"primary\"\r\n-                          type=\"submit\"\r\n-                          sx={{\r\n-                            backgroundColor: \"rgb(189 155 74)\",\r\n-                            fontSize: \"12px\",\r\n-                            \":hover\": {\r\n-                              backgroundColor: \"rgb(189 155 74)\",\r\n-                            },\r\n-                          }}\r\n-                        >\r\n-                          Add Item\r\n-                        </Button>\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n+              {rows.map((item, index) => (\r\n+                <TableRow key={index}>\r\n+                  <TableCell>{item.item_code}</TableCell>\r\n+                  <TableCell>{item.service}</TableCell>\r\n+                  <TableCell>{item.qty}</TableCell>\r\n+                  <TableCell>{item.govt_fee}</TableCell>\r\n+                  <TableCell>{item.center_fee}</TableCell>\r\n+                  <TableCell>{item.bank_charges}</TableCell>\r\n+                  <TableCell>{item.transaction_id}</TableCell>\r\n+                  <TableCell>{item.application_id}</TableCell>\r\n+                  <TableCell>{item.narration}</TableCell>\r\n+                  <TableCell>{item.total}</TableCell>\r\n+                </TableRow>\r\n+              ))}\r\n \r\n-                    {rows.map((item, index) => (\r\n-                      <TableRow key={index}>\r\n-                        <TableCell>{item?.item_code}</TableCell>\r\n-                        <TableCell>{item?.service}</TableCell>\r\n-                        <TableCell>{item?.qty}</TableCell>\r\n-                        <TableCell>{item?.govt_fee}</TableCell>\r\n-                        <TableCell>{item?.center_fee}</TableCell>\r\n-                        <TableCell>{item?.bank_charges}</TableCell>\r\n-                        <TableCell>{item?.transaction_id}</TableCell>\r\n-                        <TableCell>{item?.application_id}</TableCell>\r\n-                        <TableCell>{item?.narration}</TableCell>\r\n-                        <TableCell>{item?.total}</TableCell>\r\n+              <TableRow>\r\n+                <TableCell colSpan={9} className=\"text-right font-medium\">\r\n+                  Sub-total:\r\n+                </TableCell>\r\n+                <TableCell className=\"font-medium\">{subTotal}</TableCell>\r\n+                <TableCell />\r\n+              </TableRow>\r\n \r\n-                      </TableRow>\r\n-                    ))}\r\n-\r\n-                    <TableRow>\r\n-                      <TableCell colSpan={9} align=\"right\">\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n-\r\n-                    {/* Amount Total Row (optional, if needed for the final sum) */}\r\n-                    <TableRow>\r\n-                      <TableCell colSpan={9} align=\"right\">\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n-                  </TableBody>\r\n-                </Table>\r\n+              <TableRow>\r\n+                <TableCell colSpan={9} className=\"text-right font-medium\">\r\n+                  Amount Total:\r\n+                </TableCell>\r\n+                <TableCell className=\"font-medium\">{subTotal}</TableCell>\r\n+                <TableCell />\r\n+              </TableRow>\r\n+            </TableBody>\r\n+          </Table>\r\n               </TableContainer>\r\n             </form>\r\n           </>\r\n         }\r\n"
                },
                {
                    "date": 1744621335782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -591,144 +591,172 @@\n \r\n \r\n             <form onSubmit={handleSubmit(addItem)}>\r\n               <TableContainer component={Paper}  sx={{overflowX:'scroll'}}>\r\n-              <Table>\r\n-            <TableHead>\r\n-              <TableRow>\r\n-                <TableHead style={{ width: \"100px\" }}>Item Code</TableHead>\r\n-                <TableHead style={{ width: \"300px\" }}>Service</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Qty</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Govt fee</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Center fee</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Bank Charge</TableHead>\r\n-                <TableHead style={{ width: \"300px\" }}>Transaction ID</TableHead>\r\n-                <TableHead style={{ width: \"300px\" }}>Application ID</TableHead>\r\n-                <TableHead style={{ width: \"300px\" }}>Narration</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Total</TableHead>\r\n-                <TableHead style={{ width: \"100px\" }}>Action</TableHead>\r\n-              </TableRow>\r\n-            </TableHead>\r\n-            <TableBody>\r\n-              <TableRow>\r\n-                <TableCell>\r\n-                  <Input placeholder=\"Item code\" {...register(\"item_code\", { required: \"Item code is required\" })} />\r\n-                  {errors.item_code && <span className=\"text-xs text-red-500\">{errors.item_code.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Select value={serviceItem} onValueChange={handleServiceSelect}>\r\n-                    <SelectTrigger>\r\n-                      <SelectValue placeholder=\"Select service\" />\r\n-                    </SelectTrigger>\r\n-                    <SelectContent>\r\n-                      {services.map((service) => (\r\n-                        <SelectItem key={service.id} value={service.name}>\r\n-                          {service.name}\r\n-                        </SelectItem>\r\n-                      ))}\r\n-                    </SelectContent>\r\n-                  </Select>\r\n-                  <input type=\"hidden\" {...register(\"service\", { required: \"Please select a service.\" })} />\r\n-                  {errors.service && <span className=\"text-xs text-red-500\">{errors.service.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    type=\"number\"\r\n-                    placeholder=\"Quantity\"\r\n-                    {...register(\"qty\", { required: \"Quantity is required\" })}\r\n-                  />\r\n-                  {errors.qty && <span className=\"text-xs text-red-500\">{errors.qty.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    type=\"number\"\r\n-                    placeholder=\"Govt fee\"\r\n-                    {...register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n-                  />\r\n-                  {errors.govt_fee && <span className=\"text-xs text-red-500\">{errors.govt_fee.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    type=\"number\"\r\n-                    placeholder=\"Center Fee\"\r\n-                    {...register(\"center_fee\", { required: \"Center fee is required\" })}\r\n-                  />\r\n-                  {errors.center_fee && <span className=\"text-xs text-red-500\">{errors.center_fee.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    type=\"number\"\r\n-                    placeholder=\"Bank Charges\"\r\n-                    disabled\r\n-                    {...register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n-                  />\r\n-                  {errors.bank_charges && <span className=\"text-xs text-red-500\">{errors.bank_charges.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    placeholder=\"Transaction Id\"\r\n-                    {...register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n-                  />\r\n-                  {errors.transaction_id && (\r\n-                    <span className=\"text-xs text-red-500\">{errors.transaction_id.message}</span>\r\n-                  )}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input\r\n-                    placeholder=\"Application Id\"\r\n-                    {...register(\"application_id\", { required: \"Application Id is required\" })}\r\n-                  />\r\n-                  {errors.application_id && (\r\n-                    <span className=\"text-xs text-red-500\">{errors.application_id.message}</span>\r\n-                  )}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input placeholder=\"Narration\" {...register(\"narration\", { required: \"Narration is required\" })} />\r\n-                  {errors.narration && <span className=\"text-xs text-red-500\">{errors.narration.message}</span>}\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Input disabled placeholder=\"Total\" {...register(\"total\")} />\r\n-                </TableCell>\r\n-                <TableCell>\r\n-                  <Button type=\"submit\" className=\"bg-[#bd9b4a] hover:bg-[#a88a42] text-xs\">\r\n-                    <Plus className=\"h-4 w-4 mr-1\" />\r\n-                    Add Item\r\n-                  </Button>\r\n-                </TableCell>\r\n-              </TableRow>\r\n+                <Table>\r\n+                  <TableHead>\r\n+                    <TableRow>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Item Code</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Qty</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Govt fee</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Center fee</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Bank Charge</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Transaction ID</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Application ID</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Narration</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Total</TableCell>\r\n+                      <TableCell sx={{ width: \"350px\" }}>Action</TableCell>\r\n+                    </TableRow>\r\n+                  </TableHead>\r\n+                  <TableBody>\r\n+                    <TableRow>\r\n+                      <TableCell >\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Item code\"\r\n+                          {...register(\"item_code\", { required: \"Item code is required\" })}\r\n+                        />\r\n+                        {errors.item_code && <span>{errors.item_code.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <SelectField\r\n+                          size=\"small\"\r\n+                          options={services}\r\n+                          selected={serviceItem}\r\n+                          onSelect={handleServiceSelect}\r\n+                          //  error={errors?.service?.message}\r\n+                          register={register(\"service\", {\r\n+                            required: \"Please select a service.\",\r\n+                          })}\r\n+                        />\r\n+                        {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Quantity\"\r\n+                          type=\"number\"\r\n+                          register={register(\"qty\", { required: \"Quantity is required\" })}\r\n+                        />\r\n+                        {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Govt fee\"\r\n+                          type=\"number\"\r\n+                          register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n+                        />\r\n+                        {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Center Fee\"\r\n+                          type=\"number\"\r\n+                          register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n+                        />\r\n+                        {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Bank Charges\"\r\n+                          type=\"number\"\r\n+                          register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n+                          disabled\r\n+                        />\r\n+                        {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n \r\n-              {rows.map((item, index) => (\r\n-                <TableRow key={index}>\r\n-                  <TableCell>{item.item_code}</TableCell>\r\n-                  <TableCell>{item.service}</TableCell>\r\n-                  <TableCell>{item.qty}</TableCell>\r\n-                  <TableCell>{item.govt_fee}</TableCell>\r\n-                  <TableCell>{item.center_fee}</TableCell>\r\n-                  <TableCell>{item.bank_charges}</TableCell>\r\n-                  <TableCell>{item.transaction_id}</TableCell>\r\n-                  <TableCell>{item.application_id}</TableCell>\r\n-                  <TableCell>{item.narration}</TableCell>\r\n-                  <TableCell>{item.total}</TableCell>\r\n-                </TableRow>\r\n-              ))}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Transaction Id\"\r\n+                          register={register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n+                        />\r\n+                        {errors.transaction_id && <span style={{ color: \"red\" }}>{errors.transaction_id.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Application Id\"\r\n+                          register={register(\"application_id\", { required: \"Application Id is required\" })}\r\n+                        />\r\n+                        {errors.application_id && <span style={{ color: \"red\" }}>{errors.application_id.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          size=\"small\"\r\n+                          placeholder=\"Narration\"\r\n+                          register={register(\"narration\", { required: \"Narration is required\" })}\r\n+                        />\r\n+                        {errors.narration && <span style={{ color: \"red\" }}>{errors.narration.message}</span>}\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <InputField\r\n+                          disabled={true}\r\n+                          style={{ border: \"none\" }}\r\n+                          size=\"small\"\r\n+                          placeholder=\"Narration\"\r\n+                          register={register(\"total\")}\r\n+                        />\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <Button\r\n+                          variant=\"contained\"\r\n+                          color=\"primary\"\r\n+                          type=\"submit\"\r\n+                          sx={{\r\n+                            backgroundColor: \"rgb(189 155 74)\",\r\n+                            fontSize: \"12px\",\r\n+                            \":hover\": {\r\n+                              backgroundColor: \"rgb(189 155 74)\",\r\n+                            },\r\n+                          }}\r\n+                        >\r\n+                          Add Item\r\n+                        </Button>\r\n+                      </TableCell>\r\n+                    </TableRow>\r\n \r\n-              <TableRow>\r\n-                <TableCell colSpan={9} className=\"text-right font-medium\">\r\n-                  Sub-total:\r\n-                </TableCell>\r\n-                <TableCell className=\"font-medium\">{subTotal}</TableCell>\r\n-                <TableCell />\r\n-              </TableRow>\r\n+                    {rows.map((item, index) => (\r\n+                      <TableRow key={index}>\r\n+                        <TableCell>{item?.item_code}</TableCell>\r\n+                        <TableCell>{item?.service}</TableCell>\r\n+                        <TableCell>{item?.qty}</TableCell>\r\n+                        <TableCell>{item?.govt_fee}</TableCell>\r\n+                        <TableCell>{item?.center_fee}</TableCell>\r\n+                        <TableCell>{item?.bank_charges}</TableCell>\r\n+                        <TableCell>{item?.transaction_id}</TableCell>\r\n+                        <TableCell>{item?.application_id}</TableCell>\r\n+                        <TableCell>{item?.narration}</TableCell>\r\n+                        <TableCell>{item?.total}</TableCell>\r\n \r\n-              <TableRow>\r\n-                <TableCell colSpan={9} className=\"text-right font-medium\">\r\n-                  Amount Total:\r\n-                </TableCell>\r\n-                <TableCell className=\"font-medium\">{subTotal}</TableCell>\r\n-                <TableCell />\r\n-              </TableRow>\r\n-            </TableBody>\r\n-          </Table>\r\n+                      </TableRow>\r\n+                    ))}\r\n+\r\n+                    <TableRow>\r\n+                      <TableCell colSpan={9} align=\"right\">\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n+                      </TableCell>\r\n+                    </TableRow>\r\n+\r\n+                    {/* Amount Total Row (optional, if needed for the final sum) */}\r\n+                    <TableRow>\r\n+                      <TableCell colSpan={9} align=\"right\">\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n+                      </TableCell>\r\n+                      <TableCell>\r\n+                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n+                      </TableCell>\r\n+                    </TableRow>\r\n+                  </TableBody>\r\n+                </Table>\r\n               </TableContainer>\r\n             </form>\r\n           </>\r\n         }\r\n"
                },
                {
                    "date": 1744621343391,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -590,28 +590,28 @@\n             </Box>\r\n \r\n \r\n             <form onSubmit={handleSubmit(addItem)}>\r\n-              <TableContainer component={Paper}  sx={{overflowX:'scroll'}}>\r\n+              <TableContainer component={Paper}>\r\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Item Code</TableCell>\r\n+                      <TableCell>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Qty</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Govt fee</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Center fee</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Bank Charge</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Transaction ID</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Application ID</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Narration</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Total</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Action</TableCell>\r\n+                      <TableCell>Qty</TableCell>\r\n+                      <TableCell>Govt fee</TableCell>\r\n+                      <TableCell>Center fee</TableCell>\r\n+                      <TableCell>Bank Charge</TableCell>\r\n+                      <TableCell>Transaction ID</TableCell>\r\n+                      <TableCell>Application ID</TableCell>\r\n+                      <TableCell>Narration</TableCell>\r\n+                      <TableCell>Total</TableCell>\r\n+                      <TableCell>Action</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n                     <TableRow>\r\n-                      <TableCell >\r\n+                      <TableCell>\r\n                         <InputField\r\n                           size=\"small\"\r\n                           placeholder=\"Item code\"\r\n                           {...register(\"item_code\", { required: \"Item code is required\" })}\r\n"
                },
                {
                    "date": 1744621371935,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -596,9 +596,9 @@\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n-                      <TableCell>Qty</TableCell>\r\n+                      <TableCell sx={{ width: \"50px\" }}>Qty</TableCell>\r\n                       <TableCell>Govt fee</TableCell>\r\n                       <TableCell>Center fee</TableCell>\r\n                       <TableCell>Bank Charge</TableCell>\r\n                       <TableCell>Transaction ID</TableCell>\r\n"
                },
                {
                    "date": 1744621382269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -596,9 +596,9 @@\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n-                      <TableCell sx={{ width: \"50px\" }}>Qty</TableCell>\r\n+                      <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n                       <TableCell>Govt fee</TableCell>\r\n                       <TableCell>Center fee</TableCell>\r\n                       <TableCell>Bank Charge</TableCell>\r\n                       <TableCell>Transaction ID</TableCell>\r\n"
                },
                {
                    "date": 1744621393121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -596,9 +596,9 @@\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n+                      <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n                       <TableCell>Govt fee</TableCell>\r\n                       <TableCell>Center fee</TableCell>\r\n                       <TableCell>Bank Charge</TableCell>\r\n                       <TableCell>Transaction ID</TableCell>\r\n"
                },
                {
                    "date": 1744621405402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -597,9 +597,9 @@\n                     <TableRow>\r\n                       <TableCell>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n-                      <TableCell>Govt fee</TableCell>\r\n+                      <TableCell sx={{ width: \"100px\" }}>Govt fee</TableCell>\r\n                       <TableCell>Center fee</TableCell>\r\n                       <TableCell>Bank Charge</TableCell>\r\n                       <TableCell>Transaction ID</TableCell>\r\n                       <TableCell>Application ID</TableCell>\r\n"
                },
                {
                    "date": 1744621411170,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -598,12 +598,12 @@\n                       <TableCell>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Govt fee</TableCell>\r\n-                      <TableCell>Center fee</TableCell>\r\n-                      <TableCell>Bank Charge</TableCell>\r\n-                      <TableCell>Transaction ID</TableCell>\r\n-                      <TableCell>Application ID</TableCell>\r\n+                      <TableCell sx={{ width: \"100px\" }}>Center fee</TableCell>\r\n+                      <TableCell sx={{ width: \"100px\" }}>Bank Charge</TableCell>\r\n+                      <TableCell sx={{ width: \"100px\" }}>Transaction ID</TableCell>\r\n+                      <TableCell sx={{ width: \"100px\" }}>Application ID</TableCell>\r\n                       <TableCell>Narration</TableCell>\r\n                       <TableCell>Total</TableCell>\r\n                       <TableCell>Action</TableCell>\r\n                     </TableRow>\r\n"
                },
                {
                    "date": 1744621428805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -595,17 +595,17 @@\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"350px\" }}>Service</TableCell>\r\n+                      <TableCell sx={{ width: \"300px\" }}>Service</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Govt fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Center fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Bank Charge</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Transaction ID</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Application ID</TableCell>\r\n-                      <TableCell>Narration</TableCell>\r\n-                      <TableCell>Total</TableCell>\r\n+                      <TableCell sx={{ width: \"100px\" }}>Narration</TableCell>\r\n+                      <TableCell sx={{ width: \"100px\" }}>Total</TableCell>\r\n                       <TableCell>Action</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n"
                },
                {
                    "date": 1744621451284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -594,9 +594,9 @@\n               <TableContainer component={Paper}>\r\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n-                      <TableCell>Item Code</TableCell>\r\n+                      <TableCell sx={{ width: \"100px\" }}>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"300px\" }}>Service</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Govt fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Center fee</TableCell>\r\n"
                },
                {
                    "date": 1744621461359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -612,8 +612,9 @@\n                     <TableRow>\r\n                       <TableCell>\r\n                         <InputField\r\n                           size=\"small\"\r\n+                          disabled\r\n                           placeholder=\"Item code\"\r\n                           {...register(\"item_code\", { required: \"Item code is required\" })}\r\n                         />\r\n                         {errors.item_code && <span>{errors.item_code.message}</span>}\r\n"
                },
                {
                    "date": 1744621512836,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -322,8 +322,9 @@\n       setValue(\"item_code\", data?.service?.id);\r\n       setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n       setValue(\"center_fee\", data?.service?.center_fee);\r\n       setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n+      \r\n       setValue(\"qty\", 1);\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     } finally {\r\n"
                },
                {
                    "date": 1744621630612,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -613,11 +613,11 @@\n                     <TableRow>\r\n                       <TableCell>\r\n                         <InputField\r\n                           size=\"small\"\r\n-                          disabled\r\n+                          disabled={true}\r\n                           placeholder=\"Item code\"\r\n-                          {...register(\"item_code\", { required: \"Item code is required\" })}\r\n+                          register={register(\"item_code\", { required: \"Item code is required\" })}\r\n                         />\r\n                         {errors.item_code && <span>{errors.item_code.message}</span>}\r\n                       </TableCell>\r\n                       <TableCell>\r\n"
                },
                {
                    "date": 1744621924406,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -670,34 +670,11 @@\n                         />\r\n                         {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n \r\n                       </TableCell>\r\n+                      \r\n                       <TableCell>\r\n                         <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Transaction Id\"\r\n-                          register={register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n-                        />\r\n-                        {errors.transaction_id && <span style={{ color: \"red\" }}>{errors.transaction_id.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Application Id\"\r\n-                          register={register(\"application_id\", { required: \"Application Id is required\" })}\r\n-                        />\r\n-                        {errors.application_id && <span style={{ color: \"red\" }}>{errors.application_id.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Narration\"\r\n-                          register={register(\"narration\", { required: \"Narration is required\" })}\r\n-                        />\r\n-                        {errors.narration && <span style={{ color: \"red\" }}>{errors.narration.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n                           disabled={true}\r\n                           style={{ border: \"none\" }}\r\n                           size=\"small\"\r\n                           placeholder=\"Narration\"\r\n"
                },
                {
                    "date": 1744621930119,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -601,11 +601,9 @@\n                       <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Govt fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Center fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Bank Charge</TableCell>\r\n-                      <TableCell sx={{ width: \"100px\" }}>Transaction ID</TableCell>\r\n-                      <TableCell sx={{ width: \"100px\" }}>Application ID</TableCell>\r\n-                      <TableCell sx={{ width: \"100px\" }}>Narration</TableCell>\r\n+                      \r\n                       <TableCell sx={{ width: \"100px\" }}>Total</TableCell>\r\n                       <TableCell>Action</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n"
                },
                {
                    "date": 1744621955629,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -596,9 +596,9 @@\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell sx={{ width: \"100px\" }}>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"300px\" }}>Service</TableCell>\r\n+                      <TableCell sx={{ width: \"500px\" }}>Service</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Govt fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Center fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Bank Charge</TableCell>\r\n"
                },
                {
                    "date": 1744621965423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -596,9 +596,9 @@\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell sx={{ width: \"100px\" }}>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"500px\" }}>Service</TableCell>\r\n+                      <TableCell sx={{ width: \"300px\" }}>Service</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Govt fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Center fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Bank Charge</TableCell>\r\n"
                },
                {
                    "date": 1744621971811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -595,9 +595,9 @@\n               <TableContainer component={Paper}>\r\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n-                      <TableCell sx={{ width: \"100px\" }}>Item Code</TableCell>\r\n+                      <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"300px\" }}>Service</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Govt fee</TableCell>\r\n                       <TableCell sx={{ width: \"100px\" }}>Center fee</TableCell>\r\n"
                },
                {
                    "date": 1744621977073,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -597,14 +597,14 @@\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n                       <TableCell sx={{ width: \"300px\" }}>Service</TableCell>\r\n-                      <TableCell sx={{ width: \"100px\" }}>Qty</TableCell>\r\n-                      <TableCell sx={{ width: \"100px\" }}>Govt fee</TableCell>\r\n-                      <TableCell sx={{ width: \"100px\" }}>Center fee</TableCell>\r\n-                      <TableCell sx={{ width: \"100px\" }}>Bank Charge</TableCell>\r\n+                      <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n+                      <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n+                      <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n+                      <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n                       \r\n-                      <TableCell sx={{ width: \"100px\" }}>Total</TableCell>\r\n+                      <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n                       <TableCell>Action</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n"
                },
                {
                    "date": 1744621988873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -603,9 +603,9 @@\n                       <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n                       <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n                       \r\n                       <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n-                      <TableCell>Action</TableCell>\r\n+                      <TableCellsx={{ width: \"150px\" }}>Action</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n                     <TableRow>\r\n"
                },
                {
                    "date": 1744622004340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -596,16 +596,16 @@\n                 <Table>\r\n                   <TableHead>\r\n                     <TableRow>\r\n                       <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"300px\" }}>Service</TableCell>\r\n+                      <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n                       <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n                       <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n                       <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n                       \r\n                       <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n-                      <TableCellsx={{ width: \"150px\" }}>Action</TableCell>\r\n+                      <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n                     <TableRow>\r\n"
                },
                {
                    "date": 1744622026656,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -713,9 +713,9 @@\n                       </TableRow>\r\n                     ))}\r\n \r\n                     <TableRow>\r\n-                      <TableCell colSpan={9} align=\"right\">\r\n+                      <TableCell colSpan={7} align=\"right\">\r\n                         <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n                       </TableCell>\r\n                       <TableCell>\r\n                         <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n"
                },
                {
                    "date": 1744622041174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -723,9 +723,9 @@\n                     </TableRow>\r\n \r\n                     {/* Amount Total Row (optional, if needed for the final sum) */}\r\n                     <TableRow>\r\n-                      <TableCell colSpan={9} align=\"right\">\r\n+                      <TableCell colSpan={7} align=\"right\">\r\n                         <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n                       </TableCell>\r\n                       <TableCell>\r\n                         <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n"
                },
                {
                    "date": 1744622064113,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -704,11 +704,9 @@\n                         <TableCell>{item?.qty}</TableCell>\r\n                         <TableCell>{item?.govt_fee}</TableCell>\r\n                         <TableCell>{item?.center_fee}</TableCell>\r\n                         <TableCell>{item?.bank_charges}</TableCell>\r\n-                        <TableCell>{item?.transaction_id}</TableCell>\r\n-                        <TableCell>{item?.application_id}</TableCell>\r\n-                        <TableCell>{item?.narration}</TableCell>\r\n+                        \r\n                         <TableCell>{item?.total}</TableCell>\r\n \r\n                       </TableRow>\r\n                     ))}\r\n"
                },
                {
                    "date": 1744622288812,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -582,9 +582,9 @@\n                           backgroundColor: \"rgb(189 155 74)\",\r\n                         },\r\n                       }}\r\n                     >\r\n-                      Add Company\r\n+                      Create\r\n                     </Button>\r\n                   </Grid>\r\n                 </Grid>\r\n               </Box>\r\n"
                },
                {
                    "date": 1744622297821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -571,9 +571,9 @@\n                     </Grid>\r\n                   </Grid>\r\n \r\n                   {/* </Grid> */}\r\n-                  <Grid item xs={2.8}>\r\n+                  <Grid item xs={12}>\r\n                     <Button\r\n                       type=\"submit\"\r\n                       variant=\"contained\"\r\n                       sx={{\r\n"
                },
                {
                    "date": 1744622305493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -571,9 +571,9 @@\n                     </Grid>\r\n                   </Grid>\r\n \r\n                   {/* </Grid> */}\r\n-                  <Grid item xs={12}>\r\n+                  <Grid item xs={12} display={'flex'}>\r\n                     <Button\r\n                       type=\"submit\"\r\n                       variant=\"contained\"\r\n                       sx={{\r\n"
                },
                {
                    "date": 1744622314777,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -571,9 +571,9 @@\n                     </Grid>\r\n                   </Grid>\r\n \r\n                   {/* </Grid> */}\r\n-                  <Grid item xs={12} display={'flex'}>\r\n+                  <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n                     <Button\r\n                       type=\"submit\"\r\n                       variant=\"contained\"\r\n                       sx={{\r\n"
                },
                {
                    "date": 1744622330670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -576,8 +576,9 @@\n                     <Button\r\n                       type=\"submit\"\r\n                       variant=\"contained\"\r\n                       sx={{\r\n+                        textTransform:'capitalize'\r\n                         backgroundColor: \"#bd9b4a\",\r\n                         \":hover\": {\r\n                           backgroundColor: \"rgb(189 155 74)\",\r\n                         },\r\n"
                },
                {
                    "date": 1744622345461,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -576,9 +576,9 @@\n                     <Button\r\n                       type=\"submit\"\r\n                       variant=\"contained\"\r\n                       sx={{\r\n-                        textTransform:'capitalize'\r\n+                        textTransform:'capitalize',\r\n                         backgroundColor: \"#bd9b4a\",\r\n                         \":hover\": {\r\n                           backgroundColor: \"rgb(189 155 74)\",\r\n                         },\r\n@@ -685,8 +685,9 @@\n                           variant=\"contained\"\r\n                           color=\"primary\"\r\n                           type=\"submit\"\r\n                           sx={{\r\n+                            textTransform:'capitalize',\r\n                             backgroundColor: \"rgb(189 155 74)\",\r\n                             fontSize: \"12px\",\r\n                             \":hover\": {\r\n                               backgroundColor: \"rgb(189 155 74)\",\r\n"
                },
                {
                    "date": 1744622421403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,8 +246,9 @@\n         use_own_govt_bank: ownGovBank?.id,\r\n         cogs_account_id: cogsAccount?.id,\r\n         vat_bank_charge: Number(formData?.vat_bank_charge),\r\n         non_local_commission: Number(formData?.non_local_commission),\r\n+        items:rows\r\n       };\r\n       console.log(formData, \"formData\");\r\n       //   const promise = CustomerServices.AddServiceItem(obj);\r\n \r\n"
                },
                {
                    "date": 1744622447830,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -243,11 +243,9 @@\n         item_tax_type: tax?.name,\r\n         editable_description: description?.id,\r\n         sales_account_id: salesAccount?.id,\r\n         use_own_govt_bank: ownGovBank?.id,\r\n-        cogs_account_id: cogsAccount?.id,\r\n-        vat_bank_charge: Number(formData?.vat_bank_charge),\r\n-        non_local_commission: Number(formData?.non_local_commission),\r\n+      \r\n         items:rows\r\n       };\r\n       console.log(formData, \"formData\");\r\n       //   const promise = CustomerServices.AddServiceItem(obj);\r\n"
                },
                {
                    "date": 1744622475144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -231,20 +231,9 @@\n   const submitForm1 = async (formData) => {\r\n     console.log(formData);\r\n     try {\r\n       let obj = {\r\n-        name: formData?.name,\r\n-        name_ar: formData?.arabic,\r\n-        category_id: category?.id,\r\n-        center_fee: Number(formData?.center_fee),\r\n-        govt_bank_account_id: governmentAccount?.id,\r\n-        bank_service_charge: Number(formData?.bank_service_charges),\r\n-        other_charge: Number(formData?.other_charge),\r\n-        local_commission: Number(formData?.local_commission),\r\n-        item_tax_type: tax?.name,\r\n-        editable_description: description?.id,\r\n-        sales_account_id: salesAccount?.id,\r\n-        use_own_govt_bank: ownGovBank?.id,\r\n+ \r\n       \r\n         items:rows\r\n       };\r\n       console.log(formData, \"formData\");\r\n"
                },
                {
                    "date": 1744622518622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -231,11 +231,19 @@\n   const submitForm1 = async (formData) => {\r\n     console.log(formData);\r\n     try {\r\n       let obj = {\r\n- \r\n-      \r\n-        items:rows\r\n+        token_number: \"202\",\r\n+        token_date: \"2025-04-14T10:00:00Z\",\r\n+        invoice_prefix: \"AAD\",\r\n+        customer_name: \"John Doe\",\r\n+        reception_id: \"6\",\r\n+        customer_mobile: \"0501234567\",\r\n+        customer_email: \"johndoe@example.com\",\r\n+        ref: \"REF98765\",\r\n+        total_amount: 1250.50,\r\n+\r\n+        items: rows\r\n       };\r\n       console.log(formData, \"formData\");\r\n       //   const promise = CustomerServices.AddServiceItem(obj);\r\n \r\n@@ -310,9 +318,9 @@\n       setValue(\"item_code\", data?.service?.id);\r\n       setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n       setValue(\"center_fee\", data?.service?.center_fee);\r\n       setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n-      \r\n+\r\n       setValue(\"qty\", 1);\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     } finally {\r\n@@ -564,9 +572,9 @@\n                     <Button\r\n                       type=\"submit\"\r\n                       variant=\"contained\"\r\n                       sx={{\r\n-                        textTransform:'capitalize',\r\n+                        textTransform: 'capitalize',\r\n                         backgroundColor: \"#bd9b4a\",\r\n                         \":hover\": {\r\n                           backgroundColor: \"rgb(189 155 74)\",\r\n                         },\r\n@@ -590,9 +598,9 @@\n                       <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n                       <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n                       <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n                       <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n-                      \r\n+\r\n                       <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n                       <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n@@ -657,9 +665,9 @@\n                         />\r\n                         {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n \r\n                       </TableCell>\r\n-                      \r\n+\r\n                       <TableCell>\r\n                         <InputField\r\n                           disabled={true}\r\n                           style={{ border: \"none\" }}\r\n@@ -673,9 +681,9 @@\n                           variant=\"contained\"\r\n                           color=\"primary\"\r\n                           type=\"submit\"\r\n                           sx={{\r\n-                            textTransform:'capitalize',\r\n+                            textTransform: 'capitalize',\r\n                             backgroundColor: \"rgb(189 155 74)\",\r\n                             fontSize: \"12px\",\r\n                             \":hover\": {\r\n                               backgroundColor: \"rgb(189 155 74)\",\r\n@@ -694,9 +702,9 @@\n                         <TableCell>{item?.qty}</TableCell>\r\n                         <TableCell>{item?.govt_fee}</TableCell>\r\n                         <TableCell>{item?.center_fee}</TableCell>\r\n                         <TableCell>{item?.bank_charges}</TableCell>\r\n-                        \r\n+\r\n                         <TableCell>{item?.total}</TableCell>\r\n \r\n                       </TableRow>\r\n                     ))}\r\n"
                },
                {
                    "date": 1744622627185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -504,8 +504,9 @@\n                           label=\"Display Customer\"\r\n                           size=\"small\"\r\n                           placeholder=\"Walk-in Customer\"\r\n                           register={register1(\"display_customer\")}\r\n+                          error={errors1?.title?.message}\r\n                         />\r\n                       </Grid>\r\n \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n"
                },
                {
                    "date": 1744622675389,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -503,10 +503,12 @@\n                         <InputField\r\n                           label=\"Display Customer\"\r\n                           size=\"small\"\r\n                           placeholder=\"Walk-in Customer\"\r\n-                          register={register1(\"display_customer\")}\r\n-                          error={errors1?.title?.message}\r\n+                          register={register1(\"display_customer\",{\r\n+                            required:'please enter display name.'\r\n+                          })}\r\n+                          error={errors1?.display_customer?.message}\r\n                         />\r\n                       </Grid>\r\n \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n"
                },
                {
                    "date": 1744622710005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -516,8 +516,12 @@\n                           label=\"Mobile\"\r\n                           size=\"small\"\r\n                           placeholder=\"Mobile No\"\r\n                           register={register1(\"mobile\")}\r\n+                          register={register1(\"mobile\",{\r\n+                            required:'please enter display name.'\r\n+                          })}\r\n+                          error={errors1?.display_customer?.message}\r\n                         />\r\n                       </Grid>\r\n \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n"
                },
                {
                    "date": 1744622716344,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -515,11 +515,11 @@\n                         <InputField\r\n                           label=\"Mobile\"\r\n                           size=\"small\"\r\n                           placeholder=\"Mobile No\"\r\n-                          register={register1(\"mobile\")}\r\n+                    \r\n                           register={register1(\"mobile\",{\r\n-                            required:'please enter display name.'\r\n+                            required:'please enter mobile .'\r\n                           })}\r\n                           error={errors1?.display_customer?.message}\r\n                         />\r\n                       </Grid>\r\n"
                },
                {
                    "date": 1744622731860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -529,8 +529,12 @@\n                           label=\"Email\"\r\n                           size=\"small\"\r\n                           placeholder=\"Email\"\r\n                           register={register1(\"email\")}\r\n+                             register={register1(\"email\",{\r\n+                            required:'please enter email .'\r\n+                          })}\r\n+                          error={errors1?.email?.message}\r\n                         />\r\n                       </Grid>\r\n \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n"
                },
                {
                    "date": 1744622749609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -528,9 +528,9 @@\n                         <InputField\r\n                           label=\"Email\"\r\n                           size=\"small\"\r\n                           placeholder=\"Email\"\r\n-                          register={register1(\"email\")}\r\n+                        \r\n                              register={register1(\"email\",{\r\n                             required:'please enter email .'\r\n                           })}\r\n                           error={errors1?.email?.message}\r\n@@ -542,8 +542,13 @@\n                           label=\"TRN\"\r\n                           size=\"small\"\r\n                           placeholder=\"TRN\"\r\n                           register={register1(\"trn\")}\r\n+                          \r\n+                          register={register1(\"trn\",{\r\n+                            required:'please enter trn .'\r\n+                          })}\r\n+                          error={errors1?.trn?.message}\r\n                         />\r\n                       </Grid>\r\n \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n"
                },
                {
                    "date": 1744622770685,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -541,9 +541,9 @@\n                         <InputField\r\n                           label=\"TRN\"\r\n                           size=\"small\"\r\n                           placeholder=\"TRN\"\r\n-                          register={register1(\"trn\")}\r\n+                         \r\n                           \r\n                           register={register1(\"trn\",{\r\n                             required:'please enter trn .'\r\n                           })}\r\n@@ -567,8 +567,12 @@\n                           options={[{ id: \"tasheel\", name: \"TASHEEL\" }]}\r\n                           selected={watch1(\"cost_center\")}\r\n                           onSelect={(value) => setValue(\"cost_center\", value)}\r\n                           register={register1(\"cost_center\")}\r\n+                          register={register1(\"cost_center\",{\r\n+                            required:'please enter cost_center .'\r\n+                          })}\r\n+                          error={errors1?.cost_center?.message}\r\n                         />\r\n                       </Grid>\r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <InputField\r\n"
                },
                {
                    "date": 1744622787434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -566,11 +566,11 @@\n                           size=\"small\"\r\n                           options={[{ id: \"tasheel\", name: \"TASHEEL\" }]}\r\n                           selected={watch1(\"cost_center\")}\r\n                           onSelect={(value) => setValue(\"cost_center\", value)}\r\n-                          register={register1(\"cost_center\")}\r\n+                    \r\n                           register={register1(\"cost_center\",{\r\n-                            required:'please enter cost_center .'\r\n+                            required:'please enter cost center .'\r\n                           })}\r\n                           error={errors1?.cost_center?.message}\r\n                         />\r\n                       </Grid>\r\n@@ -581,8 +581,12 @@\n                           placeholder=\"Address\"\r\n                           multiline\r\n                           rows={2}\r\n                           register={register1(\"address\")}\r\n+                          register={register1(\"address\",{\r\n+                            required:'please enter address .'\r\n+                          })}\r\n+                          error={errors1?.address?.message}\r\n                         />\r\n                       </Grid>\r\n                     </Grid>\r\n                   </Grid>\r\n"
                },
                {
                    "date": 1744622838922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -459,8 +459,12 @@\n                         <DatePicker\r\n                           label=\"Invoice Date\"\r\n                           value={watch1(\"invoice_date\")}\r\n                           onChange={(value) => setValue(\"invoice_date\", value)}\r\n+                          register={register1(\"invoice_date\",{\r\n+                            required:'please enter invoice_date .'\r\n+                          })}\r\n+                          error={errors1?.invoice_date?.message}\r\n                           maxDate={moment().toDate()}\r\n                         />\r\n                       </Grid>\r\n                       <Grid item xs={5.7} >\r\n@@ -580,9 +584,9 @@\n                           size=\"small\"\r\n                           placeholder=\"Address\"\r\n                           multiline\r\n                           rows={2}\r\n-                          register={register1(\"address\")}\r\n+                          \r\n                           register={register1(\"address\",{\r\n                             required:'please enter address .'\r\n                           })}\r\n                           error={errors1?.address?.message}\r\n"
                },
                {
                    "date": 1744622846757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -458,9 +458,9 @@\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <DatePicker\r\n                           label=\"Invoice Date\"\r\n                           value={watch1(\"invoice_date\")}\r\n-                          onChange={(value) => setValue(\"invoice_date\", value)}\r\n+                          onChange={(value) => setValue1(\"invoice_date\", value)}\r\n                           register={register1(\"invoice_date\",{\r\n                             required:'please enter invoice_date .'\r\n                           })}\r\n                           error={errors1?.invoice_date?.message}\r\n"
                },
                {
                    "date": 1744622899979,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -453,9 +453,30 @@\n                           placeholder=\"TSL/83540\"\r\n                           register={register1(\"invoice_no\")}\r\n                         />\r\n                       </Grid>\r\n+                      <Grid item xs={5.7}>\r\n+                  <DatePicker\r\n+                    label={\"Opening Balance Date :*\"}\r\n+                    value={date}\r\n+                    size={'small'}\r\n \r\n+                    error={errors1?.date?.message}\r\n+                    register={register1(\"date\", {\r\n+                      required:\r\n+                        date ? false :\r\n+                          \"please enter  date.\"\r\n+\r\n+                    })}\r\n+                    onChange={(date) => {\r\n+\r\n+                      setValue1('date', date)\r\n+                      setDate(new Date(date));\r\n+\r\n+                    }\r\n+\r\n+                    }\r\n+                  /></Grid>\r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <DatePicker\r\n                           label=\"Invoice Date\"\r\n                           value={watch1(\"invoice_date\")}\r\n"
                },
                {
                    "date": 1744622908804,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -454,36 +454,36 @@\n                           register={register1(\"invoice_no\")}\r\n                         />\r\n                       </Grid>\r\n                       <Grid item xs={5.7}>\r\n-                  <DatePicker\r\n-                    label={\"Opening Balance Date :*\"}\r\n-                    value={date}\r\n-                    size={'small'}\r\n+                        <DatePicker\r\n+                          label={\"Invoice Date :*\"}\r\n+                          value={date}\r\n+                          size={'small'}\r\n \r\n-                    error={errors1?.date?.message}\r\n-                    register={register1(\"date\", {\r\n-                      required:\r\n-                        date ? false :\r\n-                          \"please enter  date.\"\r\n+                          error={errors1?.date?.message}\r\n+                          register={register1(\"date\", {\r\n+                            required:\r\n+                              date ? false :\r\n+                                \"please enter  date.\"\r\n \r\n-                    })}\r\n-                    onChange={(date) => {\r\n+                          })}\r\n+                          onChange={(date) => {\r\n \r\n-                      setValue1('date', date)\r\n-                      setDate(new Date(date));\r\n+                            setValue1('date', date)\r\n+                            setDate(new Date(date));\r\n \r\n-                    }\r\n+                          }\r\n \r\n-                    }\r\n-                  /></Grid>\r\n+                          }\r\n+                        /></Grid>\r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <DatePicker\r\n                           label=\"Invoice Date\"\r\n                           value={watch1(\"invoice_date\")}\r\n                           onChange={(value) => setValue1(\"invoice_date\", value)}\r\n-                          register={register1(\"invoice_date\",{\r\n-                            required:'please enter invoice_date .'\r\n+                          register={register1(\"invoice_date\", {\r\n+                            required: 'please enter invoice_date .'\r\n                           })}\r\n                           error={errors1?.invoice_date?.message}\r\n                           maxDate={moment().toDate()}\r\n                         />\r\n@@ -528,10 +528,10 @@\n                         <InputField\r\n                           label=\"Display Customer\"\r\n                           size=\"small\"\r\n                           placeholder=\"Walk-in Customer\"\r\n-                          register={register1(\"display_customer\",{\r\n-                            required:'please enter display name.'\r\n+                          register={register1(\"display_customer\", {\r\n+                            required: 'please enter display name.'\r\n                           })}\r\n                           error={errors1?.display_customer?.message}\r\n                         />\r\n                       </Grid>\r\n@@ -540,11 +540,11 @@\n                         <InputField\r\n                           label=\"Mobile\"\r\n                           size=\"small\"\r\n                           placeholder=\"Mobile No\"\r\n-                    \r\n-                          register={register1(\"mobile\",{\r\n-                            required:'please enter mobile .'\r\n+\r\n+                          register={register1(\"mobile\", {\r\n+                            required: 'please enter mobile .'\r\n                           })}\r\n                           error={errors1?.display_customer?.message}\r\n                         />\r\n                       </Grid>\r\n@@ -553,11 +553,11 @@\n                         <InputField\r\n                           label=\"Email\"\r\n                           size=\"small\"\r\n                           placeholder=\"Email\"\r\n-                        \r\n-                             register={register1(\"email\",{\r\n-                            required:'please enter email .'\r\n+\r\n+                          register={register1(\"email\", {\r\n+                            required: 'please enter email .'\r\n                           })}\r\n                           error={errors1?.email?.message}\r\n                         />\r\n                       </Grid>\r\n@@ -566,12 +566,12 @@\n                         <InputField\r\n                           label=\"TRN\"\r\n                           size=\"small\"\r\n                           placeholder=\"TRN\"\r\n-                         \r\n-                          \r\n-                          register={register1(\"trn\",{\r\n-                            required:'please enter trn .'\r\n+\r\n+\r\n+                          register={register1(\"trn\", {\r\n+                            required: 'please enter trn .'\r\n                           })}\r\n                           error={errors1?.trn?.message}\r\n                         />\r\n                       </Grid>\r\n@@ -591,11 +591,11 @@\n                           size=\"small\"\r\n                           options={[{ id: \"tasheel\", name: \"TASHEEL\" }]}\r\n                           selected={watch1(\"cost_center\")}\r\n                           onSelect={(value) => setValue(\"cost_center\", value)}\r\n-                    \r\n-                          register={register1(\"cost_center\",{\r\n-                            required:'please enter cost center .'\r\n+\r\n+                          register={register1(\"cost_center\", {\r\n+                            required: 'please enter cost center .'\r\n                           })}\r\n                           error={errors1?.cost_center?.message}\r\n                         />\r\n                       </Grid>\r\n@@ -605,11 +605,11 @@\n                           size=\"small\"\r\n                           placeholder=\"Address\"\r\n                           multiline\r\n                           rows={2}\r\n-                          \r\n-                          register={register1(\"address\",{\r\n-                            required:'please enter address .'\r\n+\r\n+                          register={register1(\"address\", {\r\n+                            required: 'please enter address .'\r\n                           })}\r\n                           error={errors1?.address?.message}\r\n                         />\r\n                       </Grid>\r\n"
                },
                {
                    "date": 1744622927634,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -475,20 +475,9 @@\n                           }\r\n \r\n                           }\r\n                         /></Grid>\r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <DatePicker\r\n-                          label=\"Invoice Date\"\r\n-                          value={watch1(\"invoice_date\")}\r\n-                          onChange={(value) => setValue1(\"invoice_date\", value)}\r\n-                          register={register1(\"invoice_date\", {\r\n-                            required: 'please enter invoice_date .'\r\n-                          })}\r\n-                          error={errors1?.invoice_date?.message}\r\n-                          maxDate={moment().toDate()}\r\n-                        />\r\n-                      </Grid>\r\n+                   \r\n                       <Grid item xs={5.7} >\r\n                         <SelectField\r\n                           size={'small'}\r\n                           label={'Customer *:'}\r\n"
                },
                {
                    "date": 1744623106339,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -577,9 +577,9 @@\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Cost Center\"\r\n                           size=\"small\"\r\n-                          options={[{ id: \"tasheel\", name: \"TASHEEL\" }]}\r\n+                          options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n                           selected={watch1(\"cost_center\")}\r\n                           onSelect={(value) => setValue(\"cost_center\", value)}\r\n \r\n                           register={register1(\"cost_center\", {\r\n"
                },
                {
                    "date": 1744623143908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -231,9 +231,9 @@\n   const submitForm1 = async (formData) => {\r\n     console.log(formData);\r\n     try {\r\n       let obj = {\r\n-        token_number: \"202\",\r\n+        token_number: formData?.token,\r\n         token_date: \"2025-04-14T10:00:00Z\",\r\n         invoice_prefix: \"AAD\",\r\n         customer_name: \"John Doe\",\r\n         reception_id: \"6\",\r\n"
                },
                {
                    "date": 1744623159780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -232,9 +232,9 @@\n     console.log(formData);\r\n     try {\r\n       let obj = {\r\n         token_number: formData?.token,\r\n-        token_date: \"2025-04-14T10:00:00Z\",\r\n+        token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n         customer_name: \"John Doe\",\r\n         reception_id: \"6\",\r\n         customer_mobile: \"0501234567\",\r\n"
                },
                {
                    "date": 1744623186729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,9 +234,9 @@\n       let obj = {\r\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n-        customer_name: \"John Doe\",\r\n+        customer_name: formData?.display_customer,\r\n         reception_id: \"6\",\r\n         customer_mobile: \"0501234567\",\r\n         customer_email: \"johndoe@example.com\",\r\n         ref: \"REF98765\",\r\n"
                },
                {
                    "date": 1744623378707,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,9 +235,9 @@\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n         customer_name: formData?.display_customer,\r\n-        reception_id: \"6\",\r\n+        reception_id: formData?.token,\r\n         customer_mobile: \"0501234567\",\r\n         customer_email: \"johndoe@example.com\",\r\n         ref: \"REF98765\",\r\n         total_amount: 1250.50,\r\n"
                },
                {
                    "date": 1744623454611,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -221,8 +221,9 @@\n   const [ownGovBank, setOwnGovBank] = useState(null);\r\n   const [services, setServices] = useState(null);\r\n   const [serviceItem, setServiceItem] = useState(null);\r\n   const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n+  const [detail, setDetail] = useState(null)\r\n   //documents array\r\n \r\n   const handleNext = () => {\r\n     setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n"
                },
                {
                    "date": 1744623475657,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -270,8 +270,9 @@\n         token_number: getValues1(\"token\"),\r\n       };\r\n       const { data } = await CustomerServices.getReceptionDetail(params);\r\n       console.log(data, \"dataaa\");\r\n+      setDetail(data?.token)\r\n       setValue1(\"customer\", data?.token?.customer_name);\r\n       setValue1(\"invoice_date\", moment().toDate());\r\n       setValue1(\"mobile\", data?.token?.mobile);\r\n       setValue1(\"ref\", data?.token?.reference);\r\n"
                },
                {
                    "date": 1744623485578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,9 +236,9 @@\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n         customer_name: formData?.display_customer,\r\n-        reception_id: formData?.token,\r\n+        reception_id: detail?.id,\r\n         customer_mobile: \"0501234567\",\r\n         customer_email: \"johndoe@example.com\",\r\n         ref: \"REF98765\",\r\n         total_amount: 1250.50,\r\n"
                },
                {
                    "date": 1744623504620,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -237,9 +237,9 @@\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n-        customer_mobile: \"0501234567\",\r\n+        customer_mobile: detail?.mobile,\r\n         customer_email: \"johndoe@example.com\",\r\n         ref: \"REF98765\",\r\n         total_amount: 1250.50,\r\n \r\n"
                },
                {
                    "date": 1744623525590,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -237,9 +237,9 @@\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n-        customer_mobile: detail?.mobile,\r\n+        customer_mobile: formData?.mobile,\r\n         customer_email: \"johndoe@example.com\",\r\n         ref: \"REF98765\",\r\n         total_amount: 1250.50,\r\n \r\n"
                },
                {
                    "date": 1744623537721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,9 +238,9 @@\n         invoice_prefix: \"AAD\",\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n-        customer_email: \"johndoe@example.com\",\r\n+        customer_email: formData?.email\r\n         ref: \"REF98765\",\r\n         total_amount: 1250.50,\r\n \r\n         items: rows\r\n"
                },
                {
                    "date": 1744623547676,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -238,10 +238,10 @@\n         invoice_prefix: \"AAD\",\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n-        customer_email: formData?.email\r\n-        ref: \"REF98765\",\r\n+        customer_email: formData?.email,\r\n+        ref: formData?.ref,\r\n         total_amount: 1250.50,\r\n \r\n         items: rows\r\n       };\r\n"
                },
                {
                    "date": 1744623576447,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -240,9 +240,9 @@\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n         customer_email: formData?.email,\r\n         ref: formData?.ref,\r\n-        total_amount: 1250.50,\r\n+        total_amount:subTotal ,\r\n \r\n         items: rows\r\n       };\r\n       console.log(formData, \"formData\");\r\n"
                },
                {
                    "date": 1744623649400,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,20 +245,20 @@\n \r\n         items: rows\r\n       };\r\n       console.log(formData, \"formData\");\r\n-      //   const promise = CustomerServices.AddServiceItem(obj);\r\n+        const promise = CustomerServices.AddServiceItem(obj);\r\n \r\n-      //   showPromiseToast(\r\n-      //     promise,\r\n-      //     \"Saving...\",\r\n-      //     \"Added Successfully\",\r\n-      //     \"Something Went Wrong\"\r\n-      //   );\r\n-      //   const response = await promise;\r\n-      //   if (response?.responseCode === 200) {\r\n-      //     navigate(\"/service-list\");\r\n-      //   }\r\n+        showPromiseToast(\r\n+          promise,\r\n+          \"Saving...\",\r\n+          \"Added Successfully\",\r\n+          \"Something Went Wrong\"\r\n+        );\r\n+        const response = await promise;\r\n+        if (response?.responseCode === 200) {\r\n+          navigate(\"/service-list\");\r\n+        }\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     }\r\n   };\r\n"
                },
                {
                    "date": 1744623672031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,9 +245,9 @@\n \r\n         items: rows\r\n       };\r\n       console.log(formData, \"formData\");\r\n-        const promise = CustomerServices.AddServiceItem(obj);\r\n+        const promise = CustomerServices.CreateSaleReceipt(obj);\r\n \r\n         showPromiseToast(\r\n           promise,\r\n           \"Saving...\",\r\n"
                },
                {
                    "date": 1744623873879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -610,8 +610,9 @@\n                   {/* </Grid> */}\r\n                   <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n                     <Button\r\n                       type=\"submit\"\r\n+                      disabled={rows?.length == 0}\r\n                       variant=\"contained\"\r\n                       sx={{\r\n                         textTransform: 'capitalize',\r\n                         backgroundColor: \"#bd9b4a\",\r\n"
                },
                {
                    "date": 1744624407805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -255,9 +255,9 @@\n           \"Something Went Wrong\"\r\n         );\r\n         const response = await promise;\r\n         if (response?.responseCode === 200) {\r\n-          navigate(\"/service-list\");\r\n+          navigate(\"/pre-sales\");\r\n         }\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     }\r\n"
                },
                {
                    "date": 1744624987661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -581,9 +581,9 @@\n                           label=\"Cost Center\"\r\n                           size=\"small\"\r\n                           options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n                           selected={watch1(\"cost_center\")}\r\n-                          onSelect={(value) => setValue(\"cost_center\", value)}\r\n+                          onSelect={(value) => setValue1(\"cost_center\", value)}\r\n \r\n                           register={register1(\"cost_center\", {\r\n                             required: 'please enter cost center .'\r\n                           })}\r\n"
                },
                {
                    "date": 1744625021710,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -574,9 +574,10 @@\n                           placeholder=\"Reference\"\r\n                           register={register1(\"ref\")}\r\n                         />\r\n                       </Grid>\r\n-\r\n+{console.log(watch1(\"cost_center\"))\r\n+}\r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Cost Center\"\r\n                           size=\"small\"\r\n"
                },
                {
                    "date": 1744625040472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -240,25 +240,25 @@\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n         customer_email: formData?.email,\r\n         ref: formData?.ref,\r\n-        total_amount:subTotal ,\r\n+        total_amount: subTotal,\r\n \r\n         items: rows\r\n       };\r\n       console.log(formData, \"formData\");\r\n-        const promise = CustomerServices.CreateSaleReceipt(obj);\r\n+      const promise = CustomerServices.CreateSaleReceipt(obj);\r\n \r\n-        showPromiseToast(\r\n-          promise,\r\n-          \"Saving...\",\r\n-          \"Added Successfully\",\r\n-          \"Something Went Wrong\"\r\n-        );\r\n-        const response = await promise;\r\n-        if (response?.responseCode === 200) {\r\n-          navigate(\"/pre-sales\");\r\n-        }\r\n+      showPromiseToast(\r\n+        promise,\r\n+        \"Saving...\",\r\n+        \"Added Successfully\",\r\n+        \"Something Went Wrong\"\r\n+      );\r\n+      const response = await promise;\r\n+      if (response?.responseCode === 200) {\r\n+        navigate(\"/pre-sales\");\r\n+      }\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     }\r\n   };\r\n@@ -477,9 +477,9 @@\n                           }\r\n \r\n                           }\r\n                         /></Grid>\r\n-                   \r\n+\r\n                       <Grid item xs={5.7} >\r\n                         <SelectField\r\n                           size={'small'}\r\n                           label={'Customer *:'}\r\n@@ -574,10 +574,10 @@\n                           placeholder=\"Reference\"\r\n                           register={register1(\"ref\")}\r\n                         />\r\n                       </Grid>\r\n-{console.log(watch1(\"cost_center\"))\r\n-}\r\n+                      {console.log(watch1(\"cost_center\"))\r\n+                      }\r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Cost Center\"\r\n                           size=\"small\"\r\n"
                },
                {
                    "date": 1744625070030,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,8 +235,9 @@\n       let obj = {\r\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n+        cost_center:formData?.cost_center,\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n         customer_email: formData?.email,\r\n@@ -574,10 +575,9 @@\n                           placeholder=\"Reference\"\r\n                           register={register1(\"ref\")}\r\n                         />\r\n                       </Grid>\r\n-                      {console.log(watch1(\"cost_center\"))\r\n-                      }\r\n+                     \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Cost Center\"\r\n                           size=\"small\"\r\n"
                },
                {
                    "date": 1744625148786,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -552,9 +552,9 @@\n                           })}\r\n                           error={errors1?.email?.message}\r\n                         />\r\n                       </Grid>\r\n-\r\n+{/* \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <InputField\r\n                           label=\"TRN\"\r\n                           size=\"small\"\r\n@@ -565,9 +565,9 @@\n                             required: 'please enter trn .'\r\n                           })}\r\n                           error={errors1?.trn?.message}\r\n                         />\r\n-                      </Grid>\r\n+                      </Grid> */}\r\n \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <InputField\r\n                           label=\"Ref\"\r\n"
                },
                {
                    "date": 1744666789396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n     try {\r\n       let params = {\r\n         token_number: getValues1(\"token\"),\r\n       };\r\n-      const { data } = await CustomerServices.getReceptionDetail(params);\r\n+      const { data } = await CustomerServices.getReceiptDetail(params);\r\n       console.log(data, \"dataaa\");\r\n       setDetail(data?.token)\r\n       setValue1(\"customer\", data?.token?.customer_name);\r\n       setValue1(\"invoice_date\", moment().toDate());\r\n"
                },
                {
                    "date": 1744666930072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n     try {\r\n       let params = {\r\n         token_number: getValues1(\"token\"),\r\n       };\r\n-      const { data } = await CustomerServices.getReceiptDetail(params);\r\n+      const { data } = await CustomerServices.getReceptionDetail(params);\r\n       console.log(data, \"dataaa\");\r\n       setDetail(data?.token)\r\n       setValue1(\"customer\", data?.token?.customer_name);\r\n       setValue1(\"invoice_date\", moment().toDate());\r\n"
                },
                {
                    "date": 1744674284922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -348,8 +348,28 @@\n     } finally {\r\n       // setLoader(false)\r\n     }\r\n   };\r\n+     // *For Get Account\r\n+      const getReceptionDetail = async (state) => {\r\n+          setFieldsDisabled(true)\r\n+          try {\r\n+              let params = {\r\n+                  token_number: getValues1(\"token\"),\r\n+              };\r\n+              if (state) {\r\n+                  params = {\r\n+                      invoice_number: getValues1(\"invoicenumber\"),\r\n+                  };\r\n+              }\r\n+              const { data } = await CustomerServices.getReceiptDetail(params);\r\n+              \r\n+          } catch (error) {\r\n+              ErrorToaster(error);\r\n+          } finally {\r\n+              // setLoader(false)\r\n+          }\r\n+      };\r\n   const getTax = async () => {\r\n     // setLoader(true)\r\n     try {\r\n       let params = {\r\n@@ -576,9 +596,9 @@\n                           register={register1(\"ref\")}\r\n                         />\r\n                       </Grid>\r\n                      \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n+                      {/* <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Cost Center\"\r\n                           size=\"small\"\r\n                           options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n@@ -589,9 +609,9 @@\n                             required: 'please enter cost center .'\r\n                           })}\r\n                           error={errors1?.cost_center?.message}\r\n                         />\r\n-                      </Grid>\r\n+                      </Grid> */}\r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <InputField\r\n                           label=\"Address\"\r\n                           size=\"small\"\r\n"
                },
                {
                    "date": 1744674330165,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,9 +349,9 @@\n       // setLoader(false)\r\n     }\r\n   };\r\n      // *For Get Account\r\n-      const getReceptionDetail = async (state) => {\r\n+      const getReceiptDetail = async (state) => {\r\n           setFieldsDisabled(true)\r\n           try {\r\n               let params = {\r\n                   token_number: getValues1(\"token\"),\r\n@@ -446,9 +446,9 @@\n                           placeholder=\"Enter Token\"\r\n                           register={register1(\"token\")}\r\n                           InputProps={{\r\n                             endAdornment: (\r\n-                              <IconButton onClick={getReceptionDetail}>\r\n+                              <IconButton onClick={getReceptionDetail() ; getReceiptDetail()}>\r\n                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n                               </IconButton>\r\n                             ),\r\n                           }}\r\n"
                },
                {
                    "date": 1744674346757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -446,9 +446,9 @@\n                           placeholder=\"Enter Token\"\r\n                           register={register1(\"token\")}\r\n                           InputProps={{\r\n                             endAdornment: (\r\n-                              <IconButton onClick={getReceptionDetail() ; getReceiptDetail()}>\r\n+                              <IconButton onClick={()=> {getReceptionDetail(); getReceiptDetail()}}>\r\n                                 <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n                               </IconButton>\r\n                             ),\r\n                           }}\r\n"
                },
                {
                    "date": 1744674361512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -355,13 +355,9 @@\n           try {\r\n               let params = {\r\n                   token_number: getValues1(\"token\"),\r\n               };\r\n-              if (state) {\r\n-                  params = {\r\n-                      invoice_number: getValues1(\"invoicenumber\"),\r\n-                  };\r\n-              }\r\n+             \r\n               const { data } = await CustomerServices.getReceiptDetail(params);\r\n               \r\n           } catch (error) {\r\n               ErrorToaster(error);\r\n"
                },
                {
                    "date": 1744674378821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,8 +222,9 @@\n   const [services, setServices] = useState(null);\r\n   const [serviceItem, setServiceItem] = useState(null);\r\n   const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n   const [detail, setDetail] = useState(null)\r\n+  const [holdState, setHoldState] = useState(false)\r\n   //documents array\r\n \r\n   const handleNext = () => {\r\n     setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n"
                },
                {
                    "date": 1744674407698,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -358,8 +358,9 @@\n                   token_number: getValues1(\"token\"),\r\n               };\r\n              \r\n               const { data } = await CustomerServices.getReceiptDetail(params);\r\n+              console.log(data);\r\n               \r\n           } catch (error) {\r\n               ErrorToaster(error);\r\n           } finally {\r\n"
                },
                {
                    "date": 1744674436214,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,9 +222,9 @@\n   const [services, setServices] = useState(null);\r\n   const [serviceItem, setServiceItem] = useState(null);\r\n   const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n   const [detail, setDetail] = useState(null)\r\n-  const [holdState, setHoldState] = useState(false)\r\n+  const [holdState, setHoldState] = useState(true)\r\n   //documents array\r\n \r\n   const handleNext = () => {\r\n     setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n@@ -359,8 +359,11 @@\n               };\r\n              \r\n               const { data } = await CustomerServices.getReceiptDetail(params);\r\n               console.log(data);\r\n+              if(data?.receipt){\r\n+                setHoldState(true)\r\n+              }\r\n               \r\n           } catch (error) {\r\n               ErrorToaster(error);\r\n           } finally {\r\n"
                },
                {
                    "date": 1744674456843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,8 +361,9 @@\n               const { data } = await CustomerServices.getReceiptDetail(params);\r\n               console.log(data);\r\n               if(data?.receipt){\r\n                 setHoldState(true)\r\n+                showErrorToast('Invoice already exist with this token number')\r\n               }\r\n               \r\n           } catch (error) {\r\n               ErrorToaster(error);\r\n"
                },
                {
                    "date": 1744674468427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -363,8 +363,11 @@\n               if(data?.receipt){\r\n                 setHoldState(true)\r\n                 showErrorToast('Invoice already exist with this token number')\r\n               }\r\n+              else{\r\n+                setHoldState(false)\r\n+              }\r\n               \r\n           } catch (error) {\r\n               ErrorToaster(error);\r\n           } finally {\r\n"
                },
                {
                    "date": 1744674500850,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -636,9 +636,9 @@\n                   {/* </Grid> */}\r\n                   <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n                     <Button\r\n                       type=\"submit\"\r\n-                      disabled={rows?.length == 0}\r\n+                      disabled={rows?.length == 0 || holdState}\r\n                       variant=\"contained\"\r\n                       sx={{\r\n                         textTransform: 'capitalize',\r\n                         backgroundColor: \"#bd9b4a\",\r\n"
                },
                {
                    "date": 1744728039404,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,8 +20,9 @@\n   TableHead,\r\n   TextField,\r\n   Paper,\r\n } from \"@mui/material\";\r\n+import AddIcon from \"@mui/icons-material/Add\";\r\n import RegisterContainer from \"container/Register\";\r\n import { useTheme } from \"@mui/material/styles\";\r\n import MobileStepper from \"@mui/material/MobileStepper\";\r\n import Button from \"@mui/material/Button\";\r\n@@ -55,9 +56,9 @@\n import SystemServices from \"services/System\";\r\n import UploadFileSingle from \"components/UploadFileSingle\";\r\n import { Images } from \"assets\";\r\n import { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\n-import { addMonths } from \"date-fns\";\r\n+import { addMonths, max } from \"date-fns\";\r\n import { useAuth } from \"context/UseContext\";\r\n import DoDisturbIcon from \"@mui/icons-material/DoDisturb\";\r\n import axios from \"axios\";\r\n import UploadIcon from \"@mui/icons-material/Upload\";\r\n@@ -76,10 +77,9 @@\n   const [total, setTotal] = useState(0);\r\n   const [subTotal, setSubTotal] = useState(0);\r\n   const [rows, setRows] = useState([]);\r\n \r\n-\r\n-  console.log(rows, \"data\")\r\n+  console.log(rows, \"data\");\r\n   const [items, setItems] = useState([\r\n     {\r\n       itemCode: \"\",\r\n       itemDescription: \"TASHEEL AUTO 19\",\r\n@@ -123,14 +123,17 @@\n \r\n   // Watch all form data\r\n \r\n   // Watch for changes in the fee-related fields\r\n-  const govtFee = watch('govt_fee', 0);\r\n-  const centerFee = watch('center_fee', 0);\r\n-  const bankCharges = watch('bank_charges', 0);\r\n-  const qty = watch('qty', 1);\r\n+  const govtFee = watch(\"govt_fee\", 0);\r\n+  const centerFee = watch(\"center_fee\", 0);\r\n+  const bankCharges = watch(\"bank_charge\", 0);\r\n+  const qty = watch(\"quantity\", 1);\r\n   useEffect(() => {\r\n-    const feesTotal = (parseFloat(govtFee) || 0) + (parseFloat(centerFee) || 0) + (parseFloat(bankCharges) || 0);\r\n+    const feesTotal =\r\n+      (parseFloat(govtFee) || 0) +\r\n+      (parseFloat(centerFee) || 0) +\r\n+      (parseFloat(bankCharges) || 0);\r\n     const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n     setValue(\"total\", finalTotal);\r\n   }, [govtFee, centerFee, bankCharges, qty]);\r\n \r\n@@ -142,65 +145,28 @@\n       setSubTotal(newSubTotal);\r\n       return updatedRows;\r\n     });\r\n     reset();\r\n-    setServiceItem(\"\")\r\n+    setServiceItem(\"\");\r\n   };\r\n-  const isFormDataEmpty = (data) => {\r\n-    // Check if all form fields are empty\r\n-    return Object.values(data).every((value) => {\r\n-      // If the value is an object (like companyLogo), check if it's empty\r\n-      if (typeof value === \"object\" && value !== null) {\r\n-        return Object.keys(value).length === 0;\r\n-      }\r\n-      // Otherwise, check if the value is an empty string\r\n-      return value === \"\";\r\n-    });\r\n-  };\r\n \r\n-  const allowFilesType = [\r\n-    \"image/png\",\r\n-    \"image/jpg\",\r\n-    \"image/jpeg\",\r\n-    \"application/pdf\",\r\n-    \"application/vnd.ms-excel\",\r\n-    \"application/msword\",\r\n-    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n-  ];\r\n-  const allowFilesType2 = [\"image/png\", \"image/jpg\", \"image/jpeg\"];\r\n-  const [guarantors, setGuarantors] = useState([]);\r\n   const [activeStep, setActiveStep] = React.useState(1);\r\n \r\n-  // *For Deposit Slip\r\n-  const [progress, setProgress] = useState(0);\r\n-  const [uploadedSize, setUploadedSize] = useState(0);\r\n-  const [slipDetail, setSlipDetail] = useState([]);\r\n+  // const [fieldsDisabled, setFieldsDisabled] = useState({\r\n+  //   monthlyVisaServiceCharges: false,\r\n+  //   vipMedical: false,\r\n+  //   extraTyping: true,\r\n+  // });\r\n+  const [fieldsDisabled, setFieldsDisabled] = useState(false);\r\n \r\n-  const [selectedDue, setSelectedDue] = useState({\r\n-    id: \"Instant\",\r\n-    name: \"Instant\",\r\n-  });\r\n-  const [passport, setPassport] = useState();\r\n-  const [allocation, setAllocation] = useState(false);\r\n-  const [depositError, setDepositError] = useState(false);\r\n-  const [loading, setLoading] = useState(false);\r\n-  const [emailVerify, setEmailVerify] = useState(false);\r\n-  const [isUploading, setIsUploading] = useState(false);\r\n-  const [loader, setLoader] = useState(false);\r\n-  const [fieldsDisabled, setFieldsDisabled] = useState({\r\n-    monthlyVisaServiceCharges: false,\r\n-    vipMedical: false,\r\n-    extraTyping: true,\r\n-  });\r\n-\r\n   const [center, setCenter] = useState(null);\r\n   const [status, setStatus] = useState(null);\r\n \r\n   // *For Stepper Forms Data\r\n   const [stepFormData, setStepFormData] = useState();\r\n   const [step1FormData, setStep1FormData] = useState();\r\n   const [selectedType, setSelectedType] = useState(null);\r\n-  const [date, setDate] = useState(null);\r\n+  const [date, setDate] = useState(new Date());\r\n   const [balanceType, setBalanceType] = useState(null);\r\n   const [imageURL, setImageURL] = useState(null);\r\n   const fileInputRef = useRef(null);\r\n   const [hovered, setHovered] = useState(false);\r\n@@ -218,13 +184,15 @@\n   const [categories, setCategories] = useState(null);\r\n   const [governmentAccount, setGovernmnentAccount] = useState(null);\r\n   const [description, setDescription] = useState(null);\r\n   const [ownGovBank, setOwnGovBank] = useState(null);\r\n-  const [services, setServices] = useState(null);\r\n+  const [services, setServices] = useState([]);\r\n   const [serviceItem, setServiceItem] = useState(null);\r\n-  const [selectedCustomer, setSelectedCustomer] = useState(null)\r\n-  const [detail, setDetail] = useState(null)\r\n-  const [holdState, setHoldState] = useState(true)\r\n+  const [selectedCustomer, setSelectedCustomer] = useState(null);\r\n+  const [detail, setDetail] = useState(null);\r\n+  const [holdState, setHoldState] = useState(true);\r\n+  // const [fieldsDisabled, setFieldsDisabled] = useState(false)\r\n+\r\n   //documents array\r\n \r\n   const handleNext = () => {\r\n     setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n@@ -236,17 +204,17 @@\n       let obj = {\r\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n-        cost_center:formData?.cost_center,\r\n+        cost_center: formData?.cost_center,\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n         customer_email: formData?.email,\r\n         ref: formData?.ref,\r\n         total_amount: subTotal,\r\n \r\n-        items: rows\r\n+        items: rows,\r\n       };\r\n       console.log(formData, \"formData\");\r\n       const promise = CustomerServices.CreateSaleReceipt(obj);\r\n \r\n@@ -265,16 +233,20 @@\n     }\r\n   };\r\n \r\n   // *For Get Account\r\n-  const getReceptionDetail = async () => {\r\n+  const getReceptionDetail = async (value) => {\r\n+    setFieldsDisabled(true);\r\n+\r\n     try {\r\n-      let params = {\r\n-        token_number: getValues1(\"token\"),\r\n-      };\r\n+      let params =\r\n+        value === \"token\"\r\n+          ? { token_number: getValues1(\"token\") }\r\n+          : { mobile: getValues1(\"mobileValue\") };\r\n+\r\n       const { data } = await CustomerServices.getReceptionDetail(params);\r\n       console.log(data, \"dataaa\");\r\n-      setDetail(data?.token)\r\n+      setDetail(data?.token);\r\n       setValue1(\"customer\", data?.token?.customer_name);\r\n       setValue1(\"invoice_date\", moment().toDate());\r\n       setValue1(\"mobile\", data?.token?.mobile);\r\n       setValue1(\"ref\", data?.token?.reference);\r\n@@ -282,23 +254,28 @@\n       setValue1(\"email\", data?.token?.email);\r\n       setValue1(\"address\", data?.token?.address);\r\n       setValue1(\"trn\", data?.token?.trn);\r\n       setValue1(\"cost_center\", data?.token?.cost_center);\r\n+      setValue1(\"token\", data?.token?.token_number);\r\n+      setValue1(\"mobileValue\", data?.token?.mobile);\r\n \r\n       setAccounts(data?.accounts?.rows);\r\n+\r\n+      getServiceItem(data?.token?.service_category?.id);\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     } finally {\r\n       // setLoader(false)\r\n     }\r\n   };\r\n \r\n-  const getServiceItem = async () => {\r\n+  const getServiceItem = async (id) => {\r\n     // setLoader(true)\r\n     try {\r\n       let params = {\r\n         page: 1,\r\n         limit: 1000,\r\n+        category_id: id,\r\n       };\r\n \r\n       const { data } = await CustomerServices.getServiceItem(params);\r\n \r\n@@ -308,8 +285,21 @@\n     } finally {\r\n       // setLoader(false)\r\n     }\r\n   };\r\n+  const getInvoiceNumber = async () => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      const { data } = await CustomerServices.getInvoiceNumber();\r\n+\r\n+      console.log(data);\r\n+      setValue1(\"invoice_no\", `AAD/${data?.next_invoice_number}`);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n   const handleServiceSelect = async (value) => {\r\n     console.log(value, \"idididid\");\r\n     setServiceItem(value);\r\n     // setLoader(true)\r\n@@ -318,14 +308,14 @@\n         service_id: value?.id,\r\n       };\r\n \r\n       const { data } = await CustomerServices.DetailServiceItem(params);\r\n-      setValue(\"item_code\", data?.service?.id);\r\n+      setValue(\"service_id\", data?.service?.id);\r\n       setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n       setValue(\"center_fee\", data?.service?.center_fee);\r\n-      setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n+      setValue(\"bank_charge\", data?.service?.bank_service_charge);\r\n \r\n-      setValue(\"qty\", 1);\r\n+      setValue(\"quantity\", 1);\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     } finally {\r\n       // setLoader(false)\r\n@@ -349,32 +339,31 @@\n     } finally {\r\n       // setLoader(false)\r\n     }\r\n   };\r\n-     // *For Get Account\r\n-      const getReceiptDetail = async (state) => {\r\n-          setFieldsDisabled(true)\r\n-          try {\r\n-              let params = {\r\n-                  token_number: getValues1(\"token\"),\r\n-              };\r\n-             \r\n-              const { data } = await CustomerServices.getReceiptDetail(params);\r\n-              console.log(data);\r\n-              if(data?.receipt){\r\n-                setHoldState(true)\r\n-                showErrorToast('Invoice already exist with this token number')\r\n-              }\r\n-              else{\r\n-                setHoldState(false)\r\n-              }\r\n-              \r\n-          } catch (error) {\r\n-              ErrorToaster(error);\r\n-          } finally {\r\n-              // setLoader(false)\r\n-          }\r\n+  // *For Get Account\r\n+  const getReceiptDetail = async (state) => {\r\n+    setFieldsDisabled(true);\r\n+    try {\r\n+      let params = {\r\n+        token_number: getValues1(\"token\"),\r\n       };\r\n+\r\n+      const { data } = await CustomerServices.getReceiptDetail(params);\r\n+      console.log(data);\r\n+      if (data?.receipt) {\r\n+        setHoldState(true);\r\n+\r\n+        showErrorToast(\"Invoice already exist with this token number\");\r\n+      } else {\r\n+        setHoldState(false);\r\n+      }\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n   const getTax = async () => {\r\n     // setLoader(true)\r\n     try {\r\n       let params = {\r\n@@ -413,173 +402,253 @@\n   useEffect(() => {\r\n     getAccounts();\r\n     getTax();\r\n     getCategories();\r\n-    getServiceItem();\r\n-    setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" })\r\n-    setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" })\r\n+    // getServiceItem();\r\n+    getInvoiceNumber();\r\n+    setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" });\r\n+    setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" });\r\n   }, []);\r\n \r\n+  const getCustomerDetail2 = async (phone) => {\r\n+    try {\r\n+      let params = {\r\n+        mobile: phone,\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.getCustomerDetail(params);\r\n+      let detail = data?.customer;\r\n+      console.log(detail);\r\n+      setValue1(\"customer\", detail?.token?.customer_name);\r\n+      setValue1(\"invoice_date\", moment().toDate());\r\n+      setValue1(\"mobile\", detail?.token?.mobile);\r\n+      setValue1(\"ref\", detail?.token?.reference);\r\n+      setValue1(\"display_customer\", detail?.token?.customer_name);\r\n+      setValue1(\"email\", detail?.token?.email);\r\n+      setValue1(\"address\", detail?.token?.address);\r\n+      setValue1(\"trn\", detail?.token?.trn);\r\n+      setValue1(\"cost_center\", detail?.token?.cost_center);\r\n+\r\n+      setAccounts(detail?.accounts?.rows);\r\n+\r\n+      getServiceItem(detail?.token?.service_category?.id);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching location:\", error);\r\n+    }\r\n+  };\r\n   return (\r\n     <>\r\n-      <Box sx={{ width: \"100%\" }}></Box>\r\n       <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n-        {\r\n-          <>\r\n-            <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n-              <Box\r\n-                sx={{\r\n-                  display: \"flex\",\r\n-                  justifyContent: \"space-between\",\r\n-                  gap: \"10px\",\r\n-                  p: 3,\r\n-                  alignItems: \"flex-end\",\r\n-                }}\r\n-              >\r\n-                <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n-                  Sales Receipt\r\n-                </Typography>\r\n-              </Box>\r\n+        <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n+          <Box>\r\n+          <Box\r\n+            sx={{\r\n+              display: \"flex\",\r\n+              justifyContent: \"space-between\",\r\n+              gap: \"10px\",\r\n+              p: 3,\r\n+              alignItems: \"flex-end\",\r\n+            }}\r\n+          >\r\n+            <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n+              Create Sales Receipt\r\n+            </Typography>\r\n+          </Box>\r\n \r\n-              <Box sx={{ p: 3 }}>\r\n-                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                  <Grid item xs={12}>\r\n-                    <Grid container>\r\n-                      <Grid item md={3} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Token\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Enter Token\"\r\n-                          register={register1(\"token\")}\r\n-                          InputProps={{\r\n-                            endAdornment: (\r\n-                              <IconButton onClick={()=> {getReceptionDetail(); getReceiptDetail()}}>\r\n-                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n-                              </IconButton>\r\n-                            ),\r\n-                          }}\r\n-                        />\r\n-                      </Grid>\r\n+          <Box sx={{ p: 3 }}>\r\n+            <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+              <Grid item xs={12}>\r\n+                <Grid item xs={12}>\r\n+                  <Grid container gap={2} alignItems={\"center\"}>\r\n+                    <Grid item md={3} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Token\"\r\n+                        size=\"small\"\r\n+                        disabled={fieldsDisabled}\r\n+                        placeholder=\"Enter Token\"\r\n+                        register={register1(\"token\")}\r\n+                        InputProps={{\r\n+                          endAdornment: (\r\n+                            <IconButton\r\n+                              onClick={() => {\r\n+                                getReceptionDetail(\"token\");\r\n+                                // getReceiptDetail();\r\n+                              }}\r\n+                            >\r\n+                              <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                            </IconButton>\r\n+                          ),\r\n+                        }}\r\n+                      />\r\n                     </Grid>\r\n-                  </Grid>\r\n+                    <Grid item md={3} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label={\"Mobile *:\"}\r\n+                        size={\"small\"}\r\n+                        type={\"number\"}\r\n+                        disabled={fieldsDisabled}\r\n+                        placeholder={\"Mobile\"}\r\n+                        InputProps={{\r\n+                          endAdornment: (\r\n+                            <IconButton\r\n+                              onClick={() => {\r\n+                                getReceptionDetail(\"mobile\");\r\n+                                // getReceiptDetail();\r\n+                              }}\r\n+                            >\r\n+                              <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                            </IconButton>\r\n+                          ),\r\n+                        }}\r\n+                        register={register1(\"mobileValue\", {\r\n+                          required: \"Please enter your mobile.\",\r\n+                          pattern: {\r\n+                            value: /^05[0-9]{8}$/,\r\n+                            message:\r\n+                              \"Please enter a valid UAE phone number (starting with 05 and 8 digits).\",\r\n+                          },\r\n+                          onChange: (e) => {\r\n+                            console.log(\"asdas\");\r\n+                            if (getValues1(\"mobileValue\").length == 10) {\r\n+                              //  getReceiptDetail()\r\n+                            }\r\n \r\n-                  <Grid\r\n-                    item\r\n-                    md={5.5}\r\n-                    sm={12}\r\n-                    xs={12}\r\n-                    sx={{\r\n-                      border: \"2px solid black\",\r\n-                      p: 2,\r\n-                      borderRadius: \"15px\",\r\n-                    }}\r\n-                  >\r\n-                    <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Invoice No\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"TSL/83540\"\r\n-                          register={register1(\"invoice_no\")}\r\n-                        />\r\n-                      </Grid>\r\n-                      <Grid item xs={5.7}>\r\n-                        <DatePicker\r\n-                          label={\"Invoice Date :*\"}\r\n-                          value={date}\r\n-                          size={'small'}\r\n+                            // Delay the execution of verifyEmail by 2 seconds\r\n+                          },\r\n+                        })}\r\n+                      />\r\n+                    </Grid>\r\n+                    <Grid item md={1} sm={12} xs={12} mt={2}>\r\n+                      <PrimaryButton\r\n+                        bgcolor={\"#bd9b4a\"}\r\n+                        title=\"Clear\"\r\n+                        onClick={() => {\r\n+                          setFieldsDisabled(false);\r\n+                          setValue1(\"customer\", \"\");\r\n+                          setValue1(\"invoice_date\", moment().toDate());\r\n+                          setValue1(\"mobile\", \"\");\r\n+                          setValue1(\"ref\", \"\");\r\n+                          setValue1(\"display_customer\", \"\");\r\n+                          setValue1(\"email\", \"\");\r\n+                          setValue1(\"address\", \"\");\r\n+                          setValue1(\"trn\", \"\");\r\n+                          setValue1(\"cost_center\", \"\");\r\n+                          setValue1(\"mobileValue\", \"\");\r\n+                          setValue1(\"token\", \"\");\r\n \r\n-                          error={errors1?.date?.message}\r\n-                          register={register1(\"date\", {\r\n-                            required:\r\n-                              date ? false :\r\n-                                \"please enter  date.\"\r\n-\r\n-                          })}\r\n-                          onChange={(date) => {\r\n-\r\n-                            setValue1('date', date)\r\n-                            setDate(new Date(date));\r\n-\r\n-                          }\r\n-\r\n-                          }\r\n-                        /></Grid>\r\n-\r\n-                      <Grid item xs={5.7} >\r\n-                        <SelectField\r\n-                          size={'small'}\r\n-                          label={'Customer *:'}\r\n-                          disabled={true}\r\n-                          options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n-                          selected={selectedCustomer}\r\n-                          onSelect={(value) => {\r\n-                            setSelectedCustomer(value)\r\n-\r\n-\r\n-                          }}\r\n-                          error={errors1?.customer?.message}\r\n-                          register={register1(\"customer\", {\r\n-                            required: false,\r\n-                          })}\r\n-                        />\r\n-                      </Grid>\r\n-\r\n-\r\n-\r\n+                          setAccounts(\"\");\r\n+                        }}\r\n+                        // loading={loading}\r\n+                      />\r\n                     </Grid>\r\n                   </Grid>\r\n-                  <Grid\r\n-                    item\r\n-                    md={5.5}\r\n-                    sm={12}\r\n-                    xs={12}\r\n-                    sx={{\r\n-                      border: \"2px solid black\",\r\n-                      p: 2,\r\n-                      borderRadius: \"15px\",\r\n-                      mt: { md: 0, sm: 2, xs: 2 },\r\n-                    }}\r\n-                  >\r\n-                    <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Display Customer\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Walk-in Customer\"\r\n-                          register={register1(\"display_customer\", {\r\n-                            required: 'please enter display name.'\r\n-                          })}\r\n-                          error={errors1?.display_customer?.message}\r\n-                        />\r\n-                      </Grid>\r\n+                </Grid>\r\n+              </Grid>\r\n \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Mobile\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Mobile No\"\r\n+              <Grid\r\n+                item\r\n+                md={5.5}\r\n+                sm={12}\r\n+                xs={12}\r\n+                sx={{\r\n+                  border: \"2px solid black\",\r\n+                  p: 2,\r\n+                  borderRadius: \"15px\",\r\n+                }}\r\n+              >\r\n+                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Invoice No\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"TSL/83540\"\r\n+                      register={register1(\"invoice_no\")}\r\n+                    />\r\n+                  </Grid>\r\n+                  <Grid item xs={5.7}>\r\n+                    <DatePicker\r\n+                      label={\"Invoice Date :*\"}\r\n+                      value={date}\r\n+                      size={\"small\"}\r\n+                      error={errors1?.date?.message}\r\n+                      register={register1(\"date\", {\r\n+                        required: date ? false : \"please enter  date.\",\r\n+                      })}\r\n+                      maxDate={new Date()}\r\n+                      onChange={(date) => {\r\n+                        setValue1(\"date\", date);\r\n+                        setDate(new Date(date));\r\n+                      }}\r\n+                    />\r\n+                  </Grid>\r\n \r\n-                          register={register1(\"mobile\", {\r\n-                            required: 'please enter mobile .'\r\n-                          })}\r\n-                          error={errors1?.display_customer?.message}\r\n-                        />\r\n-                      </Grid>\r\n+                  <Grid item xs={5.7}>\r\n+                    <SelectField\r\n+                      size={\"small\"}\r\n+                      label={\"Customer *:\"}\r\n+                      disabled={true}\r\n+                      options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n+                      selected={selectedCustomer}\r\n+                      onSelect={(value) => {\r\n+                        setSelectedCustomer(value);\r\n+                      }}\r\n+                      error={errors1?.customer?.message}\r\n+                      register={register1(\"customer\", {\r\n+                        required: false,\r\n+                      })}\r\n+                    />\r\n+                  </Grid>\r\n+                </Grid>\r\n+              </Grid>\r\n+              <Grid\r\n+                item\r\n+                md={5.5}\r\n+                sm={12}\r\n+                xs={12}\r\n+                sx={{\r\n+                  border: \"2px solid black\",\r\n+                  p: 2,\r\n+                  borderRadius: \"15px\",\r\n+                  mt: { md: 0, sm: 2, xs: 2 },\r\n+                }}\r\n+              >\r\n+                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Display Customer\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Walk-in Customer\"\r\n+                      register={register1(\"display_customer\", {\r\n+                        required: \"please enter display name.\",\r\n+                      })}\r\n+                      error={errors1?.display_customer?.message}\r\n+                    />\r\n+                  </Grid>\r\n \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Email\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Email\"\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Mobile\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Mobile No\"\r\n+                      register={register1(\"mobile\", {\r\n+                        required: \"please enter mobile .\",\r\n+                      })}\r\n+                      error={errors1?.display_customer?.message}\r\n+                    />\r\n+                  </Grid>\r\n \r\n-                          register={register1(\"email\", {\r\n-                            required: 'please enter email .'\r\n-                          })}\r\n-                          error={errors1?.email?.message}\r\n-                        />\r\n-                      </Grid>\r\n-{/* \r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Email\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Email\"\r\n+                      register={register1(\"email\", {\r\n+                        required: \"please enter email .\",\r\n+                      })}\r\n+                      error={errors1?.email?.message}\r\n+                    />\r\n+                  </Grid>\r\n+                  {/* \r\n                       <Grid item md={5.7} sm={12} xs={12}>\r\n                         <InputField\r\n                           label=\"TRN\"\r\n                           size=\"small\"\r\n@@ -592,18 +661,18 @@\n                           error={errors1?.trn?.message}\r\n                         />\r\n                       </Grid> */}\r\n \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Ref\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Reference\"\r\n-                          register={register1(\"ref\")}\r\n-                        />\r\n-                      </Grid>\r\n-                     \r\n-                      {/* <Grid item md={5.7} sm={12} xs={12}>\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Ref\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Reference\"\r\n+                      register={register1(\"ref\")}\r\n+                    />\r\n+                  </Grid>\r\n+\r\n+                  {/* <Grid item md={5.7} sm={12} xs={12}>\r\n                         <SelectField\r\n                           label=\"Cost Center\"\r\n                           size=\"small\"\r\n                           options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n@@ -615,192 +684,305 @@\n                           })}\r\n                           error={errors1?.cost_center?.message}\r\n                         />\r\n                       </Grid> */}\r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Address\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Address\"\r\n-                          multiline\r\n-                          rows={2}\r\n-\r\n-                          register={register1(\"address\", {\r\n-                            required: 'please enter address .'\r\n-                          })}\r\n-                          error={errors1?.address?.message}\r\n-                        />\r\n-                      </Grid>\r\n-                    </Grid>\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Address\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Address\"\r\n+                      multiline\r\n+                      rows={2}\r\n+                      register={register1(\"address\", {\r\n+                        required: \"please enter address .\",\r\n+                      })}\r\n+                      error={errors1?.address?.message}\r\n+                    />\r\n                   </Grid>\r\n+                </Grid>\r\n+              </Grid>\r\n+            </Grid>\r\n+          </Box>\r\n \r\n-                  {/* </Grid> */}\r\n-                  <Grid item xs={12} display={'flex'} justifyContent={'flex-end'}>\r\n+          </Box>\r\n+\r\n+          <form>\r\n+            <TableContainer component={Paper}>\r\n+              <Table>\r\n+                <TableHead>\r\n+                  <TableRow>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n+                    <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Trsn ID</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>App/Case ID</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Ref No</TableCell>\r\n+\r\n+                    <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n+                  </TableRow>\r\n+                </TableHead>\r\n+                <TableBody>\r\n+                  <TableRow>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        disabled={true}\r\n+                        placeholder=\"Item code\"\r\n+                        register={register(\"service_id\", {\r\n+                          required: \"Item code is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.service_id && (\r\n+                        <span>{errors.service_id.message}</span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <SelectField\r\n+                        size=\"small\"\r\n+                        options={services}\r\n+                        selected={serviceItem}\r\n+                        onSelect={handleServiceSelect}\r\n+                        register={register(\"service_description\", {\r\n+                          required: \"Please select a service.\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.service_description && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.service_description.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Quantity\"\r\n+                        type=\"number\"\r\n+                        register={register(\"quantity\", {\r\n+                          required: \"Quantity is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.quantity && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.quantity.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Govt fee\"\r\n+                        type=\"number\"\r\n+                        register={register(\"govt_fee\", {\r\n+                          required: \"Govt fee is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.govt_fee && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.govt_fee.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Center Fee\"\r\n+                        type=\"number\"\r\n+                        register={register(\"center_fee\", {\r\n+                          required: \"Center fee is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.center_fee && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.center_fee.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Bank Charges\"\r\n+                        type=\"number\"\r\n+                        register={register(\"bank_charge\", {\r\n+                          required: \"Bank charges are required\",\r\n+                        })}\r\n+                        disabled\r\n+                      />\r\n+                      {errors.bank_charge && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.bank_charge.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Transaction Id\"\r\n+                        type=\"number\"\r\n+                        register={register(\"transaction_id\", {\r\n+                          required: \"Transaction Id is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.transaction_id && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.transaction_id.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Application Id\"\r\n+                        type=\"number\"\r\n+                        register={register(\"application_id\", {\r\n+                          required: \"Application Id is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.application_id && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.application_id.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\" Ref No\"\r\n+                        type=\"number\"\r\n+                        register={register(\"ref_no\", {\r\n+                          required: \"Ref No is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.ref_no && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.ref_no.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        disabled={true}\r\n+                        style={{ border: \"none\" }}\r\n+                        size=\"small\"\r\n+                        register={register(\"total\")}\r\n+                      />\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <Button\r\n+                        variant=\"contained\"\r\n+                        color=\"primary\"\r\n+                        type=\"submit\"\r\n+                        sx={{\r\n+                          textTransform: \"capitalize\",\r\n+                          backgroundColor: \"rgb(189 155 74)\",\r\n+                          fontSize: \"12px\",\r\n+                          \":hover\": {\r\n+                            backgroundColor: \"rgb(189 155 74)\",\r\n+                          },\r\n+                        }}\r\n+                        onClick={handleSubmit(addItem)}\r\n+                      >\r\n+                        <AddIcon />\r\n+                      </Button>\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+\r\n+                  {rows.map((item, index) => (\r\n+                    <TableRow key={index}>\r\n+                      <TableCell>{item?.service_id}</TableCell>\r\n+                      <TableCell>{item?.service_description}</TableCell>\r\n+                      <TableCell>{item?.quantity}</TableCell>\r\n+                      <TableCell>{item?.govt_fee}</TableCell>\r\n+                      <TableCell>{item?.center_fee}</TableCell>\r\n+                      <TableCell>{item?.bank_charge}</TableCell>\r\n+                      <TableCell>{item?.transaction_id}</TableCell>\r\n+                      <TableCell>{item?.application_id}</TableCell>\r\n+                      <TableCell>{item?.ref_no}</TableCell>\r\n+\r\n+                      <TableCell>{item?.total}</TableCell>\r\n+                    </TableRow>\r\n+                  ))}\r\n+\r\n+                  <TableRow>\r\n+                    <TableCell colSpan={7} align=\"right\">\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        Sub-total:\r\n+                      </Typography>\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        {subTotal}\r\n+                      </Typography>{\" \"}\r\n+                      {/* Display the Sub-total */}\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+\r\n+                  {/* Amount Total Row (optional, if needed for the final sum) */}\r\n+                  <TableRow>\r\n+                    <TableCell colSpan={7} align=\"right\">\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        Amount Total:\r\n+                      </Typography>\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        {subTotal}\r\n+                      </Typography>{\" \"}\r\n+                      {/* This can be the same as Sub-total */}\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+                </TableBody>\r\n+              </Table>\r\n+            </TableContainer>\r\n+          </form>\r\n+\r\n+          <TableContainer component={Paper}>\r\n+            <Table>\r\n+              <TableRow>\r\n+                <TableCell colSpan={8} align=\"center\">\r\n+                  <Box\r\n+                    sx={{ display: \"flex\", gap: 2, justifyContent: \"center\" }}\r\n+                  >\r\n                     <Button\r\n                       type=\"submit\"\r\n-                      disabled={rows?.length == 0 || holdState}\r\n+                   \r\n+                      disabled={rows?.length === 0}\r\n                       variant=\"contained\"\r\n                       sx={{\r\n-                        textTransform: 'capitalize',\r\n+                        width: \"350px\",\r\n+                        textTransform: \"capitalize\",\r\n                         backgroundColor: \"#bd9b4a\",\r\n                         \":hover\": {\r\n                           backgroundColor: \"rgb(189 155 74)\",\r\n                         },\r\n                       }}\r\n                     >\r\n-                      Create\r\n+                      Place Invoice\r\n                     </Button>\r\n-                  </Grid>\r\n-                </Grid>\r\n-              </Box>\r\n-            </Box>\r\n-\r\n-\r\n-            <form onSubmit={handleSubmit(addItem)}>\r\n-              <TableContainer component={Paper}>\r\n-                <Table>\r\n-                  <TableHead>\r\n-                    <TableRow>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n-                      <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n-\r\n-                      <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n-                      <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n-                    </TableRow>\r\n-                  </TableHead>\r\n-                  <TableBody>\r\n-                    <TableRow>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          disabled={true}\r\n-                          placeholder=\"Item code\"\r\n-                          register={register(\"item_code\", { required: \"Item code is required\" })}\r\n-                        />\r\n-                        {errors.item_code && <span>{errors.item_code.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <SelectField\r\n-                          size=\"small\"\r\n-                          options={services}\r\n-                          selected={serviceItem}\r\n-                          onSelect={handleServiceSelect}\r\n-                          //  error={errors?.service?.message}\r\n-                          register={register(\"service\", {\r\n-                            required: \"Please select a service.\",\r\n-                          })}\r\n-                        />\r\n-                        {errors.service && <span style={{ color: \"red\" }}>{errors.service.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Quantity\"\r\n-                          type=\"number\"\r\n-                          register={register(\"qty\", { required: \"Quantity is required\" })}\r\n-                        />\r\n-                        {errors.qty && <span style={{ color: \"red\" }}>{errors.qty.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Govt fee\"\r\n-                          type=\"number\"\r\n-                          register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n-                        />\r\n-                        {errors.govt_fee && <span style={{ color: \"red\" }}>{errors.govt_fee.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Center Fee\"\r\n-                          type=\"number\"\r\n-                          register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n-                        />\r\n-                        {errors.center_fee && <span style={{ color: \"red\" }}>{errors.center_fee.message}</span>}\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          size=\"small\"\r\n-                          placeholder=\"Bank Charges\"\r\n-                          type=\"number\"\r\n-                          register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n-                          disabled\r\n-                        />\r\n-                        {errors.bank_charges && <span style={{ color: \"red\" }}>{errors.bank_charges.message}</span>}\r\n-\r\n-                      </TableCell>\r\n-\r\n-                      <TableCell>\r\n-                        <InputField\r\n-                          disabled={true}\r\n-                          style={{ border: \"none\" }}\r\n-                          size=\"small\"\r\n-                          placeholder=\"Narration\"\r\n-                          register={register(\"total\")}\r\n-                        />\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Button\r\n-                          variant=\"contained\"\r\n-                          color=\"primary\"\r\n-                          type=\"submit\"\r\n-                          sx={{\r\n-                            textTransform: 'capitalize',\r\n-                            backgroundColor: \"rgb(189 155 74)\",\r\n-                            fontSize: \"12px\",\r\n-                            \":hover\": {\r\n-                              backgroundColor: \"rgb(189 155 74)\",\r\n-                            },\r\n-                          }}\r\n-                        >\r\n-                          Add Item\r\n-                        </Button>\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n-\r\n-                    {rows.map((item, index) => (\r\n-                      <TableRow key={index}>\r\n-                        <TableCell>{item?.item_code}</TableCell>\r\n-                        <TableCell>{item?.service}</TableCell>\r\n-                        <TableCell>{item?.qty}</TableCell>\r\n-                        <TableCell>{item?.govt_fee}</TableCell>\r\n-                        <TableCell>{item?.center_fee}</TableCell>\r\n-                        <TableCell>{item?.bank_charges}</TableCell>\r\n-\r\n-                        <TableCell>{item?.total}</TableCell>\r\n-\r\n-                      </TableRow>\r\n-                    ))}\r\n-\r\n-                    <TableRow>\r\n-                      <TableCell colSpan={7} align=\"right\">\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Sub-total:</Typography>\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n-\r\n-                    {/* Amount Total Row (optional, if needed for the final sum) */}\r\n-                    <TableRow>\r\n-                      <TableCell colSpan={7} align=\"right\">\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>Amount Total:</Typography>\r\n-                      </TableCell>\r\n-                      <TableCell>\r\n-                        <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n-                      </TableCell>\r\n-                    </TableRow>\r\n-                  </TableBody>\r\n-                </Table>\r\n-              </TableContainer>\r\n-            </form>\r\n-          </>\r\n-        }\r\n+                    <Button\r\n+                      onClick={() => navigate(\"/pre-sales\")}\r\n+                      variant=\"contained\"\r\n+                      sx={{\r\n+                        width: \"350px\",\r\n+                        textTransform: \"capitalize\",\r\n+                        backgroundColor: \"#bd9b4a\",\r\n+                        \":hover\": {\r\n+                          backgroundColor: \"rgb(189 155 74)\",\r\n+                        },\r\n+                      }}\r\n+                    >\r\n+                      Cancel\r\n+                    </Button>\r\n+                  </Box>\r\n+                </TableCell>\r\n+              </TableRow>\r\n+            </Table>\r\n+          </TableContainer>\r\n+        </Box>\r\n       </Box>\r\n     </>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1744728175584,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,8 +119,9 @@\n     control,\r\n     watch: watch1,\r\n     formState: { errors: errors1 },\r\n   } = useForm();\r\n+console.log(watch1());\r\n \r\n   // Watch all form data\r\n \r\n   // Watch for changes in the fee-related fields\r\n"
                },
                {
                    "date": 1744728236168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -564,9 +564,9 @@\n                       placeholder=\"TSL/83540\"\r\n                       register={register1(\"invoice_no\")}\r\n                     />\r\n                   </Grid>\r\n-                  <Grid item xs={5.7}>\r\n+                  {/* <Grid item xs={5.7}>\r\n                     <DatePicker\r\n                       label={\"Invoice Date :*\"}\r\n                       value={date}\r\n                       size={\"small\"}\r\n@@ -579,9 +579,9 @@\n                         setValue1(\"date\", date);\r\n                         setDate(new Date(date));\r\n                       }}\r\n                     />\r\n-                  </Grid>\r\n+                  </Grid> */}\r\n \r\n                   <Grid item xs={5.7}>\r\n                     <SelectField\r\n                       size={\"small\"}\r\n"
                },
                {
                    "date": 1744728252139,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -564,9 +564,9 @@\n                       placeholder=\"TSL/83540\"\r\n                       register={register1(\"invoice_no\")}\r\n                     />\r\n                   </Grid>\r\n-                  {/* <Grid item xs={5.7}>\r\n+                  <Grid item xs={5.7}>\r\n                     <DatePicker\r\n                       label={\"Invoice Date :*\"}\r\n                       value={date}\r\n                       size={\"small\"}\r\n@@ -579,9 +579,9 @@\n                         setValue1(\"date\", date);\r\n                         setDate(new Date(date));\r\n                       }}\r\n                     />\r\n-                  </Grid> */}\r\n+                  </Grid>\r\n \r\n                   <Grid item xs={5.7}>\r\n                     <SelectField\r\n                       size={\"small\"}\r\n"
                },
                {
                    "date": 1744728268248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -564,9 +564,9 @@\n                       placeholder=\"TSL/83540\"\r\n                       register={register1(\"invoice_no\")}\r\n                     />\r\n                   </Grid>\r\n-                  <Grid item xs={5.7}>\r\n+                  {/* <Grid item xs={5.7}>\r\n                     <DatePicker\r\n                       label={\"Invoice Date :*\"}\r\n                       value={date}\r\n                       size={\"small\"}\r\n@@ -579,9 +579,9 @@\n                         setValue1(\"date\", date);\r\n                         setDate(new Date(date));\r\n                       }}\r\n                     />\r\n-                  </Grid>\r\n+                  </Grid> */}\r\n \r\n                   <Grid item xs={5.7}>\r\n                     <SelectField\r\n                       size={\"small\"}\r\n"
                },
                {
                    "date": 1744728288126,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,991 @@\n+import React, { useEffect, useRef, useState } from \"react\";\r\n+import {\r\n+  Avatar,\r\n+  Box,\r\n+  Checkbox,\r\n+  Container,\r\n+  FormControlLabel,\r\n+  FormLabel,\r\n+  Grid,\r\n+  IconButton,\r\n+  InputLabel,\r\n+  Radio,\r\n+  RadioGroup,\r\n+  Table,\r\n+  TableCell,\r\n+  TableContainer,\r\n+  TableRow,\r\n+  Typography,\r\n+  TableBody,\r\n+  TableHead,\r\n+  TextField,\r\n+  Paper,\r\n+} from \"@mui/material\";\r\n+import AddIcon from \"@mui/icons-material/Add\";\r\n+import RegisterContainer from \"container/Register\";\r\n+import { useTheme } from \"@mui/material/styles\";\r\n+import MobileStepper from \"@mui/material/MobileStepper\";\r\n+import Button from \"@mui/material/Button\";\r\n+import KeyboardArrowLeft from \"@mui/icons-material/KeyboardArrowLeft\";\r\n+import KeyboardArrowRight from \"@mui/icons-material/KeyboardArrowRight\";\r\n+import { PrimaryButton } from \"components/Buttons\";\r\n+import Colors from \"assets/Style/Colors\";\r\n+import DeleteIcon from \"@mui/icons-material/Delete\";\r\n+import { Controller, useForm } from \"react-hook-form\";\r\n+import UploadFile from \"components/UploadFile\";\r\n+import InputField from \"components/Input\";\r\n+import DatePicker from \"components/DatePicker\";\r\n+import { ErrorToaster } from \"components/Toaster\";\r\n+import { FormControl } from \"@mui/base\";\r\n+import LabelCustomInput from \"components/Input/LabelCustomInput\";\r\n+import SelectField from \"components/Select\";\r\n+import {\r\n+  CleanTypes,\r\n+  Debounce,\r\n+  Debounce2,\r\n+  getFileSize,\r\n+  handleDownload,\r\n+} from \"utils\";\r\n+import instance from \"config/axios\";\r\n+import routes from \"services/System/routes\";\r\n+import CustomerServices from \"services/Customer\";\r\n+import CustomerService from \"../DashboardPages/CustomerService\";\r\n+import { showErrorToast, showPromiseToast } from \"components/NewToaster\";\r\n+import moment from \"moment\";\r\n+import { Link, useNavigate } from \"react-router-dom\";\r\n+import SystemServices from \"services/System\";\r\n+import UploadFileSingle from \"components/UploadFileSingle\";\r\n+import { Images } from \"assets\";\r\n+import { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\n+import { addMonths, max } from \"date-fns\";\r\n+import { useAuth } from \"context/UseContext\";\r\n+import DoDisturbIcon from \"@mui/icons-material/DoDisturb\";\r\n+import axios from \"axios\";\r\n+import UploadIcon from \"@mui/icons-material/Upload\";\r\n+import FinanceServices from \"services/Finance\";\r\n+import SearchIcon from \"@mui/icons-material/Search\";\r\n+// import { TableBody, TableHead } from \"mui-datatables\";\r\n+\r\n+function SalesReciept() {\r\n+  const theme = useTheme();\r\n+  const { user } = useAuth();\r\n+  const navigate = useNavigate();\r\n+  const [formChange, setFormChange] = useState(false);\r\n+  const [submit, setSubmit] = useState(false);\r\n+  const [excludeFromSales, setExcludeFromSales] = useState(\"no\");\r\n+  const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n+  const [total, setTotal] = useState(0);\r\n+  const [subTotal, setSubTotal] = useState(0);\r\n+  const [rows, setRows] = useState([]);\r\n+\r\n+  console.log(rows, \"data\");\r\n+  const [items, setItems] = useState([\r\n+    {\r\n+      itemCode: \"\",\r\n+      itemDescription: \"TASHEEL AUTO 19\",\r\n+      totalCharge: 17.1,\r\n+      mbNo: \"\",\r\n+      applicationId: \"\",\r\n+      total: 17.1,\r\n+    },\r\n+  ]);\r\n+\r\n+  // const addItem = () => {\r\n+  //   const newItem = {\r\n+  //     itemCode: \"\",\r\n+  //     itemDescription: \"\",\r\n+  //     totalCharge: 0,\r\n+  //     mbNo: \"\",\r\n+  //     applicationId: \"\",\r\n+  //     total: 0,\r\n+  //   };\r\n+  //   setItems([...items, newItem]);\r\n+  // };\r\n+\r\n+  const {\r\n+    register,\r\n+    handleSubmit,\r\n+    getValues,\r\n+    setValue,\r\n+    watch,\r\n+    reset,\r\n+    formState: { errors },\r\n+  } = useForm();\r\n+  const {\r\n+    register: register1,\r\n+    handleSubmit: handleSubmit1,\r\n+    setValue: setValue1,\r\n+    getValues: getValues1,\r\n+    control,\r\n+    watch: watch1,\r\n+    formState: { errors: errors1 },\r\n+  } = useForm();\r\n+console.log(watch1());\r\n+\r\n+  // Watch all form data\r\n+\r\n+  // Watch for changes in the fee-related fields\r\n+  const govtFee = watch(\"govt_fee\", 0);\r\n+  const centerFee = watch(\"center_fee\", 0);\r\n+  const bankCharges = watch(\"bank_charge\", 0);\r\n+  const qty = watch(\"quantity\", 1);\r\n+  useEffect(() => {\r\n+    const feesTotal =\r\n+      (parseFloat(govtFee) || 0) +\r\n+      (parseFloat(centerFee) || 0) +\r\n+      (parseFloat(bankCharges) || 0);\r\n+    const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n+    setValue(\"total\", finalTotal);\r\n+  }, [govtFee, centerFee, bankCharges, qty]);\r\n+\r\n+  const addItem = (data) => {\r\n+    const total = data.total;\r\n+    setRows((prevRows) => {\r\n+      const updatedRows = [...prevRows, data];\r\n+      const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n+      setSubTotal(newSubTotal);\r\n+      return updatedRows;\r\n+    });\r\n+    reset();\r\n+    setServiceItem(\"\");\r\n+  };\r\n+\r\n+  const [activeStep, setActiveStep] = React.useState(1);\r\n+\r\n+  // const [fieldsDisabled, setFieldsDisabled] = useState({\r\n+  //   monthlyVisaServiceCharges: false,\r\n+  //   vipMedical: false,\r\n+  //   extraTyping: true,\r\n+  // });\r\n+  const [fieldsDisabled, setFieldsDisabled] = useState(false);\r\n+\r\n+  const [center, setCenter] = useState(null);\r\n+  const [status, setStatus] = useState(null);\r\n+\r\n+  // *For Stepper Forms Data\r\n+  const [stepFormData, setStepFormData] = useState();\r\n+  const [step1FormData, setStep1FormData] = useState();\r\n+  const [selectedType, setSelectedType] = useState(null);\r\n+  const [date, setDate] = useState(new Date());\r\n+  const [balanceType, setBalanceType] = useState(null);\r\n+  const [imageURL, setImageURL] = useState(null);\r\n+  const fileInputRef = useRef(null);\r\n+  const [hovered, setHovered] = useState(false);\r\n+  const [accounts, setAccounts] = useState([]);\r\n+  const [salesAccount, setSalesAccount] = useState(null);\r\n+  const [inventoryAccount, setInventoryAccount] = useState(null);\r\n+  const [cogsAccount, setCogsAccount] = useState(null);\r\n+  const [adjustmentAccount, setAdjustmentAccount] = useState(null);\r\n+  const [assemblyAccount, setAssemblyAccount] = useState(null);\r\n+  const [itemType, setItemType] = useState(null);\r\n+  const [unit, setUnit] = useState(null);\r\n+  const [taxes, setTaxes] = useState([]);\r\n+  const [tax, setTax] = useState(null);\r\n+  const [category, setCategory] = useState(null);\r\n+  const [categories, setCategories] = useState(null);\r\n+  const [governmentAccount, setGovernmnentAccount] = useState(null);\r\n+  const [description, setDescription] = useState(null);\r\n+  const [ownGovBank, setOwnGovBank] = useState(null);\r\n+  const [services, setServices] = useState([]);\r\n+  const [serviceItem, setServiceItem] = useState(null);\r\n+  const [selectedCustomer, setSelectedCustomer] = useState(null);\r\n+  const [detail, setDetail] = useState(null);\r\n+  const [holdState, setHoldState] = useState(true);\r\n+  // const [fieldsDisabled, setFieldsDisabled] = useState(false)\r\n+\r\n+  //documents array\r\n+\r\n+  const handleNext = () => {\r\n+    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n+  };\r\n+\r\n+  const submitForm1 = async (formData) => {\r\n+    console.log(formData);\r\n+    try {\r\n+      let obj = {\r\n+        token_number: formData?.token,\r\n+        token_date: date,\r\n+        invoice_prefix: \"AAD\",\r\n+        cost_center: formData?.cost_center,\r\n+        customer_name: formData?.display_customer,\r\n+        reception_id: detail?.id,\r\n+        customer_mobile: formData?.mobile,\r\n+        customer_email: formData?.email,\r\n+        ref: formData?.ref,\r\n+        total_amount: subTotal,\r\n+\r\n+        items: rows,\r\n+      };\r\n+      console.log(formData, \"formData\");\r\n+      // const promise = CustomerServices.CreateSaleReceipt(obj);\r\n+\r\n+      // showPromiseToast(\r\n+      //   promise,\r\n+      //   \"Saving...\",\r\n+      //   \"Added Successfully\",\r\n+      //   \"Something Went Wrong\"\r\n+      // );\r\n+      // const response = await promise;\r\n+      // if (response?.responseCode === 200) {\r\n+      //   navigate(\"/pre-sales\");\r\n+      // }\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    }\r\n+  };\r\n+\r\n+  // *For Get Account\r\n+  const getReceptionDetail = async (value) => {\r\n+    setFieldsDisabled(true);\r\n+\r\n+    try {\r\n+      let params =\r\n+        value === \"token\"\r\n+          ? { token_number: getValues1(\"token\") }\r\n+          : { mobile: getValues1(\"mobileValue\") };\r\n+\r\n+      const { data } = await CustomerServices.getReceptionDetail(params);\r\n+      console.log(data, \"dataaa\");\r\n+      setDetail(data?.token);\r\n+      setValue1(\"customer\", data?.token?.customer_name);\r\n+      setValue1(\"invoice_date\", moment().toDate());\r\n+      setValue1(\"mobile\", data?.token?.mobile);\r\n+      setValue1(\"ref\", data?.token?.reference);\r\n+      setValue1(\"display_customer\", data?.token?.customer_name);\r\n+      setValue1(\"email\", data?.token?.email);\r\n+      setValue1(\"address\", data?.token?.address);\r\n+      setValue1(\"trn\", data?.token?.trn);\r\n+      setValue1(\"cost_center\", data?.token?.cost_center);\r\n+      setValue1(\"token\", data?.token?.token_number);\r\n+      setValue1(\"mobileValue\", data?.token?.mobile);\r\n+\r\n+      setAccounts(data?.accounts?.rows);\r\n+\r\n+      getServiceItem(data?.token?.service_category?.id);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+\r\n+  const getServiceItem = async (id) => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        page: 1,\r\n+        limit: 1000,\r\n+        category_id: id,\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.getServiceItem(params);\r\n+\r\n+      setServices(data?.rows);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  const getInvoiceNumber = async () => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      const { data } = await CustomerServices.getInvoiceNumber();\r\n+\r\n+      console.log(data);\r\n+      setValue1(\"invoice_no\", `AAD/${data?.next_invoice_number}`);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  const handleServiceSelect = async (value) => {\r\n+    console.log(value, \"idididid\");\r\n+    setServiceItem(value);\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        service_id: value?.id,\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.DetailServiceItem(params);\r\n+      setValue(\"service_id\", data?.service?.id);\r\n+      setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n+      setValue(\"center_fee\", data?.service?.center_fee);\r\n+      setValue(\"bank_charge\", data?.service?.bank_service_charge);\r\n+\r\n+      setValue(\"quantity\", 1);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+\r\n+  const getAccounts = async (page, limit, filter) => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        page: 1,\r\n+        limit: 1000,\r\n+      };\r\n+\r\n+      const { data } = await FinanceServices.getAccounts(params);\r\n+      console.log(data?.accounts?.rows);\r\n+\r\n+      setAccounts(data?.accounts?.rows);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  // *For Get Account\r\n+  const getReceiptDetail = async (state) => {\r\n+    setFieldsDisabled(true);\r\n+    try {\r\n+      let params = {\r\n+        token_number: getValues1(\"token\"),\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.getReceiptDetail(params);\r\n+      console.log(data);\r\n+      if (data?.receipt) {\r\n+        setHoldState(true);\r\n+\r\n+        showErrorToast(\"Invoice already exist with this token number\");\r\n+      } else {\r\n+        setHoldState(false);\r\n+      }\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  const getTax = async () => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        page: 1,\r\n+        limit: 1000,\r\n+      };\r\n+\r\n+      const { data } = await FinanceServices.getTax(params);\r\n+      console.log(data?.accounts?.rows);\r\n+\r\n+      setTaxes(data?.tax);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  const getCategories = async () => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        page: 1,\r\n+        limit: 1000,\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.getCategoryList(params);\r\n+\r\n+      setCategories(data?.categories);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    getAccounts();\r\n+    getTax();\r\n+    getCategories();\r\n+    // getServiceItem();\r\n+    getInvoiceNumber();\r\n+    setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" });\r\n+    setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" });\r\n+  }, []);\r\n+\r\n+  const getCustomerDetail2 = async (phone) => {\r\n+    try {\r\n+      let params = {\r\n+        mobile: phone,\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.getCustomerDetail(params);\r\n+      let detail = data?.customer;\r\n+      console.log(detail);\r\n+      setValue1(\"customer\", detail?.token?.customer_name);\r\n+      setValue1(\"invoice_date\", moment().toDate());\r\n+      setValue1(\"mobile\", detail?.token?.mobile);\r\n+      setValue1(\"ref\", detail?.token?.reference);\r\n+      setValue1(\"display_customer\", detail?.token?.customer_name);\r\n+      setValue1(\"email\", detail?.token?.email);\r\n+      setValue1(\"address\", detail?.token?.address);\r\n+      setValue1(\"trn\", detail?.token?.trn);\r\n+      setValue1(\"cost_center\", detail?.token?.cost_center);\r\n+\r\n+      setAccounts(detail?.accounts?.rows);\r\n+\r\n+      getServiceItem(detail?.token?.service_category?.id);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching location:\", error);\r\n+    }\r\n+  };\r\n+  return (\r\n+    <>\r\n+      <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n+        <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n+          <Box>\r\n+          <Box\r\n+            sx={{\r\n+              display: \"flex\",\r\n+              justifyContent: \"space-between\",\r\n+              gap: \"10px\",\r\n+              p: 3,\r\n+              alignItems: \"flex-end\",\r\n+            }}\r\n+          >\r\n+            <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n+              Create Sales Receipt\r\n+            </Typography>\r\n+          </Box>\r\n+\r\n+          <Box sx={{ p: 3 }}>\r\n+            <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+              <Grid item xs={12}>\r\n+                <Grid item xs={12}>\r\n+                  <Grid container gap={2} alignItems={\"center\"}>\r\n+                    <Grid item md={3} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Token\"\r\n+                        size=\"small\"\r\n+                        disabled={fieldsDisabled}\r\n+                        placeholder=\"Enter Token\"\r\n+                        register={register1(\"token\")}\r\n+                        InputProps={{\r\n+                          endAdornment: (\r\n+                            <IconButton\r\n+                              onClick={() => {\r\n+                                getReceptionDetail(\"token\");\r\n+                                // getReceiptDetail();\r\n+                              }}\r\n+                            >\r\n+                              <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                            </IconButton>\r\n+                          ),\r\n+                        }}\r\n+                      />\r\n+                    </Grid>\r\n+                    <Grid item md={3} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label={\"Mobile *:\"}\r\n+                        size={\"small\"}\r\n+                        type={\"number\"}\r\n+                        disabled={fieldsDisabled}\r\n+                        placeholder={\"Mobile\"}\r\n+                        InputProps={{\r\n+                          endAdornment: (\r\n+                            <IconButton\r\n+                              onClick={() => {\r\n+                                getReceptionDetail(\"mobile\");\r\n+                                // getReceiptDetail();\r\n+                              }}\r\n+                            >\r\n+                              <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                            </IconButton>\r\n+                          ),\r\n+                        }}\r\n+                        register={register1(\"mobileValue\", {\r\n+                          required: \"Please enter your mobile.\",\r\n+                          pattern: {\r\n+                            value: /^05[0-9]{8}$/,\r\n+                            message:\r\n+                              \"Please enter a valid UAE phone number (starting with 05 and 8 digits).\",\r\n+                          },\r\n+                          onChange: (e) => {\r\n+                            console.log(\"asdas\");\r\n+                            if (getValues1(\"mobileValue\").length == 10) {\r\n+                              //  getReceiptDetail()\r\n+                            }\r\n+\r\n+                            // Delay the execution of verifyEmail by 2 seconds\r\n+                          },\r\n+                        })}\r\n+                      />\r\n+                    </Grid>\r\n+                    <Grid item md={1} sm={12} xs={12} mt={2}>\r\n+                      <PrimaryButton\r\n+                        bgcolor={\"#bd9b4a\"}\r\n+                        title=\"Clear\"\r\n+                        onClick={() => {\r\n+                          setFieldsDisabled(false);\r\n+                          setValue1(\"customer\", \"\");\r\n+                          setValue1(\"invoice_date\", moment().toDate());\r\n+                          setValue1(\"mobile\", \"\");\r\n+                          setValue1(\"ref\", \"\");\r\n+                          setValue1(\"display_customer\", \"\");\r\n+                          setValue1(\"email\", \"\");\r\n+                          setValue1(\"address\", \"\");\r\n+                          setValue1(\"trn\", \"\");\r\n+                          setValue1(\"cost_center\", \"\");\r\n+                          setValue1(\"mobileValue\", \"\");\r\n+                          setValue1(\"token\", \"\");\r\n+\r\n+                          setAccounts(\"\");\r\n+                        }}\r\n+                        // loading={loading}\r\n+                      />\r\n+                    </Grid>\r\n+                  </Grid>\r\n+                </Grid>\r\n+              </Grid>\r\n+\r\n+              <Grid\r\n+                item\r\n+                md={5.5}\r\n+                sm={12}\r\n+                xs={12}\r\n+                sx={{\r\n+                  border: \"2px solid black\",\r\n+                  p: 2,\r\n+                  borderRadius: \"15px\",\r\n+                }}\r\n+              >\r\n+                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Invoice No\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"TSL/83540\"\r\n+                      register={register1(\"invoice_no\")}\r\n+                    />\r\n+                  </Grid>\r\n+                  {/* <Grid item xs={5.7}>\r\n+                    <DatePicker\r\n+                      label={\"Invoice Date :*\"}\r\n+                      value={date}\r\n+                      size={\"small\"}\r\n+                      error={errors1?.date?.message}\r\n+                      register={register1(\"date\", {\r\n+                        required: date ? false : \"please enter  date.\",\r\n+                      })}\r\n+                      maxDate={new Date()}\r\n+                      onChange={(date) => {\r\n+                        setValue1(\"date\", date);\r\n+                        setDate(new Date(date));\r\n+                      }}\r\n+                    />\r\n+                  </Grid> */}\r\n+\r\n+                  <Grid item xs={5.7}>\r\n+                    <SelectField\r\n+                      size={\"small\"}\r\n+                      label={\"Customer *:\"}\r\n+                      disabled={true}\r\n+                      options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n+                      selected={selectedCustomer}\r\n+                      onSelect={(value) => {\r\n+                        setSelectedCustomer(value);\r\n+                      }}\r\n+                      error={errors1?.customer?.message}\r\n+                      register={register1(\"customer\", {\r\n+                        required: false,\r\n+                      })}\r\n+                    />\r\n+                  </Grid>\r\n+                </Grid>\r\n+              </Grid>\r\n+              <Grid\r\n+                item\r\n+                md={5.5}\r\n+                sm={12}\r\n+                xs={12}\r\n+                sx={{\r\n+                  border: \"2px solid black\",\r\n+                  p: 2,\r\n+                  borderRadius: \"15px\",\r\n+                  mt: { md: 0, sm: 2, xs: 2 },\r\n+                }}\r\n+              >\r\n+                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Display Customer\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Walk-in Customer\"\r\n+                      register={register1(\"display_customer\", {\r\n+                        required: \"please enter display name.\",\r\n+                      })}\r\n+                      error={errors1?.display_customer?.message}\r\n+                    />\r\n+                  </Grid>\r\n+\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Mobile\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Mobile No\"\r\n+                      register={register1(\"mobile\", {\r\n+                        required: \"please enter mobile .\",\r\n+                      })}\r\n+                      error={errors1?.display_customer?.message}\r\n+                    />\r\n+                  </Grid>\r\n+\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Email\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Email\"\r\n+                      register={register1(\"email\", {\r\n+                        required: \"please enter email .\",\r\n+                      })}\r\n+                      error={errors1?.email?.message}\r\n+                    />\r\n+                  </Grid>\r\n+                  {/* \r\n+                      <Grid item md={5.7} sm={12} xs={12}>\r\n+                        <InputField\r\n+                          label=\"TRN\"\r\n+                          size=\"small\"\r\n+                          placeholder=\"TRN\"\r\n+\r\n+\r\n+                          register={register1(\"trn\", {\r\n+                            required: 'please enter trn .'\r\n+                          })}\r\n+                          error={errors1?.trn?.message}\r\n+                        />\r\n+                      </Grid> */}\r\n+\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Ref\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Reference\"\r\n+                      register={register1(\"ref\")}\r\n+                    />\r\n+                  </Grid>\r\n+\r\n+                  {/* <Grid item md={5.7} sm={12} xs={12}>\r\n+                        <SelectField\r\n+                          label=\"Cost Center\"\r\n+                          size=\"small\"\r\n+                          options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n+                          selected={watch1(\"cost_center\")}\r\n+                          onSelect={(value) => setValue1(\"cost_center\", value)}\r\n+\r\n+                          register={register1(\"cost_center\", {\r\n+                            required: 'please enter cost center .'\r\n+                          })}\r\n+                          error={errors1?.cost_center?.message}\r\n+                        />\r\n+                      </Grid> */}\r\n+                  <Grid item md={5.7} sm={12} xs={12}>\r\n+                    <InputField\r\n+                      label=\"Address\"\r\n+                      size=\"small\"\r\n+                      placeholder=\"Address\"\r\n+                      multiline\r\n+                      rows={2}\r\n+                      register={register1(\"address\", {\r\n+                        required: \"please enter address .\",\r\n+                      })}\r\n+                      error={errors1?.address?.message}\r\n+                    />\r\n+                  </Grid>\r\n+                </Grid>\r\n+              </Grid>\r\n+            </Grid>\r\n+          </Box>\r\n+\r\n+          </Box>\r\n+\r\n+          <form>\r\n+            <TableContainer component={Paper}>\r\n+              <Table>\r\n+                <TableHead>\r\n+                  <TableRow>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n+                    <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Trsn ID</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>App/Case ID</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Ref No</TableCell>\r\n+\r\n+                    <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n+                  </TableRow>\r\n+                </TableHead>\r\n+                <TableBody>\r\n+                  <TableRow>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        disabled={true}\r\n+                        placeholder=\"Item code\"\r\n+                        register={register(\"service_id\", {\r\n+                          required: \"Item code is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.service_id && (\r\n+                        <span>{errors.service_id.message}</span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <SelectField\r\n+                        size=\"small\"\r\n+                        options={services}\r\n+                        selected={serviceItem}\r\n+                        onSelect={handleServiceSelect}\r\n+                        register={register(\"service_description\", {\r\n+                          required: \"Please select a service.\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.service_description && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.service_description.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Quantity\"\r\n+                        type=\"number\"\r\n+                        register={register(\"quantity\", {\r\n+                          required: \"Quantity is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.quantity && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.quantity.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Govt fee\"\r\n+                        type=\"number\"\r\n+                        register={register(\"govt_fee\", {\r\n+                          required: \"Govt fee is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.govt_fee && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.govt_fee.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Center Fee\"\r\n+                        type=\"number\"\r\n+                        register={register(\"center_fee\", {\r\n+                          required: \"Center fee is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.center_fee && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.center_fee.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Bank Charges\"\r\n+                        type=\"number\"\r\n+                        register={register(\"bank_charge\", {\r\n+                          required: \"Bank charges are required\",\r\n+                        })}\r\n+                        disabled\r\n+                      />\r\n+                      {errors.bank_charge && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.bank_charge.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Transaction Id\"\r\n+                        type=\"number\"\r\n+                        register={register(\"transaction_id\", {\r\n+                          required: \"Transaction Id is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.transaction_id && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.transaction_id.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Application Id\"\r\n+                        type=\"number\"\r\n+                        register={register(\"application_id\", {\r\n+                          required: \"Application Id is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.application_id && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.application_id.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\" Ref No\"\r\n+                        type=\"number\"\r\n+                        register={register(\"ref_no\", {\r\n+                          required: \"Ref No is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.ref_no && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.ref_no.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        disabled={true}\r\n+                        style={{ border: \"none\" }}\r\n+                        size=\"small\"\r\n+                        register={register(\"total\")}\r\n+                      />\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <Button\r\n+                        variant=\"contained\"\r\n+                        color=\"primary\"\r\n+                        type=\"submit\"\r\n+                        sx={{\r\n+                          textTransform: \"capitalize\",\r\n+                          backgroundColor: \"rgb(189 155 74)\",\r\n+                          fontSize: \"12px\",\r\n+                          \":hover\": {\r\n+                            backgroundColor: \"rgb(189 155 74)\",\r\n+                          },\r\n+                        }}\r\n+                        onClick={handleSubmit(addItem)}\r\n+                      >\r\n+                        <AddIcon />\r\n+                      </Button>\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+\r\n+                  {rows.map((item, index) => (\r\n+                    <TableRow key={index}>\r\n+                      <TableCell>{item?.service_id}</TableCell>\r\n+                      <TableCell>{item?.service_description}</TableCell>\r\n+                      <TableCell>{item?.quantity}</TableCell>\r\n+                      <TableCell>{item?.govt_fee}</TableCell>\r\n+                      <TableCell>{item?.center_fee}</TableCell>\r\n+                      <TableCell>{item?.bank_charge}</TableCell>\r\n+                      <TableCell>{item?.transaction_id}</TableCell>\r\n+                      <TableCell>{item?.application_id}</TableCell>\r\n+                      <TableCell>{item?.ref_no}</TableCell>\r\n+\r\n+                      <TableCell>{item?.total}</TableCell>\r\n+                    </TableRow>\r\n+                  ))}\r\n+\r\n+                  <TableRow>\r\n+                    <TableCell colSpan={7} align=\"right\">\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        Sub-total:\r\n+                      </Typography>\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        {subTotal}\r\n+                      </Typography>{\" \"}\r\n+                      {/* Display the Sub-total */}\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+\r\n+                  {/* Amount Total Row (optional, if needed for the final sum) */}\r\n+                  <TableRow>\r\n+                    <TableCell colSpan={7} align=\"right\">\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        Amount Total:\r\n+                      </Typography>\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        {subTotal}\r\n+                      </Typography>{\" \"}\r\n+                      {/* This can be the same as Sub-total */}\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+                </TableBody>\r\n+              </Table>\r\n+            </TableContainer>\r\n+          </form>\r\n+\r\n+          <TableContainer component={Paper}>\r\n+            <Table>\r\n+              <TableRow>\r\n+                <TableCell colSpan={8} align=\"center\">\r\n+                  <Box\r\n+                    sx={{ display: \"flex\", gap: 2, justifyContent: \"center\" }}\r\n+                  >\r\n+                    <Button\r\n+                      type=\"submit\"\r\n+                   \r\n+                      disabled={rows?.length === 0}\r\n+                      variant=\"contained\"\r\n+                      sx={{\r\n+                        width: \"350px\",\r\n+                        textTransform: \"capitalize\",\r\n+                        backgroundColor: \"#bd9b4a\",\r\n+                        \":hover\": {\r\n+                          backgroundColor: \"rgb(189 155 74)\",\r\n+                        },\r\n+                      }}\r\n+                    >\r\n+                      Place Invoice\r\n+                    </Button>\r\n+                    <Button\r\n+                      onClick={() => navigate(\"/pre-sales\")}\r\n+                      variant=\"contained\"\r\n+                      sx={{\r\n+                        width: \"350px\",\r\n+                        textTransform: \"capitalize\",\r\n+                        backgroundColor: \"#bd9b4a\",\r\n+                        \":hover\": {\r\n+                          backgroundColor: \"rgb(189 155 74)\",\r\n+                        },\r\n+                      }}\r\n+                    >\r\n+                      Cancel\r\n+                    </Button>\r\n+                  </Box>\r\n+                </TableCell>\r\n+              </TableRow>\r\n+            </Table>\r\n+          </TableContainer>\r\n+        </Box>\r\n+      </Box>\r\n+    </>\r\n+  );\r\n+}\r\n+\r\n+export default SalesReciept;\r\n"
                },
                {
                    "date": 1744728377853,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -564,9 +564,9 @@\n                       placeholder=\"TSL/83540\"\r\n                       register={register1(\"invoice_no\")}\r\n                     />\r\n                   </Grid>\r\n-                  {/* <Grid item xs={5.7}>\r\n+                  <Grid item xs={5.7}>\r\n                     <DatePicker\r\n                       label={\"Invoice Date :*\"}\r\n                       value={date}\r\n                       size={\"small\"}\r\n@@ -579,1001 +579,10 @@\n                         setValue1(\"date\", date);\r\n                         setDate(new Date(date));\r\n                       }}\r\n                     />\r\n-                  </Grid> */}\r\n-\r\n-                  <Grid item xs={5.7}>\r\n-                    <SelectField\r\n-                      size={\"small\"}\r\n-                      label={\"Customer *:\"}\r\n-                      disabled={true}\r\n-                      options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n-                      selected={selectedCustomer}\r\n-                      onSelect={(value) => {\r\n-                        setSelectedCustomer(value);\r\n-                      }}\r\n-                      error={errors1?.customer?.message}\r\n-                      register={register1(\"customer\", {\r\n-                        required: false,\r\n-                      })}\r\n-                    />\r\n                   </Grid>\r\n-                </Grid>\r\n-              </Grid>\r\n-              <Grid\r\n-                item\r\n-                md={5.5}\r\n-                sm={12}\r\n-                xs={12}\r\n-                sx={{\r\n-                  border: \"2px solid black\",\r\n-                  p: 2,\r\n-                  borderRadius: \"15px\",\r\n-                  mt: { md: 0, sm: 2, xs: 2 },\r\n-                }}\r\n-              >\r\n-                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Display Customer\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Walk-in Customer\"\r\n-                      register={register1(\"display_customer\", {\r\n-                        required: \"please enter display name.\",\r\n-                      })}\r\n-                      error={errors1?.display_customer?.message}\r\n-                    />\r\n-                  </Grid>\r\n \r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Mobile\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Mobile No\"\r\n-                      register={register1(\"mobile\", {\r\n-                        required: \"please enter mobile .\",\r\n-                      })}\r\n-                      error={errors1?.display_customer?.message}\r\n-                    />\r\n-                  </Grid>\r\n-\r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Email\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Email\"\r\n-                      register={register1(\"email\", {\r\n-                        required: \"please enter email .\",\r\n-                      })}\r\n-                      error={errors1?.email?.message}\r\n-                    />\r\n-                  </Grid>\r\n-                  {/* \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"TRN\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"TRN\"\r\n-\r\n-\r\n-                          register={register1(\"trn\", {\r\n-                            required: 'please enter trn .'\r\n-                          })}\r\n-                          error={errors1?.trn?.message}\r\n-                        />\r\n-                      </Grid> */}\r\n-\r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Ref\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Reference\"\r\n-                      register={register1(\"ref\")}\r\n-                    />\r\n-                  </Grid>\r\n-\r\n-                  {/* <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <SelectField\r\n-                          label=\"Cost Center\"\r\n-                          size=\"small\"\r\n-                          options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n-                          selected={watch1(\"cost_center\")}\r\n-                          onSelect={(value) => setValue1(\"cost_center\", value)}\r\n-\r\n-                          register={register1(\"cost_center\", {\r\n-                            required: 'please enter cost center .'\r\n-                          })}\r\n-                          error={errors1?.cost_center?.message}\r\n-                        />\r\n-                      </Grid> */}\r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Address\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Address\"\r\n-                      multiline\r\n-                      rows={2}\r\n-                      register={register1(\"address\", {\r\n-                        required: \"please enter address .\",\r\n-                      })}\r\n-                      error={errors1?.address?.message}\r\n-                    />\r\n-                  </Grid>\r\n-                </Grid>\r\n-              </Grid>\r\n-            </Grid>\r\n-          </Box>\r\n-\r\n-          </Box>\r\n-\r\n-          <form>\r\n-            <TableContainer component={Paper}>\r\n-              <Table>\r\n-                <TableHead>\r\n-                  <TableRow>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n-                    <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Trsn ID</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>App/Case ID</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Ref No</TableCell>\r\n-\r\n-                    <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n-                  </TableRow>\r\n-                </TableHead>\r\n-                <TableBody>\r\n-                  <TableRow>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        disabled={true}\r\n-                        placeholder=\"Item code\"\r\n-                        register={register(\"service_id\", {\r\n-                          required: \"Item code is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.service_id && (\r\n-                        <span>{errors.service_id.message}</span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <SelectField\r\n-                        size=\"small\"\r\n-                        options={services}\r\n-                        selected={serviceItem}\r\n-                        onSelect={handleServiceSelect}\r\n-                        register={register(\"service_description\", {\r\n-                          required: \"Please select a service.\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.service_description && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.service_description.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Quantity\"\r\n-                        type=\"number\"\r\n-                        register={register(\"quantity\", {\r\n-                          required: \"Quantity is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.quantity && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.quantity.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Govt fee\"\r\n-                        type=\"number\"\r\n-                        register={register(\"govt_fee\", {\r\n-                          required: \"Govt fee is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.govt_fee && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.govt_fee.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Center Fee\"\r\n-                        type=\"number\"\r\n-                        register={register(\"center_fee\", {\r\n-                          required: \"Center fee is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.center_fee && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.center_fee.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Bank Charges\"\r\n-                        type=\"number\"\r\n-                        register={register(\"bank_charge\", {\r\n-                          required: \"Bank charges are required\",\r\n-                        })}\r\n-                        disabled\r\n-                      />\r\n-                      {errors.bank_charge && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.bank_charge.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Transaction Id\"\r\n-                        type=\"number\"\r\n-                        register={register(\"transaction_id\", {\r\n-                          required: \"Transaction Id is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.transaction_id && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.transaction_id.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Application Id\"\r\n-                        type=\"number\"\r\n-                        register={register(\"application_id\", {\r\n-                          required: \"Application Id is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.application_id && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.application_id.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\" Ref No\"\r\n-                        type=\"number\"\r\n-                        register={register(\"ref_no\", {\r\n-                          required: \"Ref No is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.ref_no && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.ref_no.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        disabled={true}\r\n-                        style={{ border: \"none\" }}\r\n-                        size=\"small\"\r\n-                        register={register(\"total\")}\r\n-                      />\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <Button\r\n-                        variant=\"contained\"\r\n-                        color=\"primary\"\r\n-                        type=\"submit\"\r\n-                        sx={{\r\n-                          textTransform: \"capitalize\",\r\n-                          backgroundColor: \"rgb(189 155 74)\",\r\n-                          fontSize: \"12px\",\r\n-                          \":hover\": {\r\n-                            backgroundColor: \"rgb(189 155 74)\",\r\n-                          },\r\n-                        }}\r\n-                        onClick={handleSubmit(addItem)}\r\n-                      >\r\n-                        <AddIcon />\r\n-                      </Button>\r\n-                    </TableCell>\r\n-                  </TableRow>\r\n-\r\n-                  {rows.map((item, index) => (\r\n-                    <TableRow key={index}>\r\n-                      <TableCell>{item?.service_id}</TableCell>\r\n-                      <TableCell>{item?.service_description}</TableCell>\r\n-                      <TableCell>{item?.quantity}</TableCell>\r\n-                      <TableCell>{item?.govt_fee}</TableCell>\r\n-                      <TableCell>{item?.center_fee}</TableCell>\r\n-                      <TableCell>{item?.bank_charge}</TableCell>\r\n-                      <TableCell>{item?.transaction_id}</TableCell>\r\n-                      <TableCell>{item?.application_id}</TableCell>\r\n-                      <TableCell>{item?.ref_no}</TableCell>\r\n-\r\n-                      <TableCell>{item?.total}</TableCell>\r\n-                    </TableRow>\r\n-                  ))}\r\n-\r\n-                  <TableRow>\r\n-                    <TableCell colSpan={7} align=\"right\">\r\n-                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n-                        Sub-total:\r\n-                      </Typography>\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n-                        {subTotal}\r\n-                      </Typography>{\" \"}\r\n-                      {/* Display the Sub-total */}\r\n-                    </TableCell>\r\n-                  </TableRow>\r\n-\r\n-                  {/* Amount Total Row (optional, if needed for the final sum) */}\r\n-                  <TableRow>\r\n-                    <TableCell colSpan={7} align=\"right\">\r\n-                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n-                        Amount Total:\r\n-                      </Typography>\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n-                        {subTotal}\r\n-                      </Typography>{\" \"}\r\n-                      {/* This can be the same as Sub-total */}\r\n-                    </TableCell>\r\n-                  </TableRow>\r\n-                </TableBody>\r\n-              </Table>\r\n-            </TableContainer>\r\n-          </form>\r\n-\r\n-          <TableContainer component={Paper}>\r\n-            <Table>\r\n-              <TableRow>\r\n-                <TableCell colSpan={8} align=\"center\">\r\n-                  <Box\r\n-                    sx={{ display: \"flex\", gap: 2, justifyContent: \"center\" }}\r\n-                  >\r\n-                    <Button\r\n-                      type=\"submit\"\r\n-                   \r\n-                      disabled={rows?.length === 0}\r\n-                      variant=\"contained\"\r\n-                      sx={{\r\n-                        width: \"350px\",\r\n-                        textTransform: \"capitalize\",\r\n-                        backgroundColor: \"#bd9b4a\",\r\n-                        \":hover\": {\r\n-                          backgroundColor: \"rgb(189 155 74)\",\r\n-                        },\r\n-                      }}\r\n-                    >\r\n-                      Place Invoice\r\n-                    </Button>\r\n-                    <Button\r\n-                      onClick={() => navigate(\"/pre-sales\")}\r\n-                      variant=\"contained\"\r\n-                      sx={{\r\n-                        width: \"350px\",\r\n-                        textTransform: \"capitalize\",\r\n-                        backgroundColor: \"#bd9b4a\",\r\n-                        \":hover\": {\r\n-                          backgroundColor: \"rgb(189 155 74)\",\r\n-                        },\r\n-                      }}\r\n-                    >\r\n-                      Cancel\r\n-                    </Button>\r\n-                  </Box>\r\n-                </TableCell>\r\n-              </TableRow>\r\n-            </Table>\r\n-          </TableContainer>\r\n-        </Box>\r\n-      </Box>\r\n-    </>\r\n-  );\r\n-}\r\n-\r\n-export default SalesReciept;\r\n-import React, { useEffect, useRef, useState } from \"react\";\r\n-import {\r\n-  Avatar,\r\n-  Box,\r\n-  Checkbox,\r\n-  Container,\r\n-  FormControlLabel,\r\n-  FormLabel,\r\n-  Grid,\r\n-  IconButton,\r\n-  InputLabel,\r\n-  Radio,\r\n-  RadioGroup,\r\n-  Table,\r\n-  TableCell,\r\n-  TableContainer,\r\n-  TableRow,\r\n-  Typography,\r\n-  TableBody,\r\n-  TableHead,\r\n-  TextField,\r\n-  Paper,\r\n-} from \"@mui/material\";\r\n-import AddIcon from \"@mui/icons-material/Add\";\r\n-import RegisterContainer from \"container/Register\";\r\n-import { useTheme } from \"@mui/material/styles\";\r\n-import MobileStepper from \"@mui/material/MobileStepper\";\r\n-import Button from \"@mui/material/Button\";\r\n-import KeyboardArrowLeft from \"@mui/icons-material/KeyboardArrowLeft\";\r\n-import KeyboardArrowRight from \"@mui/icons-material/KeyboardArrowRight\";\r\n-import { PrimaryButton } from \"components/Buttons\";\r\n-import Colors from \"assets/Style/Colors\";\r\n-import DeleteIcon from \"@mui/icons-material/Delete\";\r\n-import { Controller, useForm } from \"react-hook-form\";\r\n-import UploadFile from \"components/UploadFile\";\r\n-import InputField from \"components/Input\";\r\n-import DatePicker from \"components/DatePicker\";\r\n-import { ErrorToaster } from \"components/Toaster\";\r\n-import { FormControl } from \"@mui/base\";\r\n-import LabelCustomInput from \"components/Input/LabelCustomInput\";\r\n-import SelectField from \"components/Select\";\r\n-import {\r\n-  CleanTypes,\r\n-  Debounce,\r\n-  Debounce2,\r\n-  getFileSize,\r\n-  handleDownload,\r\n-} from \"utils\";\r\n-import instance from \"config/axios\";\r\n-import routes from \"services/System/routes\";\r\n-import CustomerServices from \"services/Customer\";\r\n-import CustomerService from \"../DashboardPages/CustomerService\";\r\n-import { showErrorToast, showPromiseToast } from \"components/NewToaster\";\r\n-import moment from \"moment\";\r\n-import { Link, useNavigate } from \"react-router-dom\";\r\n-import SystemServices from \"services/System\";\r\n-import UploadFileSingle from \"components/UploadFileSingle\";\r\n-import { Images } from \"assets\";\r\n-import { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\n-import { addMonths, max } from \"date-fns\";\r\n-import { useAuth } from \"context/UseContext\";\r\n-import DoDisturbIcon from \"@mui/icons-material/DoDisturb\";\r\n-import axios from \"axios\";\r\n-import UploadIcon from \"@mui/icons-material/Upload\";\r\n-import FinanceServices from \"services/Finance\";\r\n-import SearchIcon from \"@mui/icons-material/Search\";\r\n-// import { TableBody, TableHead } from \"mui-datatables\";\r\n-\r\n-function SalesReciept() {\r\n-  const theme = useTheme();\r\n-  const { user } = useAuth();\r\n-  const navigate = useNavigate();\r\n-  const [formChange, setFormChange] = useState(false);\r\n-  const [submit, setSubmit] = useState(false);\r\n-  const [excludeFromSales, setExcludeFromSales] = useState(\"no\");\r\n-  const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n-  const [total, setTotal] = useState(0);\r\n-  const [subTotal, setSubTotal] = useState(0);\r\n-  const [rows, setRows] = useState([]);\r\n-\r\n-  console.log(rows, \"data\");\r\n-  const [items, setItems] = useState([\r\n-    {\r\n-      itemCode: \"\",\r\n-      itemDescription: \"TASHEEL AUTO 19\",\r\n-      totalCharge: 17.1,\r\n-      mbNo: \"\",\r\n-      applicationId: \"\",\r\n-      total: 17.1,\r\n-    },\r\n-  ]);\r\n-\r\n-  // const addItem = () => {\r\n-  //   const newItem = {\r\n-  //     itemCode: \"\",\r\n-  //     itemDescription: \"\",\r\n-  //     totalCharge: 0,\r\n-  //     mbNo: \"\",\r\n-  //     applicationId: \"\",\r\n-  //     total: 0,\r\n-  //   };\r\n-  //   setItems([...items, newItem]);\r\n-  // };\r\n-\r\n-  const {\r\n-    register,\r\n-    handleSubmit,\r\n-    getValues,\r\n-    setValue,\r\n-    watch,\r\n-    reset,\r\n-    formState: { errors },\r\n-  } = useForm();\r\n-  const {\r\n-    register: register1,\r\n-    handleSubmit: handleSubmit1,\r\n-    setValue: setValue1,\r\n-    getValues: getValues1,\r\n-    control,\r\n-    watch: watch1,\r\n-    formState: { errors: errors1 },\r\n-  } = useForm();\r\n-console.log(watch1());\r\n-\r\n-  // Watch all form data\r\n-\r\n-  // Watch for changes in the fee-related fields\r\n-  const govtFee = watch(\"govt_fee\", 0);\r\n-  const centerFee = watch(\"center_fee\", 0);\r\n-  const bankCharges = watch(\"bank_charge\", 0);\r\n-  const qty = watch(\"quantity\", 1);\r\n-  useEffect(() => {\r\n-    const feesTotal =\r\n-      (parseFloat(govtFee) || 0) +\r\n-      (parseFloat(centerFee) || 0) +\r\n-      (parseFloat(bankCharges) || 0);\r\n-    const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n-    setValue(\"total\", finalTotal);\r\n-  }, [govtFee, centerFee, bankCharges, qty]);\r\n-\r\n-  const addItem = (data) => {\r\n-    const total = data.total;\r\n-    setRows((prevRows) => {\r\n-      const updatedRows = [...prevRows, data];\r\n-      const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n-      setSubTotal(newSubTotal);\r\n-      return updatedRows;\r\n-    });\r\n-    reset();\r\n-    setServiceItem(\"\");\r\n-  };\r\n-\r\n-  const [activeStep, setActiveStep] = React.useState(1);\r\n-\r\n-  // const [fieldsDisabled, setFieldsDisabled] = useState({\r\n-  //   monthlyVisaServiceCharges: false,\r\n-  //   vipMedical: false,\r\n-  //   extraTyping: true,\r\n-  // });\r\n-  const [fieldsDisabled, setFieldsDisabled] = useState(false);\r\n-\r\n-  const [center, setCenter] = useState(null);\r\n-  const [status, setStatus] = useState(null);\r\n-\r\n-  // *For Stepper Forms Data\r\n-  const [stepFormData, setStepFormData] = useState();\r\n-  const [step1FormData, setStep1FormData] = useState();\r\n-  const [selectedType, setSelectedType] = useState(null);\r\n-  const [date, setDate] = useState(new Date());\r\n-  const [balanceType, setBalanceType] = useState(null);\r\n-  const [imageURL, setImageURL] = useState(null);\r\n-  const fileInputRef = useRef(null);\r\n-  const [hovered, setHovered] = useState(false);\r\n-  const [accounts, setAccounts] = useState([]);\r\n-  const [salesAccount, setSalesAccount] = useState(null);\r\n-  const [inventoryAccount, setInventoryAccount] = useState(null);\r\n-  const [cogsAccount, setCogsAccount] = useState(null);\r\n-  const [adjustmentAccount, setAdjustmentAccount] = useState(null);\r\n-  const [assemblyAccount, setAssemblyAccount] = useState(null);\r\n-  const [itemType, setItemType] = useState(null);\r\n-  const [unit, setUnit] = useState(null);\r\n-  const [taxes, setTaxes] = useState([]);\r\n-  const [tax, setTax] = useState(null);\r\n-  const [category, setCategory] = useState(null);\r\n-  const [categories, setCategories] = useState(null);\r\n-  const [governmentAccount, setGovernmnentAccount] = useState(null);\r\n-  const [description, setDescription] = useState(null);\r\n-  const [ownGovBank, setOwnGovBank] = useState(null);\r\n-  const [services, setServices] = useState([]);\r\n-  const [serviceItem, setServiceItem] = useState(null);\r\n-  const [selectedCustomer, setSelectedCustomer] = useState(null);\r\n-  const [detail, setDetail] = useState(null);\r\n-  const [holdState, setHoldState] = useState(true);\r\n-  // const [fieldsDisabled, setFieldsDisabled] = useState(false)\r\n-\r\n-  //documents array\r\n-\r\n-  const handleNext = () => {\r\n-    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n-  };\r\n-\r\n-  const submitForm1 = async (formData) => {\r\n-    console.log(formData);\r\n-    try {\r\n-      let obj = {\r\n-        token_number: formData?.token,\r\n-        token_date: date,\r\n-        invoice_prefix: \"AAD\",\r\n-        cost_center: formData?.cost_center,\r\n-        customer_name: formData?.display_customer,\r\n-        reception_id: detail?.id,\r\n-        customer_mobile: formData?.mobile,\r\n-        customer_email: formData?.email,\r\n-        ref: formData?.ref,\r\n-        total_amount: subTotal,\r\n-\r\n-        items: rows,\r\n-      };\r\n-      console.log(formData, \"formData\");\r\n-      const promise = CustomerServices.CreateSaleReceipt(obj);\r\n-\r\n-      showPromiseToast(\r\n-        promise,\r\n-        \"Saving...\",\r\n-        \"Added Successfully\",\r\n-        \"Something Went Wrong\"\r\n-      );\r\n-      const response = await promise;\r\n-      if (response?.responseCode === 200) {\r\n-        navigate(\"/pre-sales\");\r\n-      }\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    }\r\n-  };\r\n-\r\n-  // *For Get Account\r\n-  const getReceptionDetail = async (value) => {\r\n-    setFieldsDisabled(true);\r\n-\r\n-    try {\r\n-      let params =\r\n-        value === \"token\"\r\n-          ? { token_number: getValues1(\"token\") }\r\n-          : { mobile: getValues1(\"mobileValue\") };\r\n-\r\n-      const { data } = await CustomerServices.getReceptionDetail(params);\r\n-      console.log(data, \"dataaa\");\r\n-      setDetail(data?.token);\r\n-      setValue1(\"customer\", data?.token?.customer_name);\r\n-      setValue1(\"invoice_date\", moment().toDate());\r\n-      setValue1(\"mobile\", data?.token?.mobile);\r\n-      setValue1(\"ref\", data?.token?.reference);\r\n-      setValue1(\"display_customer\", data?.token?.customer_name);\r\n-      setValue1(\"email\", data?.token?.email);\r\n-      setValue1(\"address\", data?.token?.address);\r\n-      setValue1(\"trn\", data?.token?.trn);\r\n-      setValue1(\"cost_center\", data?.token?.cost_center);\r\n-      setValue1(\"token\", data?.token?.token_number);\r\n-      setValue1(\"mobileValue\", data?.token?.mobile);\r\n-\r\n-      setAccounts(data?.accounts?.rows);\r\n-\r\n-      getServiceItem(data?.token?.service_category?.id);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-\r\n-  const getServiceItem = async (id) => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-        category_id: id,\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.getServiceItem(params);\r\n-\r\n-      setServices(data?.rows);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const getInvoiceNumber = async () => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      const { data } = await CustomerServices.getInvoiceNumber();\r\n-\r\n-      console.log(data);\r\n-      setValue1(\"invoice_no\", `AAD/${data?.next_invoice_number}`);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const handleServiceSelect = async (value) => {\r\n-    console.log(value, \"idididid\");\r\n-    setServiceItem(value);\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        service_id: value?.id,\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.DetailServiceItem(params);\r\n-      setValue(\"service_id\", data?.service?.id);\r\n-      setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n-      setValue(\"center_fee\", data?.service?.center_fee);\r\n-      setValue(\"bank_charge\", data?.service?.bank_service_charge);\r\n-\r\n-      setValue(\"quantity\", 1);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-\r\n-  const getAccounts = async (page, limit, filter) => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n-\r\n-      const { data } = await FinanceServices.getAccounts(params);\r\n-      console.log(data?.accounts?.rows);\r\n-\r\n-      setAccounts(data?.accounts?.rows);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  // *For Get Account\r\n-  const getReceiptDetail = async (state) => {\r\n-    setFieldsDisabled(true);\r\n-    try {\r\n-      let params = {\r\n-        token_number: getValues1(\"token\"),\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.getReceiptDetail(params);\r\n-      console.log(data);\r\n-      if (data?.receipt) {\r\n-        setHoldState(true);\r\n-\r\n-        showErrorToast(\"Invoice already exist with this token number\");\r\n-      } else {\r\n-        setHoldState(false);\r\n-      }\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const getTax = async () => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n-\r\n-      const { data } = await FinanceServices.getTax(params);\r\n-      console.log(data?.accounts?.rows);\r\n-\r\n-      setTaxes(data?.tax);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const getCategories = async () => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.getCategoryList(params);\r\n-\r\n-      setCategories(data?.categories);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    getAccounts();\r\n-    getTax();\r\n-    getCategories();\r\n-    // getServiceItem();\r\n-    getInvoiceNumber();\r\n-    setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" });\r\n-    setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" });\r\n-  }, []);\r\n-\r\n-  const getCustomerDetail2 = async (phone) => {\r\n-    try {\r\n-      let params = {\r\n-        mobile: phone,\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.getCustomerDetail(params);\r\n-      let detail = data?.customer;\r\n-      console.log(detail);\r\n-      setValue1(\"customer\", detail?.token?.customer_name);\r\n-      setValue1(\"invoice_date\", moment().toDate());\r\n-      setValue1(\"mobile\", detail?.token?.mobile);\r\n-      setValue1(\"ref\", detail?.token?.reference);\r\n-      setValue1(\"display_customer\", detail?.token?.customer_name);\r\n-      setValue1(\"email\", detail?.token?.email);\r\n-      setValue1(\"address\", detail?.token?.address);\r\n-      setValue1(\"trn\", detail?.token?.trn);\r\n-      setValue1(\"cost_center\", detail?.token?.cost_center);\r\n-\r\n-      setAccounts(detail?.accounts?.rows);\r\n-\r\n-      getServiceItem(detail?.token?.service_category?.id);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching location:\", error);\r\n-    }\r\n-  };\r\n-  return (\r\n-    <>\r\n-      <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n-        <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n-          <Box>\r\n-          <Box\r\n-            sx={{\r\n-              display: \"flex\",\r\n-              justifyContent: \"space-between\",\r\n-              gap: \"10px\",\r\n-              p: 3,\r\n-              alignItems: \"flex-end\",\r\n-            }}\r\n-          >\r\n-            <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n-              Create Sales Receipt\r\n-            </Typography>\r\n-          </Box>\r\n-\r\n-          <Box sx={{ p: 3 }}>\r\n-            <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-              <Grid item xs={12}>\r\n-                <Grid item xs={12}>\r\n-                  <Grid container gap={2} alignItems={\"center\"}>\r\n-                    <Grid item md={3} sm={12} xs={12}>\r\n-                      <InputField\r\n-                        label=\"Token\"\r\n-                        size=\"small\"\r\n-                        disabled={fieldsDisabled}\r\n-                        placeholder=\"Enter Token\"\r\n-                        register={register1(\"token\")}\r\n-                        InputProps={{\r\n-                          endAdornment: (\r\n-                            <IconButton\r\n-                              onClick={() => {\r\n-                                getReceptionDetail(\"token\");\r\n-                                // getReceiptDetail();\r\n-                              }}\r\n-                            >\r\n-                              <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n-                            </IconButton>\r\n-                          ),\r\n-                        }}\r\n-                      />\r\n-                    </Grid>\r\n-                    <Grid item md={3} sm={12} xs={12}>\r\n-                      <InputField\r\n-                        label={\"Mobile *:\"}\r\n-                        size={\"small\"}\r\n-                        type={\"number\"}\r\n-                        disabled={fieldsDisabled}\r\n-                        placeholder={\"Mobile\"}\r\n-                        InputProps={{\r\n-                          endAdornment: (\r\n-                            <IconButton\r\n-                              onClick={() => {\r\n-                                getReceptionDetail(\"mobile\");\r\n-                                // getReceiptDetail();\r\n-                              }}\r\n-                            >\r\n-                              <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n-                            </IconButton>\r\n-                          ),\r\n-                        }}\r\n-                        register={register1(\"mobileValue\", {\r\n-                          required: \"Please enter your mobile.\",\r\n-                          pattern: {\r\n-                            value: /^05[0-9]{8}$/,\r\n-                            message:\r\n-                              \"Please enter a valid UAE phone number (starting with 05 and 8 digits).\",\r\n-                          },\r\n-                          onChange: (e) => {\r\n-                            console.log(\"asdas\");\r\n-                            if (getValues1(\"mobileValue\").length == 10) {\r\n-                              //  getReceiptDetail()\r\n-                            }\r\n-\r\n-                            // Delay the execution of verifyEmail by 2 seconds\r\n-                          },\r\n-                        })}\r\n-                      />\r\n-                    </Grid>\r\n-                    <Grid item md={1} sm={12} xs={12} mt={2}>\r\n-                      <PrimaryButton\r\n-                        bgcolor={\"#bd9b4a\"}\r\n-                        title=\"Clear\"\r\n-                        onClick={() => {\r\n-                          setFieldsDisabled(false);\r\n-                          setValue1(\"customer\", \"\");\r\n-                          setValue1(\"invoice_date\", moment().toDate());\r\n-                          setValue1(\"mobile\", \"\");\r\n-                          setValue1(\"ref\", \"\");\r\n-                          setValue1(\"display_customer\", \"\");\r\n-                          setValue1(\"email\", \"\");\r\n-                          setValue1(\"address\", \"\");\r\n-                          setValue1(\"trn\", \"\");\r\n-                          setValue1(\"cost_center\", \"\");\r\n-                          setValue1(\"mobileValue\", \"\");\r\n-                          setValue1(\"token\", \"\");\r\n-\r\n-                          setAccounts(\"\");\r\n-                        }}\r\n-                        // loading={loading}\r\n-                      />\r\n-                    </Grid>\r\n-                  </Grid>\r\n-                </Grid>\r\n-              </Grid>\r\n-\r\n-              <Grid\r\n-                item\r\n-                md={5.5}\r\n-                sm={12}\r\n-                xs={12}\r\n-                sx={{\r\n-                  border: \"2px solid black\",\r\n-                  p: 2,\r\n-                  borderRadius: \"15px\",\r\n-                }}\r\n-              >\r\n-                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Invoice No\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"TSL/83540\"\r\n-                      register={register1(\"invoice_no\")}\r\n-                    />\r\n-                  </Grid>\r\n-                  {/* <Grid item xs={5.7}>\r\n-                    <DatePicker\r\n-                      label={\"Invoice Date :*\"}\r\n-                      value={date}\r\n-                      size={\"small\"}\r\n-                      error={errors1?.date?.message}\r\n-                      register={register1(\"date\", {\r\n-                        required: date ? false : \"please enter  date.\",\r\n-                      })}\r\n-                      maxDate={new Date()}\r\n-                      onChange={(date) => {\r\n-                        setValue1(\"date\", date);\r\n-                        setDate(new Date(date));\r\n-                      }}\r\n-                    />\r\n-                  </Grid> */}\r\n-\r\n                   <Grid item xs={5.7}>\r\n                     <SelectField\r\n                       size={\"small\"}\r\n                       label={\"Customer *:\"}\r\n"
                },
                {
                    "date": 1744728387880,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -569,15 +569,15 @@\n                     <DatePicker\r\n                       label={\"Invoice Date :*\"}\r\n                       value={date}\r\n                       size={\"small\"}\r\n-                      error={errors1?.date?.message}\r\n-                      register={register1(\"date\", {\r\n+                      error={errors1?.invoice_date?.message}\r\n+                      register={register1(\"invoice_date\", {\r\n                         required: date ? false : \"please enter  date.\",\r\n                       })}\r\n                       maxDate={new Date()}\r\n                       onChange={(date) => {\r\n-                        setValue1(\"date\", date);\r\n+                        setValue1(\"invoice_date\", date);\r\n                         setDate(new Date(date));\r\n                       }}\r\n                     />\r\n                   </Grid>\r\n"
                },
                {
                    "date": 1744728467470,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -671,22 +671,9 @@\n                       register={register1(\"ref\")}\r\n                     />\r\n                   </Grid>\r\n \r\n-                  {/* <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <SelectField\r\n-                          label=\"Cost Center\"\r\n-                          size=\"small\"\r\n-                          options={[{ id: 'Tasheel', name: 'Tasheel' }, { id: 'DED', name: 'DED' }, { id: 'Typing', name: 'Typing' }, { id: 'General', name: 'General' }]}\r\n-                          selected={watch1(\"cost_center\")}\r\n-                          onSelect={(value) => setValue1(\"cost_center\", value)}\r\n-\r\n-                          register={register1(\"cost_center\", {\r\n-                            required: 'please enter cost center .'\r\n-                          })}\r\n-                          error={errors1?.cost_center?.message}\r\n-                        />\r\n-                      </Grid> */}\r\n+                  \r\n                   <Grid item md={5.7} sm={12} xs={12}>\r\n                     <InputField\r\n                       label=\"Address\"\r\n                       size=\"small\"\r\n"
                },
                {
                    "date": 1744728473496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -253,9 +253,9 @@\n       setValue1(\"ref\", data?.token?.reference);\r\n       setValue1(\"display_customer\", data?.token?.customer_name);\r\n       setValue1(\"email\", data?.token?.email);\r\n       setValue1(\"address\", data?.token?.address);\r\n-      setValue1(\"trn\", data?.token?.trn);\r\n+      \r\n       setValue1(\"cost_center\", data?.token?.cost_center);\r\n       setValue1(\"token\", data?.token?.token_number);\r\n       setValue1(\"mobileValue\", data?.token?.mobile);\r\n \r\n"
                },
                {
                    "date": 1744728485151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -253,10 +253,9 @@\n       setValue1(\"ref\", data?.token?.reference);\r\n       setValue1(\"display_customer\", data?.token?.customer_name);\r\n       setValue1(\"email\", data?.token?.email);\r\n       setValue1(\"address\", data?.token?.address);\r\n-      \r\n-      setValue1(\"cost_center\", data?.token?.cost_center);\r\n+    \r\n       setValue1(\"token\", data?.token?.token_number);\r\n       setValue1(\"mobileValue\", data?.token?.mobile);\r\n \r\n       setAccounts(data?.accounts?.rows);\r\n@@ -425,11 +424,9 @@\n       setValue1(\"ref\", detail?.token?.reference);\r\n       setValue1(\"display_customer\", detail?.token?.customer_name);\r\n       setValue1(\"email\", detail?.token?.email);\r\n       setValue1(\"address\", detail?.token?.address);\r\n-      setValue1(\"trn\", detail?.token?.trn);\r\n-      setValue1(\"cost_center\", detail?.token?.cost_center);\r\n-\r\n+   \r\n       setAccounts(detail?.accounts?.rows);\r\n \r\n       getServiceItem(detail?.token?.service_category?.id);\r\n     } catch (error) {\r\n"
                },
                {
                    "date": 1744728504359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -205,9 +205,9 @@\n       let obj = {\r\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n-        cost_center: formData?.cost_center,\r\n+    \r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n         customer_email: formData?.email,\r\n@@ -527,10 +527,9 @@\n                           setValue1(\"ref\", \"\");\r\n                           setValue1(\"display_customer\", \"\");\r\n                           setValue1(\"email\", \"\");\r\n                           setValue1(\"address\", \"\");\r\n-                          setValue1(\"trn\", \"\");\r\n-                          setValue1(\"cost_center\", \"\");\r\n+                         \r\n                           setValue1(\"mobileValue\", \"\");\r\n                           setValue1(\"token\", \"\");\r\n \r\n                           setAccounts(\"\");\r\n@@ -644,23 +643,10 @@\n                       })}\r\n                       error={errors1?.email?.message}\r\n                     />\r\n                   </Grid>\r\n-                  {/* \r\n-                      <Grid item md={5.7} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"TRN\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"TRN\"\r\n+           \r\n \r\n-\r\n-                          register={register1(\"trn\", {\r\n-                            required: 'please enter trn .'\r\n-                          })}\r\n-                          error={errors1?.trn?.message}\r\n-                        />\r\n-                      </Grid> */}\r\n-\r\n                   <Grid item md={5.7} sm={12} xs={12}>\r\n                     <InputField\r\n                       label=\"Ref\"\r\n                       size=\"small\"\r\n"
                },
                {
                    "date": 1744728729727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -686,9 +686,9 @@\n                     <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n                     <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n                     <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n                     <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Trsn ID</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Trans ID</TableCell>\r\n                     <TableCell sx={{ width: \"150px\" }}>App/Case ID</TableCell>\r\n                     <TableCell sx={{ width: \"150px\" }}>Ref No</TableCell>\r\n \r\n                     <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n"
                },
                {
                    "date": 1744728787415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -119,9 +119,9 @@\n     control,\r\n     watch: watch1,\r\n     formState: { errors: errors1 },\r\n   } = useForm();\r\n-console.log(watch1());\r\n+console.log(errors1);\r\n \r\n   // Watch all form data\r\n \r\n   // Watch for changes in the fee-related fields\r\n"
                },
                {
                    "date": 1744728885522,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -498,13 +498,9 @@\n                           ),\r\n                         }}\r\n                         register={register1(\"mobileValue\", {\r\n                           required: \"Please enter your mobile.\",\r\n-                          pattern: {\r\n-                            value: /^05[0-9]{8}$/,\r\n-                            message:\r\n-                              \"Please enter a valid UAE phone number (starting with 05 and 8 digits).\",\r\n-                          },\r\n+                          \r\n                           onChange: (e) => {\r\n                             console.log(\"asdas\");\r\n                             if (getValues1(\"mobileValue\").length == 10) {\r\n                               //  getReceiptDetail()\r\n"
                },
                {
                    "date": 1744729275487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -888,9 +888,9 @@\n                   </TableRow>\r\n \r\n                   {/* Amount Total Row (optional, if needed for the final sum) */}\r\n                   <TableRow>\r\n-                    <TableCell colSpan={7} align=\"right\">\r\n+                    <TableCell colSpan={8} align=\"right\">\r\n                       <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n                         Amount Total:\r\n                       </Typography>\r\n                     </TableCell>\r\n"
                },
                {
                    "date": 1744729285607,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -888,9 +888,9 @@\n                   </TableRow>\r\n \r\n                   {/* Amount Total Row (optional, if needed for the final sum) */}\r\n                   <TableRow>\r\n-                    <TableCell colSpan={8} align=\"right\">\r\n+                    <TableCell colSpan={9} align=\"right\">\r\n                       <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n                         Amount Total:\r\n                       </Typography>\r\n                     </TableCell>\r\n"
                },
                {
                    "date": 1744730557260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,8 +76,9 @@\n   const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n   const [total, setTotal] = useState(0);\r\n   const [subTotal, setSubTotal] = useState(0);\r\n   const [rows, setRows] = useState([]);\r\n+      const [invoiceData, setInvoiceData] = useState(null)\r\n \r\n   console.log(rows, \"data\");\r\n   const [items, setItems] = useState([\r\n     {\r\n@@ -873,9 +874,9 @@\n                     </TableRow>\r\n                   ))}\r\n \r\n                   <TableRow>\r\n-                    <TableCell colSpan={7} align=\"right\">\r\n+                    <TableCell colSpan={9} align=\"right\">\r\n                       <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n                         Sub-total:\r\n                       </Typography>\r\n                     </TableCell>\r\n"
                },
                {
                    "date": 1744730583685,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n   const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n   const [total, setTotal] = useState(0);\r\n   const [subTotal, setSubTotal] = useState(0);\r\n   const [rows, setRows] = useState([]);\r\n-      const [invoiceData, setInvoiceData] = useState(null)\r\n+  const [invoiceData, setInvoiceData] = useState(null)\r\n \r\n   console.log(rows, \"data\");\r\n   const [items, setItems] = useState([\r\n     {\r\n@@ -120,9 +120,9 @@\n     control,\r\n     watch: watch1,\r\n     formState: { errors: errors1 },\r\n   } = useForm();\r\n-console.log(errors1);\r\n+  console.log(errors1);\r\n \r\n   // Watch all form data\r\n \r\n   // Watch for changes in the fee-related fields\r\n@@ -202,13 +202,33 @@\n \r\n   const submitForm1 = async (formData) => {\r\n     console.log(formData);\r\n     try {\r\n+\r\n+              let invoice = {\r\n+                  date:moment(date).format(\"DD-MM-YYYY\"),\r\n+                  invoiceType: detail?.invoice_number,\r\n+                  \r\n+                  trn:formData?.trn,\r\n+                  tokenNumber: detail?.token_number,\r\n+                  customerName: formData?.display_customer,\r\n+                  mobileNo: formData?.mobile,\r\n+                  customerReference: formData?.ref,\r\n+                  customerAddress: formData?.address,\r\n+                  items: rows,\r\n+                  totalSales: 367.25,\r\n+                  netTaxableAmount: 27.5,\r\n+                  totalVAT: 1.38,\r\n+                  grossTotal: 396.13,\r\n+                  customerCardPayment: 0.0,\r\n+                  totalPayable: 396.13,\r\n+                };\r\n+          setInvoiceData(invoice)\r\n       let obj = {\r\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n-    \r\n+\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n         customer_email: formData?.email,\r\n@@ -254,9 +274,9 @@\n       setValue1(\"ref\", data?.token?.reference);\r\n       setValue1(\"display_customer\", data?.token?.customer_name);\r\n       setValue1(\"email\", data?.token?.email);\r\n       setValue1(\"address\", data?.token?.address);\r\n-    \r\n+\r\n       setValue1(\"token\", data?.token?.token_number);\r\n       setValue1(\"mobileValue\", data?.token?.mobile);\r\n \r\n       setAccounts(data?.accounts?.rows);\r\n@@ -425,9 +445,9 @@\n       setValue1(\"ref\", detail?.token?.reference);\r\n       setValue1(\"display_customer\", detail?.token?.customer_name);\r\n       setValue1(\"email\", detail?.token?.email);\r\n       setValue1(\"address\", detail?.token?.address);\r\n-   \r\n+\r\n       setAccounts(detail?.accounts?.rows);\r\n \r\n       getServiceItem(detail?.token?.service_category?.id);\r\n     } catch (error) {\r\n@@ -438,239 +458,239 @@\n     <>\r\n       <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n         <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n           <Box>\r\n-          <Box\r\n-            sx={{\r\n-              display: \"flex\",\r\n-              justifyContent: \"space-between\",\r\n-              gap: \"10px\",\r\n-              p: 3,\r\n-              alignItems: \"flex-end\",\r\n-            }}\r\n-          >\r\n-            <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n-              Create Sales Receipt\r\n-            </Typography>\r\n-          </Box>\r\n+            <Box\r\n+              sx={{\r\n+                display: \"flex\",\r\n+                justifyContent: \"space-between\",\r\n+                gap: \"10px\",\r\n+                p: 3,\r\n+                alignItems: \"flex-end\",\r\n+              }}\r\n+            >\r\n+              <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n+                Create Sales Receipt\r\n+              </Typography>\r\n+            </Box>\r\n \r\n-          <Box sx={{ p: 3 }}>\r\n-            <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-              <Grid item xs={12}>\r\n+            <Box sx={{ p: 3 }}>\r\n+              <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                 <Grid item xs={12}>\r\n-                  <Grid container gap={2} alignItems={\"center\"}>\r\n-                    <Grid item md={3} sm={12} xs={12}>\r\n+                  <Grid item xs={12}>\r\n+                    <Grid container gap={2} alignItems={\"center\"}>\r\n+                      <Grid item md={3} sm={12} xs={12}>\r\n+                        <InputField\r\n+                          label=\"Token\"\r\n+                          size=\"small\"\r\n+                          disabled={fieldsDisabled}\r\n+                          placeholder=\"Enter Token\"\r\n+                          register={register1(\"token\")}\r\n+                          InputProps={{\r\n+                            endAdornment: (\r\n+                              <IconButton\r\n+                                onClick={() => {\r\n+                                  getReceptionDetail(\"token\");\r\n+                                  // getReceiptDetail();\r\n+                                }}\r\n+                              >\r\n+                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                              </IconButton>\r\n+                            ),\r\n+                          }}\r\n+                        />\r\n+                      </Grid>\r\n+                      <Grid item md={3} sm={12} xs={12}>\r\n+                        <InputField\r\n+                          label={\"Mobile *:\"}\r\n+                          size={\"small\"}\r\n+                          type={\"number\"}\r\n+                          disabled={fieldsDisabled}\r\n+                          placeholder={\"Mobile\"}\r\n+                          InputProps={{\r\n+                            endAdornment: (\r\n+                              <IconButton\r\n+                                onClick={() => {\r\n+                                  getReceptionDetail(\"mobile\");\r\n+                                  // getReceiptDetail();\r\n+                                }}\r\n+                              >\r\n+                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                              </IconButton>\r\n+                            ),\r\n+                          }}\r\n+                          register={register1(\"mobileValue\", {\r\n+                            required: \"Please enter your mobile.\",\r\n+\r\n+                            onChange: (e) => {\r\n+                              console.log(\"asdas\");\r\n+                              if (getValues1(\"mobileValue\").length == 10) {\r\n+                                //  getReceiptDetail()\r\n+                              }\r\n+\r\n+                              // Delay the execution of verifyEmail by 2 seconds\r\n+                            },\r\n+                          })}\r\n+                        />\r\n+                      </Grid>\r\n+                      <Grid item md={1} sm={12} xs={12} mt={2}>\r\n+                        <PrimaryButton\r\n+                          bgcolor={\"#bd9b4a\"}\r\n+                          title=\"Clear\"\r\n+                          onClick={() => {\r\n+                            setFieldsDisabled(false);\r\n+                            setValue1(\"customer\", \"\");\r\n+                            setValue1(\"invoice_date\", moment().toDate());\r\n+                            setValue1(\"mobile\", \"\");\r\n+                            setValue1(\"ref\", \"\");\r\n+                            setValue1(\"display_customer\", \"\");\r\n+                            setValue1(\"email\", \"\");\r\n+                            setValue1(\"address\", \"\");\r\n+\r\n+                            setValue1(\"mobileValue\", \"\");\r\n+                            setValue1(\"token\", \"\");\r\n+\r\n+                            setAccounts(\"\");\r\n+                          }}\r\n+                        // loading={loading}\r\n+                        />\r\n+                      </Grid>\r\n+                    </Grid>\r\n+                  </Grid>\r\n+                </Grid>\r\n+\r\n+                <Grid\r\n+                  item\r\n+                  md={5.5}\r\n+                  sm={12}\r\n+                  xs={12}\r\n+                  sx={{\r\n+                    border: \"2px solid black\",\r\n+                    p: 2,\r\n+                    borderRadius: \"15px\",\r\n+                  }}\r\n+                >\r\n+                  <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n                       <InputField\r\n-                        label=\"Token\"\r\n+                        label=\"Invoice No\"\r\n                         size=\"small\"\r\n-                        disabled={fieldsDisabled}\r\n-                        placeholder=\"Enter Token\"\r\n-                        register={register1(\"token\")}\r\n-                        InputProps={{\r\n-                          endAdornment: (\r\n-                            <IconButton\r\n-                              onClick={() => {\r\n-                                getReceptionDetail(\"token\");\r\n-                                // getReceiptDetail();\r\n-                              }}\r\n-                            >\r\n-                              <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n-                            </IconButton>\r\n-                          ),\r\n-                        }}\r\n+                        placeholder=\"TSL/83540\"\r\n+                        register={register1(\"invoice_no\")}\r\n                       />\r\n                     </Grid>\r\n-                    <Grid item md={3} sm={12} xs={12}>\r\n-                      <InputField\r\n-                        label={\"Mobile *:\"}\r\n+                    <Grid item xs={5.7}>\r\n+                      <DatePicker\r\n+                        label={\"Invoice Date :*\"}\r\n+                        value={date}\r\n                         size={\"small\"}\r\n-                        type={\"number\"}\r\n-                        disabled={fieldsDisabled}\r\n-                        placeholder={\"Mobile\"}\r\n-                        InputProps={{\r\n-                          endAdornment: (\r\n-                            <IconButton\r\n-                              onClick={() => {\r\n-                                getReceptionDetail(\"mobile\");\r\n-                                // getReceiptDetail();\r\n-                              }}\r\n-                            >\r\n-                              <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n-                            </IconButton>\r\n-                          ),\r\n+                        error={errors1?.invoice_date?.message}\r\n+                        register={register1(\"invoice_date\", {\r\n+                          required: date ? false : \"please enter  date.\",\r\n+                        })}\r\n+                        maxDate={new Date()}\r\n+                        onChange={(date) => {\r\n+                          setValue1(\"invoice_date\", date);\r\n+                          setDate(new Date(date));\r\n                         }}\r\n-                        register={register1(\"mobileValue\", {\r\n-                          required: \"Please enter your mobile.\",\r\n-                          \r\n-                          onChange: (e) => {\r\n-                            console.log(\"asdas\");\r\n-                            if (getValues1(\"mobileValue\").length == 10) {\r\n-                              //  getReceiptDetail()\r\n-                            }\r\n-\r\n-                            // Delay the execution of verifyEmail by 2 seconds\r\n-                          },\r\n-                        })}\r\n                       />\r\n                     </Grid>\r\n-                    <Grid item md={1} sm={12} xs={12} mt={2}>\r\n-                      <PrimaryButton\r\n-                        bgcolor={\"#bd9b4a\"}\r\n-                        title=\"Clear\"\r\n-                        onClick={() => {\r\n-                          setFieldsDisabled(false);\r\n-                          setValue1(\"customer\", \"\");\r\n-                          setValue1(\"invoice_date\", moment().toDate());\r\n-                          setValue1(\"mobile\", \"\");\r\n-                          setValue1(\"ref\", \"\");\r\n-                          setValue1(\"display_customer\", \"\");\r\n-                          setValue1(\"email\", \"\");\r\n-                          setValue1(\"address\", \"\");\r\n-                         \r\n-                          setValue1(\"mobileValue\", \"\");\r\n-                          setValue1(\"token\", \"\");\r\n \r\n-                          setAccounts(\"\");\r\n+                    <Grid item xs={5.7}>\r\n+                      <SelectField\r\n+                        size={\"small\"}\r\n+                        label={\"Customer *:\"}\r\n+                        disabled={true}\r\n+                        options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n+                        selected={selectedCustomer}\r\n+                        onSelect={(value) => {\r\n+                          setSelectedCustomer(value);\r\n                         }}\r\n-                        // loading={loading}\r\n+                        error={errors1?.customer?.message}\r\n+                        register={register1(\"customer\", {\r\n+                          required: false,\r\n+                        })}\r\n                       />\r\n                     </Grid>\r\n                   </Grid>\r\n                 </Grid>\r\n-              </Grid>\r\n+                <Grid\r\n+                  item\r\n+                  md={5.5}\r\n+                  sm={12}\r\n+                  xs={12}\r\n+                  sx={{\r\n+                    border: \"2px solid black\",\r\n+                    p: 2,\r\n+                    borderRadius: \"15px\",\r\n+                    mt: { md: 0, sm: 2, xs: 2 },\r\n+                  }}\r\n+                >\r\n+                  <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Display Customer\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Walk-in Customer\"\r\n+                        register={register1(\"display_customer\", {\r\n+                          required: \"please enter display name.\",\r\n+                        })}\r\n+                        error={errors1?.display_customer?.message}\r\n+                      />\r\n+                    </Grid>\r\n \r\n-              <Grid\r\n-                item\r\n-                md={5.5}\r\n-                sm={12}\r\n-                xs={12}\r\n-                sx={{\r\n-                  border: \"2px solid black\",\r\n-                  p: 2,\r\n-                  borderRadius: \"15px\",\r\n-                }}\r\n-              >\r\n-                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Invoice No\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"TSL/83540\"\r\n-                      register={register1(\"invoice_no\")}\r\n-                    />\r\n-                  </Grid>\r\n-                  <Grid item xs={5.7}>\r\n-                    <DatePicker\r\n-                      label={\"Invoice Date :*\"}\r\n-                      value={date}\r\n-                      size={\"small\"}\r\n-                      error={errors1?.invoice_date?.message}\r\n-                      register={register1(\"invoice_date\", {\r\n-                        required: date ? false : \"please enter  date.\",\r\n-                      })}\r\n-                      maxDate={new Date()}\r\n-                      onChange={(date) => {\r\n-                        setValue1(\"invoice_date\", date);\r\n-                        setDate(new Date(date));\r\n-                      }}\r\n-                    />\r\n-                  </Grid>\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Mobile\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Mobile No\"\r\n+                        register={register1(\"mobile\", {\r\n+                          required: \"please enter mobile .\",\r\n+                        })}\r\n+                        error={errors1?.display_customer?.message}\r\n+                      />\r\n+                    </Grid>\r\n \r\n-                  <Grid item xs={5.7}>\r\n-                    <SelectField\r\n-                      size={\"small\"}\r\n-                      label={\"Customer *:\"}\r\n-                      disabled={true}\r\n-                      options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n-                      selected={selectedCustomer}\r\n-                      onSelect={(value) => {\r\n-                        setSelectedCustomer(value);\r\n-                      }}\r\n-                      error={errors1?.customer?.message}\r\n-                      register={register1(\"customer\", {\r\n-                        required: false,\r\n-                      })}\r\n-                    />\r\n-                  </Grid>\r\n-                </Grid>\r\n-              </Grid>\r\n-              <Grid\r\n-                item\r\n-                md={5.5}\r\n-                sm={12}\r\n-                xs={12}\r\n-                sx={{\r\n-                  border: \"2px solid black\",\r\n-                  p: 2,\r\n-                  borderRadius: \"15px\",\r\n-                  mt: { md: 0, sm: 2, xs: 2 },\r\n-                }}\r\n-              >\r\n-                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Display Customer\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Walk-in Customer\"\r\n-                      register={register1(\"display_customer\", {\r\n-                        required: \"please enter display name.\",\r\n-                      })}\r\n-                      error={errors1?.display_customer?.message}\r\n-                    />\r\n-                  </Grid>\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Email\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Email\"\r\n+                        register={register1(\"email\", {\r\n+                          required: \"please enter email .\",\r\n+                        })}\r\n+                        error={errors1?.email?.message}\r\n+                      />\r\n+                    </Grid>\r\n \r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Mobile\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Mobile No\"\r\n-                      register={register1(\"mobile\", {\r\n-                        required: \"please enter mobile .\",\r\n-                      })}\r\n-                      error={errors1?.display_customer?.message}\r\n-                    />\r\n-                  </Grid>\r\n \r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Email\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Email\"\r\n-                      register={register1(\"email\", {\r\n-                        required: \"please enter email .\",\r\n-                      })}\r\n-                      error={errors1?.email?.message}\r\n-                    />\r\n-                  </Grid>\r\n-           \r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Ref\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Reference\"\r\n+                        register={register1(\"ref\")}\r\n+                      />\r\n+                    </Grid>\r\n \r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Ref\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Reference\"\r\n-                      register={register1(\"ref\")}\r\n-                    />\r\n-                  </Grid>\r\n \r\n-                  \r\n-                  <Grid item md={5.7} sm={12} xs={12}>\r\n-                    <InputField\r\n-                      label=\"Address\"\r\n-                      size=\"small\"\r\n-                      placeholder=\"Address\"\r\n-                      multiline\r\n-                      rows={2}\r\n-                      register={register1(\"address\", {\r\n-                        required: \"please enter address .\",\r\n-                      })}\r\n-                      error={errors1?.address?.message}\r\n-                    />\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Address\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Address\"\r\n+                        multiline\r\n+                        rows={2}\r\n+                        register={register1(\"address\", {\r\n+                          required: \"please enter address .\",\r\n+                        })}\r\n+                        error={errors1?.address?.message}\r\n+                      />\r\n+                    </Grid>\r\n                   </Grid>\r\n                 </Grid>\r\n               </Grid>\r\n-            </Grid>\r\n-          </Box>\r\n+            </Box>\r\n \r\n           </Box>\r\n \r\n           <form>\r\n@@ -915,9 +935,9 @@\n                     sx={{ display: \"flex\", gap: 2, justifyContent: \"center\" }}\r\n                   >\r\n                     <Button\r\n                       type=\"submit\"\r\n-                   \r\n+\r\n                       disabled={rows?.length === 0}\r\n                       variant=\"contained\"\r\n                       sx={{\r\n                         width: \"350px\",\r\n"
                },
                {
                    "date": 1744730590973,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,978 @@\n+import React, { useEffect, useRef, useState } from \"react\";\r\n+import {\r\n+  Avatar,\r\n+  Box,\r\n+  Checkbox,\r\n+  Container,\r\n+  FormControlLabel,\r\n+  FormLabel,\r\n+  Grid,\r\n+  IconButton,\r\n+  InputLabel,\r\n+  Radio,\r\n+  RadioGroup,\r\n+  Table,\r\n+  TableCell,\r\n+  TableContainer,\r\n+  TableRow,\r\n+  Typography,\r\n+  TableBody,\r\n+  TableHead,\r\n+  TextField,\r\n+  Paper,\r\n+} from \"@mui/material\";\r\n+import AddIcon from \"@mui/icons-material/Add\";\r\n+import RegisterContainer from \"container/Register\";\r\n+import { useTheme } from \"@mui/material/styles\";\r\n+import MobileStepper from \"@mui/material/MobileStepper\";\r\n+import Button from \"@mui/material/Button\";\r\n+import KeyboardArrowLeft from \"@mui/icons-material/KeyboardArrowLeft\";\r\n+import KeyboardArrowRight from \"@mui/icons-material/KeyboardArrowRight\";\r\n+import { PrimaryButton } from \"components/Buttons\";\r\n+import Colors from \"assets/Style/Colors\";\r\n+import DeleteIcon from \"@mui/icons-material/Delete\";\r\n+import { Controller, useForm } from \"react-hook-form\";\r\n+import UploadFile from \"components/UploadFile\";\r\n+import InputField from \"components/Input\";\r\n+import DatePicker from \"components/DatePicker\";\r\n+import { ErrorToaster } from \"components/Toaster\";\r\n+import { FormControl } from \"@mui/base\";\r\n+import LabelCustomInput from \"components/Input/LabelCustomInput\";\r\n+import SelectField from \"components/Select\";\r\n+import {\r\n+  CleanTypes,\r\n+  Debounce,\r\n+  Debounce2,\r\n+  getFileSize,\r\n+  handleDownload,\r\n+} from \"utils\";\r\n+import instance from \"config/axios\";\r\n+import routes from \"services/System/routes\";\r\n+import CustomerServices from \"services/Customer\";\r\n+import CustomerService from \"../DashboardPages/CustomerService\";\r\n+import { showErrorToast, showPromiseToast } from \"components/NewToaster\";\r\n+import moment from \"moment\";\r\n+import { Link, useNavigate } from \"react-router-dom\";\r\n+import SystemServices from \"services/System\";\r\n+import UploadFileSingle from \"components/UploadFileSingle\";\r\n+import { Images } from \"assets\";\r\n+import { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\n+import { addMonths, max } from \"date-fns\";\r\n+import { useAuth } from \"context/UseContext\";\r\n+import DoDisturbIcon from \"@mui/icons-material/DoDisturb\";\r\n+import axios from \"axios\";\r\n+import UploadIcon from \"@mui/icons-material/Upload\";\r\n+import FinanceServices from \"services/Finance\";\r\n+import SearchIcon from \"@mui/icons-material/Search\";\r\n+// import { TableBody, TableHead } from \"mui-datatables\";\r\n+\r\n+function SalesReciept() {\r\n+  const theme = useTheme();\r\n+  const { user } = useAuth();\r\n+  const navigate = useNavigate();\r\n+  const [formChange, setFormChange] = useState(false);\r\n+  const [submit, setSubmit] = useState(false);\r\n+  const [excludeFromSales, setExcludeFromSales] = useState(\"no\");\r\n+  const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n+  const [total, setTotal] = useState(0);\r\n+  const [subTotal, setSubTotal] = useState(0);\r\n+  const [rows, setRows] = useState([]);\r\n+  const [invoiceData, setInvoiceData] = useState(null)\r\n+\r\n+  console.log(rows, \"data\");\r\n+  const [items, setItems] = useState([\r\n+    {\r\n+      itemCode: \"\",\r\n+      itemDescription: \"TASHEEL AUTO 19\",\r\n+      totalCharge: 17.1,\r\n+      mbNo: \"\",\r\n+      applicationId: \"\",\r\n+      total: 17.1,\r\n+    },\r\n+  ]);\r\n+\r\n+  // const addItem = () => {\r\n+  //   const newItem = {\r\n+  //     itemCode: \"\",\r\n+  //     itemDescription: \"\",\r\n+  //     totalCharge: 0,\r\n+  //     mbNo: \"\",\r\n+  //     applicationId: \"\",\r\n+  //     total: 0,\r\n+  //   };\r\n+  //   setItems([...items, newItem]);\r\n+  // };\r\n+\r\n+  const {\r\n+    register,\r\n+    handleSubmit,\r\n+    getValues,\r\n+    setValue,\r\n+    watch,\r\n+    reset,\r\n+    formState: { errors },\r\n+  } = useForm();\r\n+  const {\r\n+    register: register1,\r\n+    handleSubmit: handleSubmit1,\r\n+    setValue: setValue1,\r\n+    getValues: getValues1,\r\n+    control,\r\n+    watch: watch1,\r\n+    formState: { errors: errors1 },\r\n+  } = useForm();\r\n+  console.log(errors1);\r\n+\r\n+  // Watch all form data\r\n+\r\n+  // Watch for changes in the fee-related fields\r\n+  const govtFee = watch(\"govt_fee\", 0);\r\n+  const centerFee = watch(\"center_fee\", 0);\r\n+  const bankCharges = watch(\"bank_charge\", 0);\r\n+  const qty = watch(\"quantity\", 1);\r\n+  useEffect(() => {\r\n+    const feesTotal =\r\n+      (parseFloat(govtFee) || 0) +\r\n+      (parseFloat(centerFee) || 0) +\r\n+      (parseFloat(bankCharges) || 0);\r\n+    const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n+    setValue(\"total\", finalTotal);\r\n+  }, [govtFee, centerFee, bankCharges, qty]);\r\n+\r\n+  const addItem = (data) => {\r\n+    const total = data.total;\r\n+    setRows((prevRows) => {\r\n+      const updatedRows = [...prevRows, data];\r\n+      const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n+      setSubTotal(newSubTotal);\r\n+      return updatedRows;\r\n+    });\r\n+    reset();\r\n+    setServiceItem(\"\");\r\n+  };\r\n+\r\n+  const [activeStep, setActiveStep] = React.useState(1);\r\n+\r\n+  // const [fieldsDisabled, setFieldsDisabled] = useState({\r\n+  //   monthlyVisaServiceCharges: false,\r\n+  //   vipMedical: false,\r\n+  //   extraTyping: true,\r\n+  // });\r\n+  const [fieldsDisabled, setFieldsDisabled] = useState(false);\r\n+\r\n+  const [center, setCenter] = useState(null);\r\n+  const [status, setStatus] = useState(null);\r\n+\r\n+  // *For Stepper Forms Data\r\n+  const [stepFormData, setStepFormData] = useState();\r\n+  const [step1FormData, setStep1FormData] = useState();\r\n+  const [selectedType, setSelectedType] = useState(null);\r\n+  const [date, setDate] = useState(new Date());\r\n+  const [balanceType, setBalanceType] = useState(null);\r\n+  const [imageURL, setImageURL] = useState(null);\r\n+  const fileInputRef = useRef(null);\r\n+  const [hovered, setHovered] = useState(false);\r\n+  const [accounts, setAccounts] = useState([]);\r\n+  const [salesAccount, setSalesAccount] = useState(null);\r\n+  const [inventoryAccount, setInventoryAccount] = useState(null);\r\n+  const [cogsAccount, setCogsAccount] = useState(null);\r\n+  const [adjustmentAccount, setAdjustmentAccount] = useState(null);\r\n+  const [assemblyAccount, setAssemblyAccount] = useState(null);\r\n+  const [itemType, setItemType] = useState(null);\r\n+  const [unit, setUnit] = useState(null);\r\n+  const [taxes, setTaxes] = useState([]);\r\n+  const [tax, setTax] = useState(null);\r\n+  const [category, setCategory] = useState(null);\r\n+  const [categories, setCategories] = useState(null);\r\n+  const [governmentAccount, setGovernmnentAccount] = useState(null);\r\n+  const [description, setDescription] = useState(null);\r\n+  const [ownGovBank, setOwnGovBank] = useState(null);\r\n+  const [services, setServices] = useState([]);\r\n+  const [serviceItem, setServiceItem] = useState(null);\r\n+  const [selectedCustomer, setSelectedCustomer] = useState(null);\r\n+  const [detail, setDetail] = useState(null);\r\n+  const [holdState, setHoldState] = useState(true);\r\n+  // const [fieldsDisabled, setFieldsDisabled] = useState(false)\r\n+\r\n+  //documents array\r\n+\r\n+  const handleNext = () => {\r\n+    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n+  };\r\n+\r\n+  const submitForm1 = async (formData) => {\r\n+    console.log(formData);\r\n+    try {\r\n+\r\n+      let invoice = {\r\n+        date: moment(date).format(\"DD-MM-YYYY\"),\r\n+        invoiceType: detail?.invoice_number,\r\n+\r\n+        trn: formData?.trn,\r\n+        tokenNumber: detail?.token_number,\r\n+        customerName: formData?.display_customer,\r\n+        mobileNo: formData?.mobile,\r\n+        customerReference: formData?.ref,\r\n+        customerAddress: formData?.address,\r\n+        items: rows,\r\n+        totalSales: 367.25,\r\n+        netTaxableAmount: 27.5,\r\n+        totalVAT: 1.38,\r\n+        grossTotal: 396.13,\r\n+        customerCardPayment: 0.0,\r\n+        totalPayable: 396.13,\r\n+      };\r\n+      setInvoiceData(invoice)\r\n+      let obj = {\r\n+        token_number: formData?.token,\r\n+        token_date: date,\r\n+        invoice_prefix: \"AAD\",\r\n+\r\n+        customer_name: formData?.display_customer,\r\n+        reception_id: detail?.id,\r\n+        customer_mobile: formData?.mobile,\r\n+        customer_email: formData?.email,\r\n+        ref: formData?.ref,\r\n+        total_amount: subTotal,\r\n+\r\n+        items: rows,\r\n+      };\r\n+      console.log(formData, \"formData\");\r\n+      const promise = CustomerServices.CreateSaleReceipt(obj);\r\n+\r\n+      showPromiseToast(\r\n+        promise,\r\n+        \"Saving...\",\r\n+        \"Added Successfully\",\r\n+        \"Something Went Wrong\"\r\n+      );\r\n+      const response = await promise;\r\n+      if (response?.responseCode === 200) {\r\n+        navigate(\"/pre-sales\");\r\n+      }\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    }\r\n+  };\r\n+\r\n+  // *For Get Account\r\n+  const getReceptionDetail = async (value) => {\r\n+    setFieldsDisabled(true);\r\n+\r\n+    try {\r\n+      let params =\r\n+        value === \"token\"\r\n+          ? { token_number: getValues1(\"token\") }\r\n+          : { mobile: getValues1(\"mobileValue\") };\r\n+\r\n+      const { data } = await CustomerServices.getReceptionDetail(params);\r\n+      console.log(data, \"dataaa\");\r\n+      setDetail(data?.token);\r\n+      setValue1(\"customer\", data?.token?.customer_name);\r\n+      setValue1(\"invoice_date\", moment().toDate());\r\n+      setValue1(\"mobile\", data?.token?.mobile);\r\n+      setValue1(\"ref\", data?.token?.reference);\r\n+      setValue1(\"display_customer\", data?.token?.customer_name);\r\n+      setValue1(\"email\", data?.token?.email);\r\n+      setValue1(\"address\", data?.token?.address);\r\n+\r\n+      setValue1(\"token\", data?.token?.token_number);\r\n+      setValue1(\"mobileValue\", data?.token?.mobile);\r\n+\r\n+      setAccounts(data?.accounts?.rows);\r\n+\r\n+      getServiceItem(data?.token?.service_category?.id);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+\r\n+  const getServiceItem = async (id) => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        page: 1,\r\n+        limit: 1000,\r\n+        category_id: id,\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.getServiceItem(params);\r\n+\r\n+      setServices(data?.rows);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  const getInvoiceNumber = async () => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      const { data } = await CustomerServices.getInvoiceNumber();\r\n+\r\n+      console.log(data);\r\n+      setValue1(\"invoice_no\", `AAD/${data?.next_invoice_number}`);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  const handleServiceSelect = async (value) => {\r\n+    console.log(value, \"idididid\");\r\n+    setServiceItem(value);\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        service_id: value?.id,\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.DetailServiceItem(params);\r\n+      setValue(\"service_id\", data?.service?.id);\r\n+      setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n+      setValue(\"center_fee\", data?.service?.center_fee);\r\n+      setValue(\"bank_charge\", data?.service?.bank_service_charge);\r\n+\r\n+      setValue(\"quantity\", 1);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+\r\n+  const getAccounts = async (page, limit, filter) => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        page: 1,\r\n+        limit: 1000,\r\n+      };\r\n+\r\n+      const { data } = await FinanceServices.getAccounts(params);\r\n+      console.log(data?.accounts?.rows);\r\n+\r\n+      setAccounts(data?.accounts?.rows);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  // *For Get Account\r\n+  const getReceiptDetail = async (state) => {\r\n+    setFieldsDisabled(true);\r\n+    try {\r\n+      let params = {\r\n+        token_number: getValues1(\"token\"),\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.getReceiptDetail(params);\r\n+      console.log(data);\r\n+      if (data?.receipt) {\r\n+        setHoldState(true);\r\n+\r\n+        showErrorToast(\"Invoice already exist with this token number\");\r\n+      } else {\r\n+        setHoldState(false);\r\n+      }\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  const getTax = async () => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        page: 1,\r\n+        limit: 1000,\r\n+      };\r\n+\r\n+      const { data } = await FinanceServices.getTax(params);\r\n+      console.log(data?.accounts?.rows);\r\n+\r\n+      setTaxes(data?.tax);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+  const getCategories = async () => {\r\n+    // setLoader(true)\r\n+    try {\r\n+      let params = {\r\n+        page: 1,\r\n+        limit: 1000,\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.getCategoryList(params);\r\n+\r\n+      setCategories(data?.categories);\r\n+    } catch (error) {\r\n+      ErrorToaster(error);\r\n+    } finally {\r\n+      // setLoader(false)\r\n+    }\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    getAccounts();\r\n+    getTax();\r\n+    getCategories();\r\n+    // getServiceItem();\r\n+    getInvoiceNumber();\r\n+    setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" });\r\n+    setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" });\r\n+  }, []);\r\n+\r\n+  const getCustomerDetail2 = async (phone) => {\r\n+    try {\r\n+      let params = {\r\n+        mobile: phone,\r\n+      };\r\n+\r\n+      const { data } = await CustomerServices.getCustomerDetail(params);\r\n+      let detail = data?.customer;\r\n+      console.log(detail);\r\n+      setValue1(\"customer\", detail?.token?.customer_name);\r\n+      setValue1(\"invoice_date\", moment().toDate());\r\n+      setValue1(\"mobile\", detail?.token?.mobile);\r\n+      setValue1(\"ref\", detail?.token?.reference);\r\n+      setValue1(\"display_customer\", detail?.token?.customer_name);\r\n+      setValue1(\"email\", detail?.token?.email);\r\n+      setValue1(\"address\", detail?.token?.address);\r\n+\r\n+      setAccounts(detail?.accounts?.rows);\r\n+\r\n+      getServiceItem(detail?.token?.service_category?.id);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching location:\", error);\r\n+    }\r\n+  };\r\n+  return (\r\n+    <>\r\n+      <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n+        <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n+          <Box>\r\n+            <Box\r\n+              sx={{\r\n+                display: \"flex\",\r\n+                justifyContent: \"space-between\",\r\n+                gap: \"10px\",\r\n+                p: 3,\r\n+                alignItems: \"flex-end\",\r\n+              }}\r\n+            >\r\n+              <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n+                Create Sales Receipt\r\n+              </Typography>\r\n+            </Box>\r\n+\r\n+            <Box sx={{ p: 3 }}>\r\n+              <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                <Grid item xs={12}>\r\n+                  <Grid item xs={12}>\r\n+                    <Grid container gap={2} alignItems={\"center\"}>\r\n+                      <Grid item md={3} sm={12} xs={12}>\r\n+                        <InputField\r\n+                          label=\"Token\"\r\n+                          size=\"small\"\r\n+                          disabled={fieldsDisabled}\r\n+                          placeholder=\"Enter Token\"\r\n+                          register={register1(\"token\")}\r\n+                          InputProps={{\r\n+                            endAdornment: (\r\n+                              <IconButton\r\n+                                onClick={() => {\r\n+                                  getReceptionDetail(\"token\");\r\n+                                  // getReceiptDetail();\r\n+                                }}\r\n+                              >\r\n+                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                              </IconButton>\r\n+                            ),\r\n+                          }}\r\n+                        />\r\n+                      </Grid>\r\n+                      <Grid item md={3} sm={12} xs={12}>\r\n+                        <InputField\r\n+                          label={\"Mobile *:\"}\r\n+                          size={\"small\"}\r\n+                          type={\"number\"}\r\n+                          disabled={fieldsDisabled}\r\n+                          placeholder={\"Mobile\"}\r\n+                          InputProps={{\r\n+                            endAdornment: (\r\n+                              <IconButton\r\n+                                onClick={() => {\r\n+                                  getReceptionDetail(\"mobile\");\r\n+                                  // getReceiptDetail();\r\n+                                }}\r\n+                              >\r\n+                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n+                              </IconButton>\r\n+                            ),\r\n+                          }}\r\n+                          register={register1(\"mobileValue\", {\r\n+                            required: \"Please enter your mobile.\",\r\n+\r\n+                            onChange: (e) => {\r\n+                              console.log(\"asdas\");\r\n+                              if (getValues1(\"mobileValue\").length == 10) {\r\n+                                //  getReceiptDetail()\r\n+                              }\r\n+\r\n+                              // Delay the execution of verifyEmail by 2 seconds\r\n+                            },\r\n+                          })}\r\n+                        />\r\n+                      </Grid>\r\n+                      <Grid item md={1} sm={12} xs={12} mt={2}>\r\n+                        <PrimaryButton\r\n+                          bgcolor={\"#bd9b4a\"}\r\n+                          title=\"Clear\"\r\n+                          onClick={() => {\r\n+                            setFieldsDisabled(false);\r\n+                            setValue1(\"customer\", \"\");\r\n+                            setValue1(\"invoice_date\", moment().toDate());\r\n+                            setValue1(\"mobile\", \"\");\r\n+                            setValue1(\"ref\", \"\");\r\n+                            setValue1(\"display_customer\", \"\");\r\n+                            setValue1(\"email\", \"\");\r\n+                            setValue1(\"address\", \"\");\r\n+\r\n+                            setValue1(\"mobileValue\", \"\");\r\n+                            setValue1(\"token\", \"\");\r\n+\r\n+                            setAccounts(\"\");\r\n+                          }}\r\n+                        // loading={loading}\r\n+                        />\r\n+                      </Grid>\r\n+                    </Grid>\r\n+                  </Grid>\r\n+                </Grid>\r\n+\r\n+                <Grid\r\n+                  item\r\n+                  md={5.5}\r\n+                  sm={12}\r\n+                  xs={12}\r\n+                  sx={{\r\n+                    border: \"2px solid black\",\r\n+                    p: 2,\r\n+                    borderRadius: \"15px\",\r\n+                  }}\r\n+                >\r\n+                  <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Invoice No\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"TSL/83540\"\r\n+                        register={register1(\"invoice_no\")}\r\n+                      />\r\n+                    </Grid>\r\n+                    <Grid item xs={5.7}>\r\n+                      <DatePicker\r\n+                        label={\"Invoice Date :*\"}\r\n+                        value={date}\r\n+                        size={\"small\"}\r\n+                        error={errors1?.invoice_date?.message}\r\n+                        register={register1(\"invoice_date\", {\r\n+                          required: date ? false : \"please enter  date.\",\r\n+                        })}\r\n+                        maxDate={new Date()}\r\n+                        onChange={(date) => {\r\n+                          setValue1(\"invoice_date\", date);\r\n+                          setDate(new Date(date));\r\n+                        }}\r\n+                      />\r\n+                    </Grid>\r\n+\r\n+                    <Grid item xs={5.7}>\r\n+                      <SelectField\r\n+                        size={\"small\"}\r\n+                        label={\"Customer *:\"}\r\n+                        disabled={true}\r\n+                        options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n+                        selected={selectedCustomer}\r\n+                        onSelect={(value) => {\r\n+                          setSelectedCustomer(value);\r\n+                        }}\r\n+                        error={errors1?.customer?.message}\r\n+                        register={register1(\"customer\", {\r\n+                          required: false,\r\n+                        })}\r\n+                      />\r\n+                    </Grid>\r\n+                  </Grid>\r\n+                </Grid>\r\n+                <Grid\r\n+                  item\r\n+                  md={5.5}\r\n+                  sm={12}\r\n+                  xs={12}\r\n+                  sx={{\r\n+                    border: \"2px solid black\",\r\n+                    p: 2,\r\n+                    borderRadius: \"15px\",\r\n+                    mt: { md: 0, sm: 2, xs: 2 },\r\n+                  }}\r\n+                >\r\n+                  <Grid container sx={{ gap: \"5px 25px\" }}>\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Display Customer\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Walk-in Customer\"\r\n+                        register={register1(\"display_customer\", {\r\n+                          required: \"please enter display name.\",\r\n+                        })}\r\n+                        error={errors1?.display_customer?.message}\r\n+                      />\r\n+                    </Grid>\r\n+\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Mobile\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Mobile No\"\r\n+                        register={register1(\"mobile\", {\r\n+                          required: \"please enter mobile .\",\r\n+                        })}\r\n+                        error={errors1?.display_customer?.message}\r\n+                      />\r\n+                    </Grid>\r\n+\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Email\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Email\"\r\n+                        register={register1(\"email\", {\r\n+                          required: \"please enter email .\",\r\n+                        })}\r\n+                        error={errors1?.email?.message}\r\n+                      />\r\n+                    </Grid>\r\n+\r\n+\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Ref\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Reference\"\r\n+                        register={register1(\"ref\")}\r\n+                      />\r\n+                    </Grid>\r\n+\r\n+\r\n+                    <Grid item md={5.7} sm={12} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Address\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Address\"\r\n+                        multiline\r\n+                        rows={2}\r\n+                        register={register1(\"address\", {\r\n+                          required: \"please enter address .\",\r\n+                        })}\r\n+                        error={errors1?.address?.message}\r\n+                      />\r\n+                    </Grid>\r\n+                  </Grid>\r\n+                </Grid>\r\n+              </Grid>\r\n+            </Box>\r\n+\r\n+          </Box>\r\n+\r\n+          <form>\r\n+            <TableContainer component={Paper}>\r\n+              <Table>\r\n+                <TableHead>\r\n+                  <TableRow>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n+                    <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Trans ID</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>App/Case ID</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Ref No</TableCell>\r\n+\r\n+                    <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n+                    <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n+                  </TableRow>\r\n+                </TableHead>\r\n+                <TableBody>\r\n+                  <TableRow>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        disabled={true}\r\n+                        placeholder=\"Item code\"\r\n+                        register={register(\"service_id\", {\r\n+                          required: \"Item code is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.service_id && (\r\n+                        <span>{errors.service_id.message}</span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <SelectField\r\n+                        size=\"small\"\r\n+                        options={services}\r\n+                        selected={serviceItem}\r\n+                        onSelect={handleServiceSelect}\r\n+                        register={register(\"service_description\", {\r\n+                          required: \"Please select a service.\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.service_description && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.service_description.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Quantity\"\r\n+                        type=\"number\"\r\n+                        register={register(\"quantity\", {\r\n+                          required: \"Quantity is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.quantity && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.quantity.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Govt fee\"\r\n+                        type=\"number\"\r\n+                        register={register(\"govt_fee\", {\r\n+                          required: \"Govt fee is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.govt_fee && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.govt_fee.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Center Fee\"\r\n+                        type=\"number\"\r\n+                        register={register(\"center_fee\", {\r\n+                          required: \"Center fee is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.center_fee && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.center_fee.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Bank Charges\"\r\n+                        type=\"number\"\r\n+                        register={register(\"bank_charge\", {\r\n+                          required: \"Bank charges are required\",\r\n+                        })}\r\n+                        disabled\r\n+                      />\r\n+                      {errors.bank_charge && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.bank_charge.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Transaction Id\"\r\n+                        type=\"number\"\r\n+                        register={register(\"transaction_id\", {\r\n+                          required: \"Transaction Id is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.transaction_id && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.transaction_id.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\"Application Id\"\r\n+                        type=\"number\"\r\n+                        register={register(\"application_id\", {\r\n+                          required: \"Application Id is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.application_id && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.application_id.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        size=\"small\"\r\n+                        placeholder=\" Ref No\"\r\n+                        type=\"number\"\r\n+                        register={register(\"ref_no\", {\r\n+                          required: \"Ref No is required\",\r\n+                        })}\r\n+                      />\r\n+                      {errors.ref_no && (\r\n+                        <span style={{ color: \"red\" }}>\r\n+                          {errors.ref_no.message}\r\n+                        </span>\r\n+                      )}\r\n+                    </TableCell>\r\n+\r\n+                    <TableCell>\r\n+                      <InputField\r\n+                        disabled={true}\r\n+                        style={{ border: \"none\" }}\r\n+                        size=\"small\"\r\n+                        register={register(\"total\")}\r\n+                      />\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <Button\r\n+                        variant=\"contained\"\r\n+                        color=\"primary\"\r\n+                        type=\"submit\"\r\n+                        sx={{\r\n+                          textTransform: \"capitalize\",\r\n+                          backgroundColor: \"rgb(189 155 74)\",\r\n+                          fontSize: \"12px\",\r\n+                          \":hover\": {\r\n+                            backgroundColor: \"rgb(189 155 74)\",\r\n+                          },\r\n+                        }}\r\n+                        onClick={handleSubmit(addItem)}\r\n+                      >\r\n+                        <AddIcon />\r\n+                      </Button>\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+\r\n+                  {rows.map((item, index) => (\r\n+                    <TableRow key={index}>\r\n+                      <TableCell>{item?.service_id}</TableCell>\r\n+                      <TableCell>{item?.service_description}</TableCell>\r\n+                      <TableCell>{item?.quantity}</TableCell>\r\n+                      <TableCell>{item?.govt_fee}</TableCell>\r\n+                      <TableCell>{item?.center_fee}</TableCell>\r\n+                      <TableCell>{item?.bank_charge}</TableCell>\r\n+                      <TableCell>{item?.transaction_id}</TableCell>\r\n+                      <TableCell>{item?.application_id}</TableCell>\r\n+                      <TableCell>{item?.ref_no}</TableCell>\r\n+\r\n+                      <TableCell>{item?.total}</TableCell>\r\n+                    </TableRow>\r\n+                  ))}\r\n+\r\n+                  <TableRow>\r\n+                    <TableCell colSpan={9} align=\"right\">\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        Sub-total:\r\n+                      </Typography>\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        {subTotal}\r\n+                      </Typography>{\" \"}\r\n+                      {/* Display the Sub-total */}\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+\r\n+                  {/* Amount Total Row (optional, if needed for the final sum) */}\r\n+                  <TableRow>\r\n+                    <TableCell colSpan={9} align=\"right\">\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        Amount Total:\r\n+                      </Typography>\r\n+                    </TableCell>\r\n+                    <TableCell>\r\n+                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n+                        {subTotal}\r\n+                      </Typography>{\" \"}\r\n+                      {/* This can be the same as Sub-total */}\r\n+                    </TableCell>\r\n+                  </TableRow>\r\n+                </TableBody>\r\n+              </Table>\r\n+            </TableContainer>\r\n+          </form>\r\n+\r\n+          <TableContainer component={Paper}>\r\n+            <Table>\r\n+              <TableRow>\r\n+                <TableCell colSpan={8} align=\"center\">\r\n+                  <Box\r\n+                    sx={{ display: \"flex\", gap: 2, justifyContent: \"center\" }}\r\n+                  >\r\n+                    <Button\r\n+                      type=\"submit\"\r\n+\r\n+                      disabled={rows?.length === 0}\r\n+                      variant=\"contained\"\r\n+                      sx={{\r\n+                        width: \"350px\",\r\n+                        textTransform: \"capitalize\",\r\n+                        backgroundColor: \"#bd9b4a\",\r\n+                        \":hover\": {\r\n+                          backgroundColor: \"rgb(189 155 74)\",\r\n+                        },\r\n+                      }}\r\n+                    >\r\n+                      Place Invoice\r\n+                    </Button>\r\n+                    <Button\r\n+                      onClick={() => navigate(\"/pre-sales\")}\r\n+                      variant=\"contained\"\r\n+                      sx={{\r\n+                        width: \"350px\",\r\n+                        textTransform: \"capitalize\",\r\n+                        backgroundColor: \"#bd9b4a\",\r\n+                        \":hover\": {\r\n+                          backgroundColor: \"rgb(189 155 74)\",\r\n+                        },\r\n+                      }}\r\n+                    >\r\n+                      Cancel\r\n+                    </Button>\r\n+                  </Box>\r\n+                </TableCell>\r\n+              </TableRow>\r\n+            </Table>\r\n+          </TableContainer>\r\n+        </Box>\r\n+      </Box>\r\n+    </>\r\n+  );\r\n+}\r\n+\r\n+export default SalesReciept;\r\n"
                },
                {
                    "date": 1744730644033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -970,986 +970,646 @@\n             </Table>\r\n           </TableContainer>\r\n         </Box>\r\n       </Box>\r\n-    </>\r\n-  );\r\n-}\r\n-\r\n-export default SalesReciept;\r\n-import React, { useEffect, useRef, useState } from \"react\";\r\n-import {\r\n-  Avatar,\r\n-  Box,\r\n-  Checkbox,\r\n-  Container,\r\n-  FormControlLabel,\r\n-  FormLabel,\r\n-  Grid,\r\n-  IconButton,\r\n-  InputLabel,\r\n-  Radio,\r\n-  RadioGroup,\r\n-  Table,\r\n-  TableCell,\r\n-  TableContainer,\r\n-  TableRow,\r\n-  Typography,\r\n-  TableBody,\r\n-  TableHead,\r\n-  TextField,\r\n-  Paper,\r\n-} from \"@mui/material\";\r\n-import AddIcon from \"@mui/icons-material/Add\";\r\n-import RegisterContainer from \"container/Register\";\r\n-import { useTheme } from \"@mui/material/styles\";\r\n-import MobileStepper from \"@mui/material/MobileStepper\";\r\n-import Button from \"@mui/material/Button\";\r\n-import KeyboardArrowLeft from \"@mui/icons-material/KeyboardArrowLeft\";\r\n-import KeyboardArrowRight from \"@mui/icons-material/KeyboardArrowRight\";\r\n-import { PrimaryButton } from \"components/Buttons\";\r\n-import Colors from \"assets/Style/Colors\";\r\n-import DeleteIcon from \"@mui/icons-material/Delete\";\r\n-import { Controller, useForm } from \"react-hook-form\";\r\n-import UploadFile from \"components/UploadFile\";\r\n-import InputField from \"components/Input\";\r\n-import DatePicker from \"components/DatePicker\";\r\n-import { ErrorToaster } from \"components/Toaster\";\r\n-import { FormControl } from \"@mui/base\";\r\n-import LabelCustomInput from \"components/Input/LabelCustomInput\";\r\n-import SelectField from \"components/Select\";\r\n-import {\r\n-  CleanTypes,\r\n-  Debounce,\r\n-  Debounce2,\r\n-  getFileSize,\r\n-  handleDownload,\r\n-} from \"utils\";\r\n-import instance from \"config/axios\";\r\n-import routes from \"services/System/routes\";\r\n-import CustomerServices from \"services/Customer\";\r\n-import CustomerService from \"../DashboardPages/CustomerService\";\r\n-import { showErrorToast, showPromiseToast } from \"components/NewToaster\";\r\n-import moment from \"moment\";\r\n-import { Link, useNavigate } from \"react-router-dom\";\r\n-import SystemServices from \"services/System\";\r\n-import UploadFileSingle from \"components/UploadFileSingle\";\r\n-import { Images } from \"assets\";\r\n-import { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\n-import { addMonths, max } from \"date-fns\";\r\n-import { useAuth } from \"context/UseContext\";\r\n-import DoDisturbIcon from \"@mui/icons-material/DoDisturb\";\r\n-import axios from \"axios\";\r\n-import UploadIcon from \"@mui/icons-material/Upload\";\r\n-import FinanceServices from \"services/Finance\";\r\n-import SearchIcon from \"@mui/icons-material/Search\";\r\n-// import { TableBody, TableHead } from \"mui-datatables\";\r\n-\r\n-function SalesReciept() {\r\n-  const theme = useTheme();\r\n-  const { user } = useAuth();\r\n-  const navigate = useNavigate();\r\n-  const [formChange, setFormChange] = useState(false);\r\n-  const [submit, setSubmit] = useState(false);\r\n-  const [excludeFromSales, setExcludeFromSales] = useState(\"no\");\r\n-  const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n-  const [total, setTotal] = useState(0);\r\n-  const [subTotal, setSubTotal] = useState(0);\r\n-  const [rows, setRows] = useState([]);\r\n-  const [invoiceData, setInvoiceData] = useState(null)\r\n-\r\n-  console.log(rows, \"data\");\r\n-  const [items, setItems] = useState([\r\n-    {\r\n-      itemCode: \"\",\r\n-      itemDescription: \"TASHEEL AUTO 19\",\r\n-      totalCharge: 17.1,\r\n-      mbNo: \"\",\r\n-      applicationId: \"\",\r\n-      total: 17.1,\r\n-    },\r\n-  ]);\r\n-\r\n-  // const addItem = () => {\r\n-  //   const newItem = {\r\n-  //     itemCode: \"\",\r\n-  //     itemDescription: \"\",\r\n-  //     totalCharge: 0,\r\n-  //     mbNo: \"\",\r\n-  //     applicationId: \"\",\r\n-  //     total: 0,\r\n-  //   };\r\n-  //   setItems([...items, newItem]);\r\n-  // };\r\n-\r\n-  const {\r\n-    register,\r\n-    handleSubmit,\r\n-    getValues,\r\n-    setValue,\r\n-    watch,\r\n-    reset,\r\n-    formState: { errors },\r\n-  } = useForm();\r\n-  const {\r\n-    register: register1,\r\n-    handleSubmit: handleSubmit1,\r\n-    setValue: setValue1,\r\n-    getValues: getValues1,\r\n-    control,\r\n-    watch: watch1,\r\n-    formState: { errors: errors1 },\r\n-  } = useForm();\r\n-  console.log(errors1);\r\n-\r\n-  // Watch all form data\r\n-\r\n-  // Watch for changes in the fee-related fields\r\n-  const govtFee = watch(\"govt_fee\", 0);\r\n-  const centerFee = watch(\"center_fee\", 0);\r\n-  const bankCharges = watch(\"bank_charge\", 0);\r\n-  const qty = watch(\"quantity\", 1);\r\n-  useEffect(() => {\r\n-    const feesTotal =\r\n-      (parseFloat(govtFee) || 0) +\r\n-      (parseFloat(centerFee) || 0) +\r\n-      (parseFloat(bankCharges) || 0);\r\n-    const finalTotal = feesTotal * (parseFloat(qty) || 1);\r\n-    setValue(\"total\", finalTotal);\r\n-  }, [govtFee, centerFee, bankCharges, qty]);\r\n-\r\n-  const addItem = (data) => {\r\n-    const total = data.total;\r\n-    setRows((prevRows) => {\r\n-      const updatedRows = [...prevRows, data];\r\n-      const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0);\r\n-      setSubTotal(newSubTotal);\r\n-      return updatedRows;\r\n-    });\r\n-    reset();\r\n-    setServiceItem(\"\");\r\n-  };\r\n-\r\n-  const [activeStep, setActiveStep] = React.useState(1);\r\n-\r\n-  // const [fieldsDisabled, setFieldsDisabled] = useState({\r\n-  //   monthlyVisaServiceCharges: false,\r\n-  //   vipMedical: false,\r\n-  //   extraTyping: true,\r\n-  // });\r\n-  const [fieldsDisabled, setFieldsDisabled] = useState(false);\r\n-\r\n-  const [center, setCenter] = useState(null);\r\n-  const [status, setStatus] = useState(null);\r\n-\r\n-  // *For Stepper Forms Data\r\n-  const [stepFormData, setStepFormData] = useState();\r\n-  const [step1FormData, setStep1FormData] = useState();\r\n-  const [selectedType, setSelectedType] = useState(null);\r\n-  const [date, setDate] = useState(new Date());\r\n-  const [balanceType, setBalanceType] = useState(null);\r\n-  const [imageURL, setImageURL] = useState(null);\r\n-  const fileInputRef = useRef(null);\r\n-  const [hovered, setHovered] = useState(false);\r\n-  const [accounts, setAccounts] = useState([]);\r\n-  const [salesAccount, setSalesAccount] = useState(null);\r\n-  const [inventoryAccount, setInventoryAccount] = useState(null);\r\n-  const [cogsAccount, setCogsAccount] = useState(null);\r\n-  const [adjustmentAccount, setAdjustmentAccount] = useState(null);\r\n-  const [assemblyAccount, setAssemblyAccount] = useState(null);\r\n-  const [itemType, setItemType] = useState(null);\r\n-  const [unit, setUnit] = useState(null);\r\n-  const [taxes, setTaxes] = useState([]);\r\n-  const [tax, setTax] = useState(null);\r\n-  const [category, setCategory] = useState(null);\r\n-  const [categories, setCategories] = useState(null);\r\n-  const [governmentAccount, setGovernmnentAccount] = useState(null);\r\n-  const [description, setDescription] = useState(null);\r\n-  const [ownGovBank, setOwnGovBank] = useState(null);\r\n-  const [services, setServices] = useState([]);\r\n-  const [serviceItem, setServiceItem] = useState(null);\r\n-  const [selectedCustomer, setSelectedCustomer] = useState(null);\r\n-  const [detail, setDetail] = useState(null);\r\n-  const [holdState, setHoldState] = useState(true);\r\n-  // const [fieldsDisabled, setFieldsDisabled] = useState(false)\r\n-\r\n-  //documents array\r\n-\r\n-  const handleNext = () => {\r\n-    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n-  };\r\n-\r\n-  const submitForm1 = async (formData) => {\r\n-    console.log(formData);\r\n-    try {\r\n-\r\n-              let invoice = {\r\n-                  date:moment(date).format(\"DD-MM-YYYY\"),\r\n-                  invoiceType: detail?.invoice_number,\r\n-                  \r\n-                  trn:formData?.trn,\r\n-                  tokenNumber: detail?.token_number,\r\n-                  customerName: formData?.display_customer,\r\n-                  mobileNo: formData?.mobile,\r\n-                  customerReference: formData?.ref,\r\n-                  customerAddress: formData?.address,\r\n-                  items: rows,\r\n-                  totalSales: 367.25,\r\n-                  netTaxableAmount: 27.5,\r\n-                  totalVAT: 1.38,\r\n-                  grossTotal: 396.13,\r\n-                  customerCardPayment: 0.0,\r\n-                  totalPayable: 396.13,\r\n-                };\r\n-          setInvoiceData(invoice)\r\n-      let obj = {\r\n-        token_number: formData?.token,\r\n-        token_date: date,\r\n-        invoice_prefix: \"AAD\",\r\n-\r\n-        customer_name: formData?.display_customer,\r\n-        reception_id: detail?.id,\r\n-        customer_mobile: formData?.mobile,\r\n-        customer_email: formData?.email,\r\n-        ref: formData?.ref,\r\n-        total_amount: subTotal,\r\n-\r\n-        items: rows,\r\n-      };\r\n-      console.log(formData, \"formData\");\r\n-      // const promise = CustomerServices.CreateSaleReceipt(obj);\r\n-\r\n-      // showPromiseToast(\r\n-      //   promise,\r\n-      //   \"Saving...\",\r\n-      //   \"Added Successfully\",\r\n-      //   \"Something Went Wrong\"\r\n-      // );\r\n-      // const response = await promise;\r\n-      // if (response?.responseCode === 200) {\r\n-      //   navigate(\"/pre-sales\");\r\n-      // }\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    }\r\n-  };\r\n-\r\n-  // *For Get Account\r\n-  const getReceptionDetail = async (value) => {\r\n-    setFieldsDisabled(true);\r\n-\r\n-    try {\r\n-      let params =\r\n-        value === \"token\"\r\n-          ? { token_number: getValues1(\"token\") }\r\n-          : { mobile: getValues1(\"mobileValue\") };\r\n-\r\n-      const { data } = await CustomerServices.getReceptionDetail(params);\r\n-      console.log(data, \"dataaa\");\r\n-      setDetail(data?.token);\r\n-      setValue1(\"customer\", data?.token?.customer_name);\r\n-      setValue1(\"invoice_date\", moment().toDate());\r\n-      setValue1(\"mobile\", data?.token?.mobile);\r\n-      setValue1(\"ref\", data?.token?.reference);\r\n-      setValue1(\"display_customer\", data?.token?.customer_name);\r\n-      setValue1(\"email\", data?.token?.email);\r\n-      setValue1(\"address\", data?.token?.address);\r\n-\r\n-      setValue1(\"token\", data?.token?.token_number);\r\n-      setValue1(\"mobileValue\", data?.token?.mobile);\r\n-\r\n-      setAccounts(data?.accounts?.rows);\r\n-\r\n-      getServiceItem(data?.token?.service_category?.id);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-\r\n-  const getServiceItem = async (id) => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-        category_id: id,\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.getServiceItem(params);\r\n-\r\n-      setServices(data?.rows);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const getInvoiceNumber = async () => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      const { data } = await CustomerServices.getInvoiceNumber();\r\n-\r\n-      console.log(data);\r\n-      setValue1(\"invoice_no\", `AAD/${data?.next_invoice_number}`);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const handleServiceSelect = async (value) => {\r\n-    console.log(value, \"idididid\");\r\n-    setServiceItem(value);\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        service_id: value?.id,\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.DetailServiceItem(params);\r\n-      setValue(\"service_id\", data?.service?.id);\r\n-      setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n-      setValue(\"center_fee\", data?.service?.center_fee);\r\n-      setValue(\"bank_charge\", data?.service?.bank_service_charge);\r\n-\r\n-      setValue(\"quantity\", 1);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-\r\n-  const getAccounts = async (page, limit, filter) => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n-\r\n-      const { data } = await FinanceServices.getAccounts(params);\r\n-      console.log(data?.accounts?.rows);\r\n-\r\n-      setAccounts(data?.accounts?.rows);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  // *For Get Account\r\n-  const getReceiptDetail = async (state) => {\r\n-    setFieldsDisabled(true);\r\n-    try {\r\n-      let params = {\r\n-        token_number: getValues1(\"token\"),\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.getReceiptDetail(params);\r\n-      console.log(data);\r\n-      if (data?.receipt) {\r\n-        setHoldState(true);\r\n-\r\n-        showErrorToast(\"Invoice already exist with this token number\");\r\n-      } else {\r\n-        setHoldState(false);\r\n-      }\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const getTax = async () => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n-\r\n-      const { data } = await FinanceServices.getTax(params);\r\n-      console.log(data?.accounts?.rows);\r\n-\r\n-      setTaxes(data?.tax);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-  const getCategories = async () => {\r\n-    // setLoader(true)\r\n-    try {\r\n-      let params = {\r\n-        page: 1,\r\n-        limit: 1000,\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.getCategoryList(params);\r\n-\r\n-      setCategories(data?.categories);\r\n-    } catch (error) {\r\n-      ErrorToaster(error);\r\n-    } finally {\r\n-      // setLoader(false)\r\n-    }\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    getAccounts();\r\n-    getTax();\r\n-    getCategories();\r\n-    // getServiceItem();\r\n-    getInvoiceNumber();\r\n-    setSelectedCustomer({ id: \"walkin\", name: \"Walk-in Customer\" });\r\n-    setValue1(\"customer\", { id: \"walkin\", name: \"Walk-in Customer\" });\r\n-  }, []);\r\n-\r\n-  const getCustomerDetail2 = async (phone) => {\r\n-    try {\r\n-      let params = {\r\n-        mobile: phone,\r\n-      };\r\n-\r\n-      const { data } = await CustomerServices.getCustomerDetail(params);\r\n-      let detail = data?.customer;\r\n-      console.log(detail);\r\n-      setValue1(\"customer\", detail?.token?.customer_name);\r\n-      setValue1(\"invoice_date\", moment().toDate());\r\n-      setValue1(\"mobile\", detail?.token?.mobile);\r\n-      setValue1(\"ref\", detail?.token?.reference);\r\n-      setValue1(\"display_customer\", detail?.token?.customer_name);\r\n-      setValue1(\"email\", detail?.token?.email);\r\n-      setValue1(\"address\", detail?.token?.address);\r\n-\r\n-      setAccounts(detail?.accounts?.rows);\r\n-\r\n-      getServiceItem(detail?.token?.service_category?.id);\r\n-    } catch (error) {\r\n-      console.error(\"Error fetching location:\", error);\r\n-    }\r\n-  };\r\n-  return (\r\n-    <>\r\n-      <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n-        <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n-          <Box>\r\n+            <Box className=\"showPdf\"  ref={invoiceRef} sx={{ padding: \"20px 60px\" }}>\r\n+            <div className=\"w-full h-[115px] flex justify-center items-center mb-4\">\r\n+              <img\r\n+                src={Images.header}\r\n+                alt=\"Header\"\r\n+                style={{ width: \"100%\" }}\r\n+                className=\"max-w-full h-auto\"\r\n+              />\r\n+            </div>\r\n+      \r\n             <Box\r\n               sx={{\r\n                 display: \"flex\",\r\n-                justifyContent: \"space-between\",\r\n-                gap: \"10px\",\r\n-                p: 3,\r\n-                alignItems: \"flex-end\",\r\n+                border: \"1px solid #000\",\r\n+                my: 2,\r\n+                fontSize: \"15px\",\r\n               }}\r\n             >\r\n-              <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n-                Create Sales Receipt\r\n-              </Typography>\r\n-            </Box>\r\n-\r\n-            <Box sx={{ p: 3 }}>\r\n-              <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                <Grid item xs={12}>\r\n-                  <Grid item xs={12}>\r\n-                    <Grid container gap={2} alignItems={\"center\"}>\r\n-                      <Grid item md={3} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Token\"\r\n-                          size=\"small\"\r\n-                          disabled={fieldsDisabled}\r\n-                          placeholder=\"Enter Token\"\r\n-                          register={register1(\"token\")}\r\n-                          InputProps={{\r\n-                            endAdornment: (\r\n-                              <IconButton\r\n-                                onClick={() => {\r\n-                                  getReceptionDetail(\"token\");\r\n-                                  // getReceiptDetail();\r\n-                                }}\r\n-                              >\r\n-                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n-                              </IconButton>\r\n-                            ),\r\n-                          }}\r\n-                        />\r\n-                      </Grid>\r\n-                      <Grid item md={3} sm={12} xs={12}>\r\n-                        <InputField\r\n-                          label={\"Mobile *:\"}\r\n-                          size={\"small\"}\r\n-                          type={\"number\"}\r\n-                          disabled={fieldsDisabled}\r\n-                          placeholder={\"Mobile\"}\r\n-                          InputProps={{\r\n-                            endAdornment: (\r\n-                              <IconButton\r\n-                                onClick={() => {\r\n-                                  getReceptionDetail(\"mobile\");\r\n-                                  // getReceiptDetail();\r\n-                                }}\r\n-                              >\r\n-                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n-                              </IconButton>\r\n-                            ),\r\n-                          }}\r\n-                          register={register1(\"mobileValue\", {\r\n-                            required: \"Please enter your mobile.\",\r\n-\r\n-                            onChange: (e) => {\r\n-                              console.log(\"asdas\");\r\n-                              if (getValues1(\"mobileValue\").length == 10) {\r\n-                                //  getReceiptDetail()\r\n-                              }\r\n-\r\n-                              // Delay the execution of verifyEmail by 2 seconds\r\n-                            },\r\n-                          })}\r\n-                        />\r\n-                      </Grid>\r\n-                      <Grid item md={1} sm={12} xs={12} mt={2}>\r\n-                        <PrimaryButton\r\n-                          bgcolor={\"#bd9b4a\"}\r\n-                          title=\"Clear\"\r\n-                          onClick={() => {\r\n-                            setFieldsDisabled(false);\r\n-                            setValue1(\"customer\", \"\");\r\n-                            setValue1(\"invoice_date\", moment().toDate());\r\n-                            setValue1(\"mobile\", \"\");\r\n-                            setValue1(\"ref\", \"\");\r\n-                            setValue1(\"display_customer\", \"\");\r\n-                            setValue1(\"email\", \"\");\r\n-                            setValue1(\"address\", \"\");\r\n-\r\n-                            setValue1(\"mobileValue\", \"\");\r\n-                            setValue1(\"token\", \"\");\r\n-\r\n-                            setAccounts(\"\");\r\n-                          }}\r\n-                        // loading={loading}\r\n-                        />\r\n-                      </Grid>\r\n-                    </Grid>\r\n+              <Box\r\n+                sx={{\r\n+                  width: \"50%\",\r\n+                  p: 2,\r\n+                  borderRight: \"1px solid #000\",\r\n+                  display: \"flex\",\r\n+                  flexDirection: \"column\",\r\n+                }}\r\n+              >\r\n+                <Box sx={{ mb: 1 }}>\r\n+                  <Barcode\r\n+                    value={detail?.id}\r\n+                    width={1.4}\r\n+                    height={40}\r\n+                    displayValue={false}\r\n+                  />\r\n+                  <Typography\r\n+                    variant=\"body2\"\r\n+                    align=\"left\"\r\n+                    sx={{ fontSize: \"15px\", ml: 3 }}\r\n+                  >\r\n+                    {detail?.id}\r\n+                  </Typography>\r\n+                </Box>\r\n+      \r\n+                <Grid container spacing={1}>\r\n+                  <Grid item xs={6}>\r\n+                    <p\r\n+                      variant=\"body2\"\r\n+                      style={{\r\n+                         fontWeight: \"bold\", fontSize: \"12px\" ,\r\n+                         margin: 0\r\n+                      }}\r\n+                    >\r\n+                      Date/التاريخ والوقت\r\n+                    </p>\r\n                   </Grid>\r\n-                </Grid>\r\n-\r\n-                <Grid\r\n-                  item\r\n-                  md={5.5}\r\n-                  sm={12}\r\n-                  xs={12}\r\n-                  sx={{\r\n-                    border: \"2px solid black\",\r\n-                    p: 2,\r\n-                    borderRadius: \"15px\",\r\n-                  }}\r\n-                >\r\n-                  <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                    <Grid item md={5.7} sm={12} xs={12}>\r\n-                      <InputField\r\n-                        label=\"Invoice No\"\r\n-                        size=\"small\"\r\n-                        placeholder=\"TSL/83540\"\r\n-                        register={register1(\"invoice_no\")}\r\n-                      />\r\n-                    </Grid>\r\n-                    <Grid item xs={5.7}>\r\n-                      <DatePicker\r\n-                        label={\"Invoice Date :*\"}\r\n-                        value={date}\r\n-                        size={\"small\"}\r\n-                        error={errors1?.invoice_date?.message}\r\n-                        register={register1(\"invoice_date\", {\r\n-                          required: date ? false : \"please enter  date.\",\r\n-                        })}\r\n-                        maxDate={new Date()}\r\n-                        onChange={(date) => {\r\n-                          setValue1(\"invoice_date\", date);\r\n-                          setDate(new Date(date));\r\n-                        }}\r\n-                      />\r\n-                    </Grid>\r\n-\r\n-                    <Grid item xs={5.7}>\r\n-                      <SelectField\r\n-                        size={\"small\"}\r\n-                        label={\"Customer *:\"}\r\n-                        disabled={true}\r\n-                        options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n-                        selected={selectedCustomer}\r\n-                        onSelect={(value) => {\r\n-                          setSelectedCustomer(value);\r\n-                        }}\r\n-                        error={errors1?.customer?.message}\r\n-                        register={register1(\"customer\", {\r\n-                          required: false,\r\n-                        })}\r\n-                      />\r\n-                    </Grid>\r\n+                  <Grid item xs={6}>\r\n+                    <Typography variant=\"body2\" sx={{ fontSize: \"12px\" }}>\r\n+                      {invoiceData?.date}\r\n+                    </Typography>\r\n                   </Grid>\r\n+      \r\n+                  <Grid item xs={6}>\r\n+                    <Typography\r\n+                      variant=\"body2\"\r\n+                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                    >\r\n+                      Invoice Type - Invoice No\r\n+                    </Typography>\r\n+                  </Grid>\r\n+                  <Grid item xs={6}>\r\n+                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                      {invoiceData?.invoiceType}\r\n+                    </Typography>\r\n+                  </Grid>\r\n+      \r\n+                  <Grid item xs={6}>\r\n+                    <Typography\r\n+                      variant=\"body2\"\r\n+                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                    >\r\n+                      TRN:\r\n+                    </Typography>\r\n+                  </Grid>\r\n+                  <Grid item xs={6}>\r\n+                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                      {invoiceData?.trn}\r\n+                    </Typography>\r\n+                  </Grid>\r\n+      \r\n+                  <Grid item xs={6}>\r\n+                    <Typography\r\n+                      variant=\"body2\"\r\n+                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                    >\r\n+                      Token Number\r\n+                    </Typography>\r\n+                  </Grid>\r\n+                  <Grid item xs={6}>\r\n+                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                      {invoiceData?.tokenNumber}\r\n+                    </Typography>\r\n+                  </Grid>\r\n                 </Grid>\r\n-                <Grid\r\n-                  item\r\n-                  md={5.5}\r\n-                  sm={12}\r\n-                  xs={12}\r\n-                  sx={{\r\n-                    border: \"2px solid black\",\r\n-                    p: 2,\r\n-                    borderRadius: \"15px\",\r\n-                    mt: { md: 0, sm: 2, xs: 2 },\r\n+              </Box>\r\n+      \r\n+              <Box sx={{ width: \"50%\", p: 2 }}>\r\n+                <p\r\n+                  variant=\"body2\"\r\n+                  style={{\r\n+                    fontSize: \"14px\",\r\n+                    textAlign: \"center\",\r\n+                   \r\n+                    marginBottom: 2,\r\n                   }}\r\n                 >\r\n-                  <Grid container sx={{ gap: \"5px 25px\" }}>\r\n-                    <Grid item md={5.7} sm={12} xs={12}>\r\n-                      <InputField\r\n-                        label=\"Display Customer\"\r\n-                        size=\"small\"\r\n-                        placeholder=\"Walk-in Customer\"\r\n-                        register={register1(\"display_customer\", {\r\n-                          required: \"please enter display name.\",\r\n-                        })}\r\n-                        error={errors1?.display_customer?.message}\r\n-                      />\r\n-                    </Grid>\r\n-\r\n-                    <Grid item md={5.7} sm={12} xs={12}>\r\n-                      <InputField\r\n-                        label=\"Mobile\"\r\n-                        size=\"small\"\r\n-                        placeholder=\"Mobile No\"\r\n-                        register={register1(\"mobile\", {\r\n-                          required: \"please enter mobile .\",\r\n-                        })}\r\n-                        error={errors1?.display_customer?.message}\r\n-                      />\r\n-                    </Grid>\r\n-\r\n-                    <Grid item md={5.7} sm={12} xs={12}>\r\n-                      <InputField\r\n-                        label=\"Email\"\r\n-                        size=\"small\"\r\n-                        placeholder=\"Email\"\r\n-                        register={register1(\"email\", {\r\n-                          required: \"please enter email .\",\r\n-                        })}\r\n-                        error={errors1?.email?.message}\r\n-                      />\r\n-                    </Grid>\r\n-\r\n-\r\n-                    <Grid item md={5.7} sm={12} xs={12}>\r\n-                      <InputField\r\n-                        label=\"Ref\"\r\n-                        size=\"small\"\r\n-                        placeholder=\"Reference\"\r\n-                        register={register1(\"ref\")}\r\n-                      />\r\n-                    </Grid>\r\n-\r\n-\r\n-                    <Grid item md={5.7} sm={12} xs={12}>\r\n-                      <InputField\r\n-                        label=\"Address\"\r\n-                        size=\"small\"\r\n-                        placeholder=\"Address\"\r\n-                        multiline\r\n-                        rows={2}\r\n-                        register={register1(\"address\", {\r\n-                          required: \"please enter address .\",\r\n-                        })}\r\n-                        error={errors1?.address?.message}\r\n-                      />\r\n-                    </Grid>\r\n+                  Customer Information معلومات المتعاملين\r\n+                </p>\r\n+      \r\n+                <Grid container spacing={1}>\r\n+                  <Grid item xs={6}>\r\n+                    <p\r\n+                      variant=\"body2\"\r\n+                      style={{\r\n+                        fontSize: \"12px\",\r\n+                        fontWeight:\"bold\",\r\n+                        margin: 0\r\n+                        // textAlign:\"center\",\r\n+                        // marginBottom:2\r\n+                      }}\r\n+                    >\r\n+                      Customer/المتعامل\r\n+                    </p>\r\n                   </Grid>\r\n+                  <Grid item xs={6}>\r\n+                    <Typography variant=\"body2\" sx={{ fontSize: \"12px\" }}>\r\n+                      {invoiceData?.customerName}\r\n+                    </Typography>\r\n+                  </Grid>\r\n+      \r\n+                  <Grid item xs={6}>\r\n+                    <p\r\n+                      variant=\"body2\"\r\n+                      style={{\r\n+                        fontSize: \"12px\",\r\n+                        fontWeight:\"bold\",\r\n+                        margin: 0\r\n+                      }}\r\n+                    >\r\n+                      Mobile No./رقم الهاتف المتحرك\r\n+                    </p>\r\n+                  </Grid>\r\n+                  <Grid item xs={6}>\r\n+                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                      {invoiceData?.mobileNo}\r\n+                    </Typography>\r\n+                  </Grid>\r\n+      \r\n+                  <Grid item xs={6}>\r\n+                    <Typography\r\n+                      variant=\"body2\"\r\n+                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                    >\r\n+                      Customer Reference\r\n+                    </Typography>\r\n+                  </Grid>\r\n+                  <Grid item xs={6}>\r\n+                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                      {invoiceData?.customerReference}\r\n+                    </Typography>\r\n+                  </Grid>\r\n+      \r\n+                  <Grid item xs={6}>\r\n+                    <Typography\r\n+                      variant=\"body2\"\r\n+                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                    >\r\n+                      Customer Address\r\n+                    </Typography>\r\n+                  </Grid>\r\n+                  <Grid item xs={6}>\r\n+                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                      {invoiceData?.customerAddress}\r\n+                    </Typography>\r\n+                  </Grid>\r\n                 </Grid>\r\n-              </Grid>\r\n+              </Box>\r\n             </Box>\r\n-\r\n-          </Box>\r\n-\r\n-          <form>\r\n-            <TableContainer component={Paper}>\r\n-              <Table>\r\n-                <TableHead>\r\n-                  <TableRow>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Item Code</TableCell>\r\n-                    <TableCell sx={{ width: \"400px\" }}>Service</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Qty</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Govt fee</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Center fee</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Bank Charge</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Trans ID</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>App/Case ID</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Ref No</TableCell>\r\n-\r\n-                    <TableCell sx={{ width: \"150px\" }}>Total</TableCell>\r\n-                    <TableCell sx={{ width: \"150px\" }}>Action</TableCell>\r\n-                  </TableRow>\r\n-                </TableHead>\r\n-                <TableBody>\r\n-                  <TableRow>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        disabled={true}\r\n-                        placeholder=\"Item code\"\r\n-                        register={register(\"service_id\", {\r\n-                          required: \"Item code is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.service_id && (\r\n-                        <span>{errors.service_id.message}</span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <SelectField\r\n-                        size=\"small\"\r\n-                        options={services}\r\n-                        selected={serviceItem}\r\n-                        onSelect={handleServiceSelect}\r\n-                        register={register(\"service_description\", {\r\n-                          required: \"Please select a service.\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.service_description && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.service_description.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Quantity\"\r\n-                        type=\"number\"\r\n-                        register={register(\"quantity\", {\r\n-                          required: \"Quantity is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.quantity && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.quantity.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Govt fee\"\r\n-                        type=\"number\"\r\n-                        register={register(\"govt_fee\", {\r\n-                          required: \"Govt fee is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.govt_fee && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.govt_fee.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Center Fee\"\r\n-                        type=\"number\"\r\n-                        register={register(\"center_fee\", {\r\n-                          required: \"Center fee is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.center_fee && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.center_fee.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Bank Charges\"\r\n-                        type=\"number\"\r\n-                        register={register(\"bank_charge\", {\r\n-                          required: \"Bank charges are required\",\r\n-                        })}\r\n-                        disabled\r\n-                      />\r\n-                      {errors.bank_charge && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.bank_charge.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Transaction Id\"\r\n-                        type=\"number\"\r\n-                        register={register(\"transaction_id\", {\r\n-                          required: \"Transaction Id is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.transaction_id && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.transaction_id.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\"Application Id\"\r\n-                        type=\"number\"\r\n-                        register={register(\"application_id\", {\r\n-                          required: \"Application Id is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.application_id && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.application_id.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        size=\"small\"\r\n-                        placeholder=\" Ref No\"\r\n-                        type=\"number\"\r\n-                        register={register(\"ref_no\", {\r\n-                          required: \"Ref No is required\",\r\n-                        })}\r\n-                      />\r\n-                      {errors.ref_no && (\r\n-                        <span style={{ color: \"red\" }}>\r\n-                          {errors.ref_no.message}\r\n-                        </span>\r\n-                      )}\r\n-                    </TableCell>\r\n-\r\n-                    <TableCell>\r\n-                      <InputField\r\n-                        disabled={true}\r\n-                        style={{ border: \"none\" }}\r\n-                        size=\"small\"\r\n-                        register={register(\"total\")}\r\n-                      />\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <Button\r\n-                        variant=\"contained\"\r\n-                        color=\"primary\"\r\n-                        type=\"submit\"\r\n-                        sx={{\r\n-                          textTransform: \"capitalize\",\r\n-                          backgroundColor: \"rgb(189 155 74)\",\r\n-                          fontSize: \"12px\",\r\n-                          \":hover\": {\r\n-                            backgroundColor: \"rgb(189 155 74)\",\r\n-                          },\r\n+      \r\n+            <Box sx={{ my: 5 }}>\r\n+              <p\r\n+                variant=\"h6\"\r\n+                style={{\r\n+                  fontSize: \"15px\",\r\n+                }}\r\n+              >\r\n+                Particulars تفاصيل\r\n+              </p>\r\n+      \r\n+              <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n+                <thead>\r\n+                  <tr style={{ backgroundColor: \"#f5f5f5\" }}>\r\n+                    <th\r\n+                      style={{\r\n+                        border: \"1px solid black\",\r\n+                        padding: \"8px\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"5%\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>Sl.No الرقم</p>\r\n+                    </th>\r\n+                    <th\r\n+                      style={{\r\n+                        border: \"1px solid black\",\r\n+                        padding: \"8px\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"30%\",\r\n+                        fontWeight: \"bold\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>Service - الخدمات</p>\r\n+                    </th>\r\n+                    <th\r\n+                      style={{\r\n+                        border: \"1px solid black\",\r\n+                        padding: \"8px\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"8%\",\r\n+                        fontWeight: \"bold\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>Qty - الكمية</p>\r\n+                    </th>\r\n+                    <th\r\n+                      style={{\r\n+                        border: \"1px solid black\",\r\n+                        padding: \"8px\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"18%\",\r\n+                        fontWeight: \"bold\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>\r\n+                        Govt Fee and Bank Charge - الرسوم الحكومية\r\n+                      </p>\r\n+                    </th>\r\n+                    <th\r\n+                      style={{\r\n+                        border: \"1px solid black\",\r\n+                        padding: \"8px\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"15%\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>\r\n+                        Service Charge Taxable - تكلفة الخدمة\r\n+                      </p>\r\n+                    </th>\r\n+                    <th\r\n+                      style={{\r\n+                        border: \"1px solid black\",\r\n+                        padding: \"8px\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"15%\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>Tax Amt - قيمة المضافة</p>\r\n+                    </th>\r\n+                    <th\r\n+                      style={{\r\n+                        border: \"1px solid black\",\r\n+                        padding: \"8px\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"15%\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>Total - الإجمالي بالدرهم</p>\r\n+                    </th>\r\n+                  </tr>\r\n+                </thead>\r\n+                <tbody>\r\n+                  {invoiceData?.items.map((item) => (\r\n+                    <tr key={item.id}>\r\n+                      <td\r\n+                        style={{\r\n+                          border: \"1px solid black\",\r\n+                          padding: \"8px\",\r\n+                          textAlign: \"center\",\r\n                         }}\r\n-                        onClick={handleSubmit(addItem)}\r\n                       >\r\n-                        <AddIcon />\r\n-                      </Button>\r\n-                    </TableCell>\r\n-                  </TableRow>\r\n-\r\n-                  {rows.map((item, index) => (\r\n-                    <TableRow key={index}>\r\n-                      <TableCell>{item?.service_id}</TableCell>\r\n-                      <TableCell>{item?.service_description}</TableCell>\r\n-                      <TableCell>{item?.quantity}</TableCell>\r\n-                      <TableCell>{item?.govt_fee}</TableCell>\r\n-                      <TableCell>{item?.center_fee}</TableCell>\r\n-                      <TableCell>{item?.bank_charge}</TableCell>\r\n-                      <TableCell>{item?.transaction_id}</TableCell>\r\n-                      <TableCell>{item?.application_id}</TableCell>\r\n-                      <TableCell>{item?.ref_no}</TableCell>\r\n-\r\n-                      <TableCell>{item?.total}</TableCell>\r\n-                    </TableRow>\r\n+                        {item?.id}\r\n+                      </td>\r\n+                      <td\r\n+                        style={{\r\n+                          border: \"1px solid black\",\r\n+                          padding: \"8px\",\r\n+                          textAlign: \"center\",\r\n+                        }}\r\n+                      >\r\n+                        <div\r\n+                          style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n+                        >\r\n+                          <span style={{ fontSize: \"12px\", fontWeight: \"bold\" }}>\r\n+                            {item?.service?.name}\r\n+                          </span>\r\n+                          <span style={{ fontSize: \"12px\" }}>{item.service?.name_ar}</span>\r\n+                        </div>\r\n+                        {/* <p style={{ fontSize: \"9px\", textAlign: \"left\" }}>\r\n+                          {item?.details}\r\n+                        </p> */}\r\n+                      </td>\r\n+                      <td\r\n+                        style={{\r\n+                          border: \"1px solid black\",\r\n+                          padding: \"8px\",\r\n+                          textAlign: \"center\",\r\n+                          fontSize:'12px'\r\n+                        }}\r\n+                      >\r\n+                        {item?.quantity}\r\n+                      </td>\r\n+                      <td\r\n+                        style={{\r\n+                          border: \"1px solid black\",\r\n+                          padding: \"8px\",\r\n+                          textAlign: \"center\",\r\n+                          fontSize:'12px'\r\n+      \r\n+                        }}\r\n+                      >\r\n+                        {((item?.govt_fee ?? 0) + (item?.bank_charge ?? 0)).toFixed(2)}\r\n+      \r\n+                      </td>\r\n+                      <td\r\n+                        style={{\r\n+                          border: \"1px solid black\",\r\n+                          padding: \"8px\",\r\n+                          textAlign: \"center\",\r\n+                          fontSize:'12px'\r\n+      \r\n+                        }}\r\n+                      >\r\n+                        {item?.center_fee?.toFixed(2)}\r\n+                      </td>\r\n+                      <td\r\n+                        style={{\r\n+                          border: \"1px solid black\",\r\n+                          padding: \"8px\",\r\n+                          textAlign: \"center\",\r\n+                          fontSize:'12px'\r\n+      \r\n+                        }}\r\n+                      >\r\n+                        {item?.bank_charge?.toFixed(2)}\r\n+                      </td>\r\n+                      <td\r\n+                        style={{\r\n+                          border: \"1px solid black\",\r\n+                          padding: \"8px\",\r\n+                          textAlign: \"center\",\r\n+                          fontSize:'12px'\r\n+      \r\n+                        }}\r\n+                      >\r\n+                        {item?.total?.toFixed(2)}\r\n+                      </td>\r\n+                    </tr>\r\n                   ))}\r\n-\r\n-                  <TableRow>\r\n-                    <TableCell colSpan={9} align=\"right\">\r\n-                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n-                        Sub-total:\r\n-                      </Typography>\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n-                        {subTotal}\r\n-                      </Typography>{\" \"}\r\n-                      {/* Display the Sub-total */}\r\n-                    </TableCell>\r\n-                  </TableRow>\r\n-\r\n-                  {/* Amount Total Row (optional, if needed for the final sum) */}\r\n-                  <TableRow>\r\n-                    <TableCell colSpan={9} align=\"right\">\r\n-                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n-                        Amount Total:\r\n-                      </Typography>\r\n-                    </TableCell>\r\n-                    <TableCell>\r\n-                      <Typography variant=\"h6\" sx={{ fontSize: \"15px\" }}>\r\n-                        {subTotal}\r\n-                      </Typography>{\" \"}\r\n-                      {/* This can be the same as Sub-total */}\r\n-                    </TableCell>\r\n-                  </TableRow>\r\n-                </TableBody>\r\n-              </Table>\r\n-            </TableContainer>\r\n-          </form>\r\n-\r\n-          <TableContainer component={Paper}>\r\n-            <Table>\r\n-              <TableRow>\r\n-                <TableCell colSpan={8} align=\"center\">\r\n-                  <Box\r\n-                    sx={{ display: \"flex\", gap: 2, justifyContent: \"center\" }}\r\n-                  >\r\n-                    <Button\r\n-                      type=\"submit\"\r\n-\r\n-                      disabled={rows?.length === 0}\r\n-                      variant=\"contained\"\r\n-                      sx={{\r\n-                        width: \"350px\",\r\n-                        textTransform: \"capitalize\",\r\n-                        backgroundColor: \"#bd9b4a\",\r\n-                        \":hover\": {\r\n-                          backgroundColor: \"rgb(189 155 74)\",\r\n-                        },\r\n+                </tbody>\r\n+              </table>\r\n+      \r\n+              <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n+                <tbody>\r\n+                  <tr>\r\n+                    <td\r\n+                      colSpan={5}\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"right\",\r\n                       }}\r\n                     >\r\n-                      Place Invoice\r\n-                    </Button>\r\n-                    <Button\r\n-                      onClick={() => navigate(\"/pre-sales\")}\r\n-                      variant=\"contained\"\r\n-                      sx={{\r\n-                        width: \"350px\",\r\n-                        textTransform: \"capitalize\",\r\n-                        backgroundColor: \"#bd9b4a\",\r\n-                        \":hover\": {\r\n-                          backgroundColor: \"rgb(189 155 74)\",\r\n-                        },\r\n+                      <p style={{ fontSize: \"12px\" }}>Total Govt.fee & Bank Charge</p>\r\n+                    </td>\r\n+                    <td\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"10%\",\r\n                       }}\r\n                     >\r\n-                      Cancel\r\n-                    </Button>\r\n+                      <p style={{ fontSize: \"12px\" }}>\r\n+                      {(invoiceData?.items?.reduce((total, item) => total + (item?.govt_fee ?? 0) + (item?.bank_charge ?? 0), 0) )?.toFixed(2)} \r\n+      \r\n+                      </p>\r\n+                    </td>\r\n+                  </tr>\r\n+                  <tr>\r\n+                    <td\r\n+                      colSpan={5}\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"right\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>Net Taxable Amount</p>\r\n+                    </td>\r\n+                    <td\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"10%\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>\r\n+                      {(invoiceData?.items?.reduce((total, item) => total + (item?.center_fee ?? 0), 0))?.toFixed(2)}\r\n+      \r\n+      \r\n+                      </p>\r\n+                    </td>\r\n+                  </tr>\r\n+                  <tr>\r\n+                    <td\r\n+                      colSpan={5}\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"right\",\r\n+                      }}\r\n+                    >\r\n+                      <p\r\n+                        style={{\r\n+                          fontSize: \"12px\",\r\n+                          fontFamily: \"'Amiri', Arial, sans-serif\",\r\n+                        }}\r\n+                        className=\"arabic-text\"\r\n+                      >\r\n+                        Total VAT إجمالي القيمة المضافة\r\n+                      </p>\r\n+                    </td>\r\n+                    <td\r\n+                      align=\"center\"\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"10%\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>\r\n+                      {(invoiceData?.items?.reduce((total, item) => total + (item?.bank_charge ?? 0), 0))?.toFixed(2)}\r\n+      \r\n+                      </p>\r\n+                    </td>\r\n+                  </tr>\r\n+                  <tr>\r\n+                    <td\r\n+                      colSpan={5}\r\n+                      align=\"right\"\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"right\",\r\n+                      }}\r\n+                    >\r\n+                      <p\r\n+                        style={{\r\n+                          fontSize: \"12px\",\r\n+                          fontFamily: \"'Amiri', Arial, sans-serif\",\r\n+                        }}\r\n+                        className=\"arabic-text\"\r\n+                      >\r\n+                        Gross Total إجمالي القيمة\r\n+                      </p>\r\n+                    </td>\r\n+                    <td\r\n+                      align=\"center\"\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"10%\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>\r\n+                        {detail?.total_amount?.toFixed(2)}\r\n+                      </p>\r\n+                    </td>\r\n+                  </tr>\r\n+                  <tr>\r\n+                    <td\r\n+                      colSpan={5}\r\n+                      align=\"right\"\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"right\",\r\n+                      }}\r\n+                    >\r\n+                      <p\r\n+                        style={{\r\n+                          fontSize: \"12px\",\r\n+                          fontFamily: \"'Amiri', Arial, sans-serif\",\r\n+                        }}\r\n+                        className=\"arabic-text\"\r\n+                      >\r\n+                        Customer Card Payment الإجمالي\r\n+                      </p>\r\n+                    </td>\r\n+                    <td\r\n+                      align=\"right\"\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"10%\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>\r\n+                      {(invoiceData?.items?.reduce((total, item) => total + (item?.bank_charge ?? 0), 0))?.toFixed(2)}\r\n+      \r\n+                      \r\n+      \r\n+                      </p>\r\n+                    </td>\r\n+                  </tr>\r\n+                  <tr>\r\n+                    <td\r\n+                      colSpan={5}\r\n+                      align=\"right\"\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"right\",\r\n+                      }}\r\n+                    >\r\n+                      <p\r\n+                        style={{\r\n+                          fontSize: \"12px\",\r\n+                          fontFamily: \"'Amiri', Arial, sans-serif\",\r\n+                        }}\r\n+                        className=\"arabic-text\"\r\n+                      >\r\n+                        Total Payable الإجمالي\r\n+                      </p>\r\n+                    </td>\r\n+                    <td\r\n+                      align=\"right\"\r\n+                      style={{\r\n+                        border: \"1px solid #000\",\r\n+                        padding: \"0.5rem\",\r\n+                        textAlign: \"center\",\r\n+                        width: \"10%\",\r\n+                      }}\r\n+                    >\r\n+                      <p style={{ fontSize: \"12px\" }}>\r\n+                      {detail?.total_amount?.toFixed(2)}\r\n+      \r\n+                      </p>\r\n+                    </td>\r\n+                  </tr>\r\n+                </tbody>\r\n+              </table>\r\n+            </Box>\r\n+            <Box class=\"footer\">\r\n+              <Box textAlign=\"center\" pb={2} sx={{ my: \"60px\", mt: \"100px\" }}>\r\n+                <Box\r\n+                  display=\"flex\"\r\n+                  justifyContent=\"space-between\"\r\n+                  alignItems=\"flex-start\"\r\n+                >\r\n+                  <Box textAlign=\"center\">\r\n+                    <Typography\r\n+                      variant=\"h6\"\r\n+                      fontWeight=\"bold\"\r\n+                      sx={{ fontSize: \"12px\" }}\r\n+                    >\r\n+                      SabelahHaq Naqaz\r\n+                    </Typography>\r\n+                    <p\r\n+                      variant=\"body2\"\r\n+                      style={{\r\n+                        fontSize: \"12px\",\r\n+                      }}\r\n+                    >\r\n+                      Authorized Signatory - المخول بالتوقيع\r\n+                    </p>\r\n+                    <Typography\r\n+                      variant=\"body2\"\r\n+                      sx={{ fontSize: \"12px\", textAlign: \"center\" }}\r\n+                    >\r\n+                      (REPRINT)\r\n+                    </Typography>\r\n                   </Box>\r\n-                </TableCell>\r\n-              </TableRow>\r\n-            </Table>\r\n-          </TableContainer>\r\n-        </Box>\r\n-      </Box>\r\n+      \r\n+                  <Box textAlign=\"right\" sx={{ fontSize: \"12px\" }}>\r\n+                    <p\r\n+                      variant=\"body2\"\r\n+                      style={{\r\n+                        fontSize: \"12px\",\r\n+                      }}\r\n+                    >\r\n+                      Note - ملاحظات\r\n+                    </p>\r\n+                    <p\r\n+                      variant=\"body2\"\r\n+                      style={{\r\n+                        fontSize: \"12px\",\r\n+                      }}\r\n+                    >\r\n+                      الرجاء التأكد من الفاتورة والمستندات قبل مغادرة الكاونتر\r\n+                    </p>\r\n+                    <Typography variant=\"body2\" dir=\"ltr\" sx={{ fontSize: \"12px\" }}>\r\n+                      Kindly check the invoice and documents before leaving the\r\n+                      counter\r\n+                    </Typography>\r\n+                  </Box>\r\n+                </Box>\r\n+      \r\n+                <Typography variant=\"body1\" fontWeight=\"bold\" color=\"error\" mt={2}>\r\n+                  \"save 10 aed on all DED transactions every Saturday in Premium\r\n+                  Businessmen Services\"\r\n+                </Typography>\r\n+              </Box>\r\n+      \r\n+              <div className=\"w-full h-[115px] flex justify-center items-center mb-4\">\r\n+                <img\r\n+                  src={Images.footer}\r\n+                  alt=\"Header\"\r\n+                  style={{ width: \"100%\" }}\r\n+                  className=\"max-w-full h-auto\"\r\n+                />\r\n+              </div>\r\n+            </Box>\r\n+          </Box>\r\n     </>\r\n   );\r\n }\r\n \r\n"
                },
                {
                    "date": 1744730674193,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,8 +63,9 @@\n import axios from \"axios\";\r\n import UploadIcon from \"@mui/icons-material/Upload\";\r\n import FinanceServices from \"services/Finance\";\r\n import SearchIcon from \"@mui/icons-material/Search\";\r\n+import Barcode from \"react-barcode\";\r\n // import { TableBody, TableHead } from \"mui-datatables\";\r\n \r\n function SalesReciept() {\r\n   const theme = useTheme();\r\n"
                },
                {
                    "date": 1744730703324,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -200,8 +200,43 @@\n   const handleNext = () => {\r\n     setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n   };\r\n \r\n+   const generatePDF = async () => {\r\n+          if (!invoiceRef.current) return;\r\n+        \r\n+          // Temporarily hide the content while generating the PDF\r\n+          const invoiceElement = invoiceRef.current;\r\n+          invoiceElement.style.display = 'block';  // Hide the element\r\n+        \r\n+          // Capture the content using html2canvas\r\n+          const canvas = await html2canvas(invoiceElement, {\r\n+            scale: 1,\r\n+            useCORS: true,\r\n+            logging: false,\r\n+          });\r\n+        \r\n+          const imgData = canvas.toDataURL(\"image/png\");\r\n+          const pdf = new jsPDF({\r\n+            orientation: \"portrait\",\r\n+            unit: \"mm\",\r\n+            format: \"a4\",\r\n+          });\r\n+        \r\n+          const imgWidth = 210;\r\n+          const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n+        \r\n+          // Add image to the PDF\r\n+          pdf.addImage(imgData, \"PNG\", 0, 0, imgWidth, imgHeight);\r\n+        \r\n+          // Save the generated PDF\r\n+          pdf.save(\"invoice.pdf\");\r\n+        \r\n+          // Restore the content visibility after generating the PDF\r\n+          invoiceElement.style.display = 'none';  // Show the content again\r\n+        };\r\n+        \r\n+\r\n   const submitForm1 = async (formData) => {\r\n     console.log(formData);\r\n     try {\r\n \r\n"
                },
                {
                    "date": 1744730716511,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,9 +159,9 @@\n   //   vipMedical: false,\r\n   //   extraTyping: true,\r\n   // });\r\n   const [fieldsDisabled, setFieldsDisabled] = useState(false);\r\n-\r\n+  const invoiceRef = useRef(null);\r\n   const [center, setCenter] = useState(null);\r\n   const [status, setStatus] = useState(null);\r\n \r\n   // *For Stepper Forms Data\r\n"
                },
                {
                    "date": 1744730724542,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,8 +64,9 @@\n import UploadIcon from \"@mui/icons-material/Upload\";\r\n import FinanceServices from \"services/Finance\";\r\n import SearchIcon from \"@mui/icons-material/Search\";\r\n import Barcode from \"react-barcode\";\r\n+import jsPDF from \"jspdf\";\r\n // import { TableBody, TableHead } from \"mui-datatables\";\r\n \r\n function SalesReciept() {\r\n   const theme = useTheme();\r\n"
                },
                {
                    "date": 1744730738168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,8 +65,9 @@\n import FinanceServices from \"services/Finance\";\r\n import SearchIcon from \"@mui/icons-material/Search\";\r\n import Barcode from \"react-barcode\";\r\n import jsPDF from \"jspdf\";\r\n+import html2canvas from \"html2canvas\";\r\n // import { TableBody, TableHead } from \"mui-datatables\";\r\n \r\n function SalesReciept() {\r\n   const theme = useTheme();\r\n"
                },
                {
                    "date": 1744730754704,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -285,8 +285,9 @@\n         \"Something Went Wrong\"\r\n       );\r\n       const response = await promise;\r\n       if (response?.responseCode === 200) {\r\n+        generatePDF()\r\n         navigate(\"/pre-sales\");\r\n       }\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n"
                },
                {
                    "date": 1744730950985,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1339,9 +1339,9 @@\n                           fontSize:'12px'\r\n       \r\n                         }}\r\n                       >\r\n-                        {((item?.govt_fee ?? 0) + (item?.bank_charge ?? 0)).toFixed(2)}\r\n+                        {((item?.govt_fee || 0) + (item?.bank_charge || 0)).toFixed(2)}\r\n       \r\n                       </td>\r\n                       <td\r\n                         style={{\r\n"
                },
                {
                    "date": 1744730997920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,22 +274,23 @@\n         total_amount: subTotal,\r\n \r\n         items: rows,\r\n       };\r\n+      generatePDF()\r\n       console.log(formData, \"formData\");\r\n-      const promise = CustomerServices.CreateSaleReceipt(obj);\r\n+      // const promise = CustomerServices.CreateSaleReceipt(obj);\r\n \r\n-      showPromiseToast(\r\n-        promise,\r\n-        \"Saving...\",\r\n-        \"Added Successfully\",\r\n-        \"Something Went Wrong\"\r\n-      );\r\n-      const response = await promise;\r\n-      if (response?.responseCode === 200) {\r\n-        generatePDF()\r\n-        navigate(\"/pre-sales\");\r\n-      }\r\n+      // showPromiseToast(\r\n+      //   promise,\r\n+      //   \"Saving...\",\r\n+      //   \"Added Successfully\",\r\n+      //   \"Something Went Wrong\"\r\n+      // );\r\n+      // const response = await promise;\r\n+      // if (response?.responseCode === 200) {\r\n+      //   generatePDF()\r\n+      //   navigate(\"/pre-sales\");\r\n+      // }\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     }\r\n   };\r\n"
                },
                {
                    "date": 1744731107773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1010,8 +1010,10 @@\n             </Table>\r\n           </TableContainer>\r\n         </Box>\r\n       </Box>\r\n+      {console.log(invoiceData);\r\n+      }\r\n             <Box className=\"showPdf\"  ref={invoiceRef} sx={{ padding: \"20px 60px\" }}>\r\n             <div className=\"w-full h-[115px] flex justify-center items-center mb-4\">\r\n               <img\r\n                 src={Images.header}\r\n"
                },
                {
                    "date": 1744731254030,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1010,10 +1010,9 @@\n             </Table>\r\n           </TableContainer>\r\n         </Box>\r\n       </Box>\r\n-      {console.log(invoiceData);\r\n-      }\r\n+      {console.log(invoiceData) }\r\n             <Box className=\"showPdf\"  ref={invoiceRef} sx={{ padding: \"20px 60px\" }}>\r\n             <div className=\"w-full h-[115px] flex justify-center items-center mb-4\">\r\n               <img\r\n                 src={Images.header}\r\n@@ -1293,9 +1292,9 @@\n                     </th>\r\n                   </tr>\r\n                 </thead>\r\n                 <tbody>\r\n-                  {invoiceData?.items.map((item) => (\r\n+                  {invoiceData?.items?.map((item) => (\r\n                     <tr key={item.id}>\r\n                       <td\r\n                         style={{\r\n                           border: \"1px solid black\",\r\n"
                },
                {
                    "date": 1744731276438,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1341,9 +1341,9 @@\n                           fontSize:'12px'\r\n       \r\n                         }}\r\n                       >\r\n-                        {((item?.govt_fee || 0) + (item?.bank_charge || 0)).toFixed(2)}\r\n+                        {(parseFloat((item?.govt_fee || 0)) + (item?.bank_charge || 0)).toFixed(2)}\r\n       \r\n                       </td>\r\n                       <td\r\n                         style={{\r\n"
                },
                {
                    "date": 1744731289904,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1341,9 +1341,9 @@\n                           fontSize:'12px'\r\n       \r\n                         }}\r\n                       >\r\n-                        {(parseFloat((item?.govt_fee || 0)) + (item?.bank_charge || 0)).toFixed(2)}\r\n+                        {(parseFloat((item?.govt_fee || 0)) + parseFloat((item?.bank_charge || 0))).toFixed(2)}\r\n       \r\n                       </td>\r\n                       <td\r\n                         style={{\r\n"
                },
                {
                    "date": 1744731308317,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1353,9 +1353,9 @@\n                           fontSize:'12px'\r\n       \r\n                         }}\r\n                       >\r\n-                        {item?.center_fee?.toFixed(2)}\r\n+                        {parseFloat(item?.center_fee)?.toFixed(2)}\r\n                       </td>\r\n                       <td\r\n                         style={{\r\n                           border: \"1px solid black\",\r\n"
                },
                {
                    "date": 1744731319999,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1353,9 +1353,9 @@\n                           fontSize:'12px'\r\n       \r\n                         }}\r\n                       >\r\n-                        {parseFloat(item?.center_fee)?.toFixed(2)}\r\n+                        {parseFloat(item?.center_fee).toFixed(2)}\r\n                       </td>\r\n                       <td\r\n                         style={{\r\n                           border: \"1px solid black\",\r\n@@ -1364,9 +1364,9 @@\n                           fontSize:'12px'\r\n       \r\n                         }}\r\n                       >\r\n-                        {item?.bank_charge?.toFixed(2)}\r\n+                        {parseFloat(item?.bank_charge)?.toFixed(2)}\r\n                       </td>\r\n                       <td\r\n                         style={{\r\n                           border: \"1px solid black\",\r\n"
                },
                {
                    "date": 1744731331528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1364,9 +1364,9 @@\n                           fontSize:'12px'\r\n       \r\n                         }}\r\n                       >\r\n-                        {parseFloat(item?.bank_charge)?.toFixed(2)}\r\n+                        {parseFloat(item?.bank_charge).toFixed(2)}\r\n                       </td>\r\n                       <td\r\n                         style={{\r\n                           border: \"1px solid black\",\r\n@@ -1375,9 +1375,9 @@\n                           fontSize:'12px'\r\n       \r\n                         }}\r\n                       >\r\n-                        {item?.total?.toFixed(2)}\r\n+                        {parseFloat(item?.total).toFixed(2)}\r\n                       </td>\r\n                     </tr>\r\n                   ))}\r\n                 </tbody>\r\n"
                },
                {
                    "date": 1744731368905,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1429,9 +1429,9 @@\n                         width: \"10%\",\r\n                       }}\r\n                     >\r\n                       <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + (item?.center_fee ?? 0), 0))?.toFixed(2)}\r\n+                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.center_fee ?? 0)), 0))?.toFixed(2)}\r\n       \r\n       \r\n                       </p>\r\n                     </td>\r\n"
                },
                {
                    "date": 1744731385308,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1464,9 +1464,9 @@\n                         width: \"10%\",\r\n                       }}\r\n                     >\r\n                       <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + (item?.bank_charge ?? 0), 0))?.toFixed(2)}\r\n+                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.bank_charge ?? 0), 0)())?.toFixed(2)}\r\n       \r\n                       </p>\r\n                     </td>\r\n                   </tr>\r\n"
                },
                {
                    "date": 1744731466144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1464,9 +1464,9 @@\n                         width: \"10%\",\r\n                       }}\r\n                     >\r\n                       <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.bank_charge ?? 0), 0)())?.toFixed(2)}\r\n+                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.bank_charge ?? 0), 0)))?.toFixed(2)}\r\n       \r\n                       </p>\r\n                     </td>\r\n                   </tr>\r\n@@ -1533,9 +1533,9 @@\n                         width: \"10%\",\r\n                       }}\r\n                     >\r\n                       <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + (item?.bank_charge ?? 0), 0))?.toFixed(2)}\r\n+                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.bank_charge ?? 0), 0)))?.toFixed(2)}\r\n       \r\n                       \r\n       \r\n                       </p>\r\n"
                },
                {
                    "date": 1744731533837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1404,9 +1404,9 @@\n                         width: \"10%\",\r\n                       }}\r\n                     >\r\n                       <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + (item?.govt_fee ?? 0) + (item?.bank_charge ?? 0), 0) )?.toFixed(2)} \r\n+                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.govt_fee ?? 0)) + (item?.bank_charge ?? 0), 0) )?.toFixed(2)} \r\n       \r\n                       </p>\r\n                     </td>\r\n                   </tr>\r\n"
                },
                {
                    "date": 1744731541661,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1404,9 +1404,9 @@\n                         width: \"10%\",\r\n                       }}\r\n                     >\r\n                       <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.govt_fee ?? 0)) + (item?.bank_charge ?? 0), 0) )?.toFixed(2)} \r\n+                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.govt_fee ?? 0)) + parseFloat((item?.bank_charge ?? 0), 0)) )?.toFixed(2)} \r\n       \r\n                       </p>\r\n                     </td>\r\n                   </tr>\r\n"
                },
                {
                    "date": 1744731632637,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1404,9 +1404,16 @@\n                         width: \"10%\",\r\n                       }}\r\n                     >\r\n                       <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.govt_fee ?? 0)) + parseFloat((item?.bank_charge ?? 0), 0)) )?.toFixed(2)} \r\n+                      {(invoiceData?.items?.reduce(\r\n+  (total, item) =>\r\n+    total +\r\n+    parseFloat(item?.govt_fee ?? 0) +\r\n+    parseFloat(item?.bank_charge ?? 0),\r\n+  0\r\n+))?.toFixed(2)}\r\n+\r\n       \r\n                       </p>\r\n                     </td>\r\n                   </tr>\r\n"
                },
                {
                    "date": 1744731745164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -202,43 +202,43 @@\n   const handleNext = () => {\r\n     setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n   };\r\n \r\n-   const generatePDF = async () => {\r\n-          if (!invoiceRef.current) return;\r\n-        \r\n-          // Temporarily hide the content while generating the PDF\r\n-          const invoiceElement = invoiceRef.current;\r\n-          invoiceElement.style.display = 'block';  // Hide the element\r\n-        \r\n-          // Capture the content using html2canvas\r\n-          const canvas = await html2canvas(invoiceElement, {\r\n-            scale: 1,\r\n-            useCORS: true,\r\n-            logging: false,\r\n-          });\r\n-        \r\n-          const imgData = canvas.toDataURL(\"image/png\");\r\n-          const pdf = new jsPDF({\r\n-            orientation: \"portrait\",\r\n-            unit: \"mm\",\r\n-            format: \"a4\",\r\n-          });\r\n-        \r\n-          const imgWidth = 210;\r\n-          const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n-        \r\n-          // Add image to the PDF\r\n-          pdf.addImage(imgData, \"PNG\", 0, 0, imgWidth, imgHeight);\r\n-        \r\n-          // Save the generated PDF\r\n-          pdf.save(\"invoice.pdf\");\r\n-        \r\n-          // Restore the content visibility after generating the PDF\r\n-          invoiceElement.style.display = 'none';  // Show the content again\r\n-        };\r\n-        \r\n+  const generatePDF = async () => {\r\n+    if (!invoiceRef.current) return;\r\n \r\n+    // Temporarily hide the content while generating the PDF\r\n+    const invoiceElement = invoiceRef.current;\r\n+    invoiceElement.style.display = 'block';  // Hide the element\r\n+\r\n+    // Capture the content using html2canvas\r\n+    const canvas = await html2canvas(invoiceElement, {\r\n+      scale: 1,\r\n+      useCORS: true,\r\n+      logging: false,\r\n+    });\r\n+\r\n+    const imgData = canvas.toDataURL(\"image/png\");\r\n+    const pdf = new jsPDF({\r\n+      orientation: \"portrait\",\r\n+      unit: \"mm\",\r\n+      format: \"a4\",\r\n+    });\r\n+\r\n+    const imgWidth = 210;\r\n+    const imgHeight = (canvas.height * imgWidth) / canvas.width;\r\n+\r\n+    // Add image to the PDF\r\n+    pdf.addImage(imgData, \"PNG\", 0, 0, imgWidth, imgHeight);\r\n+\r\n+    // Save the generated PDF\r\n+    pdf.save(\"invoice.pdf\");\r\n+\r\n+    // Restore the content visibility after generating the PDF\r\n+    invoiceElement.style.display = 'none';  // Show the content again\r\n+  };\r\n+\r\n+\r\n   const submitForm1 = async (formData) => {\r\n     console.log(formData);\r\n     try {\r\n \r\n@@ -1010,654 +1010,658 @@\n             </Table>\r\n           </TableContainer>\r\n         </Box>\r\n       </Box>\r\n-      {console.log(invoiceData) }\r\n-            <Box className=\"showPdf\"  ref={invoiceRef} sx={{ padding: \"20px 60px\" }}>\r\n-            <div className=\"w-full h-[115px] flex justify-center items-center mb-4\">\r\n-              <img\r\n-                src={Images.header}\r\n-                alt=\"Header\"\r\n-                style={{ width: \"100%\" }}\r\n-                className=\"max-w-full h-auto\"\r\n+      {console.log(invoiceData)}\r\n+      <Box className=\"showPdf\" ref={invoiceRef} sx={{ padding: \"20px 60px\" }}>\r\n+        <div className=\"w-full h-[115px] flex justify-center items-center mb-4\">\r\n+          <img\r\n+            src={Images.header}\r\n+            alt=\"Header\"\r\n+            style={{ width: \"100%\" }}\r\n+            className=\"max-w-full h-auto\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <Box\r\n+          sx={{\r\n+            display: \"flex\",\r\n+            border: \"1px solid #000\",\r\n+            my: 2,\r\n+            fontSize: \"15px\",\r\n+          }}\r\n+        >\r\n+          <Box\r\n+            sx={{\r\n+              width: \"50%\",\r\n+              p: 2,\r\n+              borderRight: \"1px solid #000\",\r\n+              display: \"flex\",\r\n+              flexDirection: \"column\",\r\n+            }}\r\n+          >\r\n+            <Box sx={{ mb: 1 }}>\r\n+              <Barcode\r\n+                value={detail?.id}\r\n+                width={1.4}\r\n+                height={40}\r\n+                displayValue={false}\r\n               />\r\n-            </div>\r\n-      \r\n-            <Box\r\n-              sx={{\r\n-                display: \"flex\",\r\n-                border: \"1px solid #000\",\r\n-                my: 2,\r\n-                fontSize: \"15px\",\r\n+              <Typography\r\n+                variant=\"body2\"\r\n+                align=\"left\"\r\n+                sx={{ fontSize: \"15px\", ml: 3 }}\r\n+              >\r\n+                {detail?.id}\r\n+              </Typography>\r\n+            </Box>\r\n+\r\n+            <Grid container spacing={1}>\r\n+              <Grid item xs={6}>\r\n+                <p\r\n+                  variant=\"body2\"\r\n+                  style={{\r\n+                    fontWeight: \"bold\", fontSize: \"12px\",\r\n+                    margin: 0\r\n+                  }}\r\n+                >\r\n+                  Date/التاريخ والوقت\r\n+                </p>\r\n+              </Grid>\r\n+              <Grid item xs={6}>\r\n+                <Typography variant=\"body2\" sx={{ fontSize: \"12px\" }}>\r\n+                  {invoiceData?.date}\r\n+                </Typography>\r\n+              </Grid>\r\n+\r\n+              <Grid item xs={6}>\r\n+                <Typography\r\n+                  variant=\"body2\"\r\n+                  sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                >\r\n+                  Invoice Type - Invoice No\r\n+                </Typography>\r\n+              </Grid>\r\n+              <Grid item xs={6}>\r\n+                <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                  {invoiceData?.invoiceType}\r\n+                </Typography>\r\n+              </Grid>\r\n+\r\n+              <Grid item xs={6}>\r\n+                <Typography\r\n+                  variant=\"body2\"\r\n+                  sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                >\r\n+                  TRN:\r\n+                </Typography>\r\n+              </Grid>\r\n+              <Grid item xs={6}>\r\n+                <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                  {invoiceData?.trn}\r\n+                </Typography>\r\n+              </Grid>\r\n+\r\n+              <Grid item xs={6}>\r\n+                <Typography\r\n+                  variant=\"body2\"\r\n+                  sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                >\r\n+                  Token Number\r\n+                </Typography>\r\n+              </Grid>\r\n+              <Grid item xs={6}>\r\n+                <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                  {invoiceData?.tokenNumber}\r\n+                </Typography>\r\n+              </Grid>\r\n+            </Grid>\r\n+          </Box>\r\n+\r\n+          <Box sx={{ width: \"50%\", p: 2 }}>\r\n+            <p\r\n+              variant=\"body2\"\r\n+              style={{\r\n+                fontSize: \"14px\",\r\n+                textAlign: \"center\",\r\n+\r\n+                marginBottom: 2,\r\n               }}\r\n             >\r\n-              <Box\r\n-                sx={{\r\n-                  width: \"50%\",\r\n-                  p: 2,\r\n-                  borderRight: \"1px solid #000\",\r\n-                  display: \"flex\",\r\n-                  flexDirection: \"column\",\r\n-                }}\r\n-              >\r\n-                <Box sx={{ mb: 1 }}>\r\n-                  <Barcode\r\n-                    value={detail?.id}\r\n-                    width={1.4}\r\n-                    height={40}\r\n-                    displayValue={false}\r\n-                  />\r\n-                  <Typography\r\n-                    variant=\"body2\"\r\n-                    align=\"left\"\r\n-                    sx={{ fontSize: \"15px\", ml: 3 }}\r\n-                  >\r\n-                    {detail?.id}\r\n-                  </Typography>\r\n-                </Box>\r\n-      \r\n-                <Grid container spacing={1}>\r\n-                  <Grid item xs={6}>\r\n-                    <p\r\n-                      variant=\"body2\"\r\n-                      style={{\r\n-                         fontWeight: \"bold\", fontSize: \"12px\" ,\r\n-                         margin: 0\r\n-                      }}\r\n-                    >\r\n-                      Date/التاريخ والوقت\r\n-                    </p>\r\n-                  </Grid>\r\n-                  <Grid item xs={6}>\r\n-                    <Typography variant=\"body2\" sx={{ fontSize: \"12px\" }}>\r\n-                      {invoiceData?.date}\r\n-                    </Typography>\r\n-                  </Grid>\r\n-      \r\n-                  <Grid item xs={6}>\r\n-                    <Typography\r\n-                      variant=\"body2\"\r\n-                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n-                    >\r\n-                      Invoice Type - Invoice No\r\n-                    </Typography>\r\n-                  </Grid>\r\n-                  <Grid item xs={6}>\r\n-                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n-                      {invoiceData?.invoiceType}\r\n-                    </Typography>\r\n-                  </Grid>\r\n-      \r\n-                  <Grid item xs={6}>\r\n-                    <Typography\r\n-                      variant=\"body2\"\r\n-                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n-                    >\r\n-                      TRN:\r\n-                    </Typography>\r\n-                  </Grid>\r\n-                  <Grid item xs={6}>\r\n-                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n-                      {invoiceData?.trn}\r\n-                    </Typography>\r\n-                  </Grid>\r\n-      \r\n-                  <Grid item xs={6}>\r\n-                    <Typography\r\n-                      variant=\"body2\"\r\n-                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n-                    >\r\n-                      Token Number\r\n-                    </Typography>\r\n-                  </Grid>\r\n-                  <Grid item xs={6}>\r\n-                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n-                      {invoiceData?.tokenNumber}\r\n-                    </Typography>\r\n-                  </Grid>\r\n-                </Grid>\r\n-              </Box>\r\n-      \r\n-              <Box sx={{ width: \"50%\", p: 2 }}>\r\n+              Customer Information معلومات المتعاملين\r\n+            </p>\r\n+\r\n+            <Grid container spacing={1}>\r\n+              <Grid item xs={6}>\r\n                 <p\r\n                   variant=\"body2\"\r\n                   style={{\r\n-                    fontSize: \"14px\",\r\n+                    fontSize: \"12px\",\r\n+                    fontWeight: \"bold\",\r\n+                    margin: 0\r\n+                    // textAlign:\"center\",\r\n+                    // marginBottom:2\r\n+                  }}\r\n+                >\r\n+                  Customer/المتعامل\r\n+                </p>\r\n+              </Grid>\r\n+              <Grid item xs={6}>\r\n+                <Typography variant=\"body2\" sx={{ fontSize: \"12px\" }}>\r\n+                  {invoiceData?.customerName}\r\n+                </Typography>\r\n+              </Grid>\r\n+\r\n+              <Grid item xs={6}>\r\n+                <p\r\n+                  variant=\"body2\"\r\n+                  style={{\r\n+                    fontSize: \"12px\",\r\n+                    fontWeight: \"bold\",\r\n+                    margin: 0\r\n+                  }}\r\n+                >\r\n+                  Mobile No./رقم الهاتف المتحرك\r\n+                </p>\r\n+              </Grid>\r\n+              <Grid item xs={6}>\r\n+                <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                  {invoiceData?.mobileNo}\r\n+                </Typography>\r\n+              </Grid>\r\n+\r\n+              <Grid item xs={6}>\r\n+                <Typography\r\n+                  variant=\"body2\"\r\n+                  sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                >\r\n+                  Customer Reference\r\n+                </Typography>\r\n+              </Grid>\r\n+              <Grid item xs={6}>\r\n+                <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                  {invoiceData?.customerReference}\r\n+                </Typography>\r\n+              </Grid>\r\n+\r\n+              <Grid item xs={6}>\r\n+                <Typography\r\n+                  variant=\"body2\"\r\n+                  sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n+                >\r\n+                  Customer Address\r\n+                </Typography>\r\n+              </Grid>\r\n+              <Grid item xs={6}>\r\n+                <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n+                  {invoiceData?.customerAddress}\r\n+                </Typography>\r\n+              </Grid>\r\n+            </Grid>\r\n+          </Box>\r\n+        </Box>\r\n+\r\n+        <Box sx={{ my: 5 }}>\r\n+          <p\r\n+            variant=\"h6\"\r\n+            style={{\r\n+              fontSize: \"15px\",\r\n+            }}\r\n+          >\r\n+            Particulars تفاصيل\r\n+          </p>\r\n+\r\n+          <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n+            <thead>\r\n+              <tr style={{ backgroundColor: \"#f5f5f5\" }}>\r\n+                <th\r\n+                  style={{\r\n+                    border: \"1px solid black\",\r\n+                    padding: \"8px\",\r\n                     textAlign: \"center\",\r\n-                   \r\n-                    marginBottom: 2,\r\n+                    width: \"5%\",\r\n                   }}\r\n                 >\r\n-                  Customer Information معلومات المتعاملين\r\n-                </p>\r\n-      \r\n-                <Grid container spacing={1}>\r\n-                  <Grid item xs={6}>\r\n-                    <p\r\n-                      variant=\"body2\"\r\n-                      style={{\r\n-                        fontSize: \"12px\",\r\n-                        fontWeight:\"bold\",\r\n-                        margin: 0\r\n-                        // textAlign:\"center\",\r\n-                        // marginBottom:2\r\n-                      }}\r\n+                  <p style={{ fontSize: \"12px\" }}>Sl.No الرقم</p>\r\n+                </th>\r\n+                <th\r\n+                  style={{\r\n+                    border: \"1px solid black\",\r\n+                    padding: \"8px\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"30%\",\r\n+                    fontWeight: \"bold\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>Service - الخدمات</p>\r\n+                </th>\r\n+                <th\r\n+                  style={{\r\n+                    border: \"1px solid black\",\r\n+                    padding: \"8px\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"8%\",\r\n+                    fontWeight: \"bold\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>Qty - الكمية</p>\r\n+                </th>\r\n+                <th\r\n+                  style={{\r\n+                    border: \"1px solid black\",\r\n+                    padding: \"8px\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"18%\",\r\n+                    fontWeight: \"bold\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>\r\n+                    Govt Fee and Bank Charge - الرسوم الحكومية\r\n+                  </p>\r\n+                </th>\r\n+                <th\r\n+                  style={{\r\n+                    border: \"1px solid black\",\r\n+                    padding: \"8px\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"15%\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>\r\n+                    Service Charge Taxable - تكلفة الخدمة\r\n+                  </p>\r\n+                </th>\r\n+                <th\r\n+                  style={{\r\n+                    border: \"1px solid black\",\r\n+                    padding: \"8px\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"15%\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>Tax Amt - قيمة المضافة</p>\r\n+                </th>\r\n+                <th\r\n+                  style={{\r\n+                    border: \"1px solid black\",\r\n+                    padding: \"8px\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"15%\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>Total - الإجمالي بالدرهم</p>\r\n+                </th>\r\n+              </tr>\r\n+            </thead>\r\n+            <tbody>\r\n+              {invoiceData?.items?.map((item) => (\r\n+                <tr key={item.id}>\r\n+                  <td\r\n+                    style={{\r\n+                      border: \"1px solid black\",\r\n+                      padding: \"8px\",\r\n+                      textAlign: \"center\",\r\n+                    }}\r\n+                  >\r\n+                    {item?.id}\r\n+                  </td>\r\n+                  <td\r\n+                    style={{\r\n+                      border: \"1px solid black\",\r\n+                      padding: \"8px\",\r\n+                      textAlign: \"center\",\r\n+                    }}\r\n+                  >\r\n+                    <div\r\n+                      style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n                     >\r\n-                      Customer/المتعامل\r\n-                    </p>\r\n-                  </Grid>\r\n-                  <Grid item xs={6}>\r\n-                    <Typography variant=\"body2\" sx={{ fontSize: \"12px\" }}>\r\n-                      {invoiceData?.customerName}\r\n-                    </Typography>\r\n-                  </Grid>\r\n-      \r\n-                  <Grid item xs={6}>\r\n-                    <p\r\n-                      variant=\"body2\"\r\n-                      style={{\r\n-                        fontSize: \"12px\",\r\n-                        fontWeight:\"bold\",\r\n-                        margin: 0\r\n-                      }}\r\n-                    >\r\n-                      Mobile No./رقم الهاتف المتحرك\r\n-                    </p>\r\n-                  </Grid>\r\n-                  <Grid item xs={6}>\r\n-                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n-                      {invoiceData?.mobileNo}\r\n-                    </Typography>\r\n-                  </Grid>\r\n-      \r\n-                  <Grid item xs={6}>\r\n-                    <Typography\r\n-                      variant=\"body2\"\r\n-                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n-                    >\r\n-                      Customer Reference\r\n-                    </Typography>\r\n-                  </Grid>\r\n-                  <Grid item xs={6}>\r\n-                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n-                      {invoiceData?.customerReference}\r\n-                    </Typography>\r\n-                  </Grid>\r\n-      \r\n-                  <Grid item xs={6}>\r\n-                    <Typography\r\n-                      variant=\"body2\"\r\n-                      sx={{ fontWeight: \"bold\", fontSize: \"15px\" }}\r\n-                    >\r\n-                      Customer Address\r\n-                    </Typography>\r\n-                  </Grid>\r\n-                  <Grid item xs={6}>\r\n-                    <Typography variant=\"body2\" sx={{ fontSize: \"15px\" }}>\r\n-                      {invoiceData?.customerAddress}\r\n-                    </Typography>\r\n-                  </Grid>\r\n-                </Grid>\r\n-              </Box>\r\n-            </Box>\r\n-      \r\n-            <Box sx={{ my: 5 }}>\r\n-              <p\r\n-                variant=\"h6\"\r\n-                style={{\r\n-                  fontSize: \"15px\",\r\n-                }}\r\n-              >\r\n-                Particulars تفاصيل\r\n-              </p>\r\n-      \r\n-              <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n-                <thead>\r\n-                  <tr style={{ backgroundColor: \"#f5f5f5\" }}>\r\n-                    <th\r\n-                      style={{\r\n-                        border: \"1px solid black\",\r\n-                        padding: \"8px\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"5%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>Sl.No الرقم</p>\r\n-                    </th>\r\n-                    <th\r\n-                      style={{\r\n-                        border: \"1px solid black\",\r\n-                        padding: \"8px\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"30%\",\r\n-                        fontWeight: \"bold\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>Service - الخدمات</p>\r\n-                    </th>\r\n-                    <th\r\n-                      style={{\r\n-                        border: \"1px solid black\",\r\n-                        padding: \"8px\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"8%\",\r\n-                        fontWeight: \"bold\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>Qty - الكمية</p>\r\n-                    </th>\r\n-                    <th\r\n-                      style={{\r\n-                        border: \"1px solid black\",\r\n-                        padding: \"8px\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"18%\",\r\n-                        fontWeight: \"bold\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>\r\n-                        Govt Fee and Bank Charge - الرسوم الحكومية\r\n-                      </p>\r\n-                    </th>\r\n-                    <th\r\n-                      style={{\r\n-                        border: \"1px solid black\",\r\n-                        padding: \"8px\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"15%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>\r\n-                        Service Charge Taxable - تكلفة الخدمة\r\n-                      </p>\r\n-                    </th>\r\n-                    <th\r\n-                      style={{\r\n-                        border: \"1px solid black\",\r\n-                        padding: \"8px\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"15%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>Tax Amt - قيمة المضافة</p>\r\n-                    </th>\r\n-                    <th\r\n-                      style={{\r\n-                        border: \"1px solid black\",\r\n-                        padding: \"8px\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"15%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>Total - الإجمالي بالدرهم</p>\r\n-                    </th>\r\n-                  </tr>\r\n-                </thead>\r\n-                <tbody>\r\n-                  {invoiceData?.items?.map((item) => (\r\n-                    <tr key={item.id}>\r\n-                      <td\r\n-                        style={{\r\n-                          border: \"1px solid black\",\r\n-                          padding: \"8px\",\r\n-                          textAlign: \"center\",\r\n-                        }}\r\n-                      >\r\n-                        {item?.id}\r\n-                      </td>\r\n-                      <td\r\n-                        style={{\r\n-                          border: \"1px solid black\",\r\n-                          padding: \"8px\",\r\n-                          textAlign: \"center\",\r\n-                        }}\r\n-                      >\r\n-                        <div\r\n-                          style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n-                        >\r\n-                          <span style={{ fontSize: \"12px\", fontWeight: \"bold\" }}>\r\n-                            {item?.service?.name}\r\n-                          </span>\r\n-                          <span style={{ fontSize: \"12px\" }}>{item.service?.name_ar}</span>\r\n-                        </div>\r\n-                        {/* <p style={{ fontSize: \"9px\", textAlign: \"left\" }}>\r\n+                      <span style={{ fontSize: \"12px\", fontWeight: \"bold\" }}>\r\n+                        {item?.service?.name}\r\n+                      </span>\r\n+                      <span style={{ fontSize: \"12px\" }}>{item.service?.name_ar}</span>\r\n+                    </div>\r\n+                    {/* <p style={{ fontSize: \"9px\", textAlign: \"left\" }}>\r\n                           {item?.details}\r\n                         </p> */}\r\n-                      </td>\r\n-                      <td\r\n-                        style={{\r\n-                          border: \"1px solid black\",\r\n-                          padding: \"8px\",\r\n-                          textAlign: \"center\",\r\n-                          fontSize:'12px'\r\n-                        }}\r\n-                      >\r\n-                        {item?.quantity}\r\n-                      </td>\r\n-                      <td\r\n-                        style={{\r\n-                          border: \"1px solid black\",\r\n-                          padding: \"8px\",\r\n-                          textAlign: \"center\",\r\n-                          fontSize:'12px'\r\n-      \r\n-                        }}\r\n-                      >\r\n-                        {(parseFloat((item?.govt_fee || 0)) + parseFloat((item?.bank_charge || 0))).toFixed(2)}\r\n-      \r\n-                      </td>\r\n-                      <td\r\n-                        style={{\r\n-                          border: \"1px solid black\",\r\n-                          padding: \"8px\",\r\n-                          textAlign: \"center\",\r\n-                          fontSize:'12px'\r\n-      \r\n-                        }}\r\n-                      >\r\n-                        {parseFloat(item?.center_fee).toFixed(2)}\r\n-                      </td>\r\n-                      <td\r\n-                        style={{\r\n-                          border: \"1px solid black\",\r\n-                          padding: \"8px\",\r\n-                          textAlign: \"center\",\r\n-                          fontSize:'12px'\r\n-      \r\n-                        }}\r\n-                      >\r\n-                        {parseFloat(item?.bank_charge).toFixed(2)}\r\n-                      </td>\r\n-                      <td\r\n-                        style={{\r\n-                          border: \"1px solid black\",\r\n-                          padding: \"8px\",\r\n-                          textAlign: \"center\",\r\n-                          fontSize:'12px'\r\n-      \r\n-                        }}\r\n-                      >\r\n-                        {parseFloat(item?.total).toFixed(2)}\r\n-                      </td>\r\n-                    </tr>\r\n-                  ))}\r\n-                </tbody>\r\n-              </table>\r\n-      \r\n-              <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n-                <tbody>\r\n-                  <tr>\r\n-                    <td\r\n-                      colSpan={5}\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"right\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>Total Govt.fee & Bank Charge</p>\r\n-                    </td>\r\n-                    <td\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"10%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce(\r\n-  (total, item) =>\r\n-    total +\r\n-    parseFloat(item?.govt_fee ?? 0) +\r\n-    parseFloat(item?.bank_charge ?? 0),\r\n+                  </td>\r\n+                  <td\r\n+                    style={{\r\n+                      border: \"1px solid black\",\r\n+                      padding: \"8px\",\r\n+                      textAlign: \"center\",\r\n+                      fontSize: '12px'\r\n+                    }}\r\n+                  >\r\n+                    {item?.quantity}\r\n+                  </td>\r\n+                  <td\r\n+                    style={{\r\n+                      border: \"1px solid black\",\r\n+                      padding: \"8px\",\r\n+                      textAlign: \"center\",\r\n+                      fontSize: '12px'\r\n+\r\n+                    }}\r\n+                  >\r\n+                    {(parseFloat((item?.govt_fee || 0)) + parseFloat((item?.bank_charge || 0))).toFixed(2)}\r\n+\r\n+                  </td>\r\n+                  <td\r\n+                    style={{\r\n+                      border: \"1px solid black\",\r\n+                      padding: \"8px\",\r\n+                      textAlign: \"center\",\r\n+                      fontSize: '12px'\r\n+\r\n+                    }}\r\n+                  >\r\n+                    {parseFloat(item?.center_fee).toFixed(2)}\r\n+                  </td>\r\n+                  <td\r\n+                    style={{\r\n+                      border: \"1px solid black\",\r\n+                      padding: \"8px\",\r\n+                      textAlign: \"center\",\r\n+                      fontSize: '12px'\r\n+\r\n+                    }}\r\n+                  >\r\n+                    {parseFloat(item?.bank_charge).toFixed(2)}\r\n+                  </td>\r\n+                  <td\r\n+                    style={{\r\n+                      border: \"1px solid black\",\r\n+                      padding: \"8px\",\r\n+                      textAlign: \"center\",\r\n+                      fontSize: '12px'\r\n+\r\n+                    }}\r\n+                  >\r\n+                    {parseFloat(item?.total).toFixed(2)}\r\n+                  </td>\r\n+                </tr>\r\n+              ))}\r\n+            </tbody>\r\n+          </table>\r\n+\r\n+          <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n+            <tbody>\r\n+              <tr>\r\n+                <td\r\n+                  colSpan={5}\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"right\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>Total Govt.fee & Bank Charge</p>\r\n+                </td>\r\n+                <td\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"10%\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>\r\n+                    {(invoiceData?.items?.reduce(\r\n+                      (total, item) =>\r\n+                        total +\r\n+                        parseFloat(item?.govt_fee ?? 0) +\r\n+                        parseFloat(item?.bank_charge ?? 0),\r\n+                      0\r\n+                    ))?.toFixed(2)}\r\n+\r\n+\r\n+                  </p>\r\n+                </td>\r\n+              </tr>\r\n+              <tr>\r\n+                <td\r\n+                  colSpan={5}\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"right\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>Net Taxable Amount</p>\r\n+                </td>\r\n+                <td\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"10%\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>\r\n+                    {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.center_fee ?? 0)), 0))?.toFixed(2)}\r\n+\r\n+\r\n+                  </p>\r\n+                </td>\r\n+              </tr>\r\n+              <tr>\r\n+                <td\r\n+                  colSpan={5}\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"right\",\r\n+                  }}\r\n+                >\r\n+                  <p\r\n+                    style={{\r\n+                      fontSize: \"12px\",\r\n+                      fontFamily: \"'Amiri', Arial, sans-serif\",\r\n+                    }}\r\n+                    className=\"arabic-text\"\r\n+                  >\r\n+                    Total VAT إجمالي القيمة المضافة\r\n+                  </p>\r\n+                </td>\r\n+                <td\r\n+                  align=\"center\"\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"10%\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>\r\n+                  {(invoiceData?.items?.reduce(\r\n+  (total, item) => total + parseFloat(item?.bank_charge ?? 0),\r\n   0\r\n ))?.toFixed(2)}\r\n \r\n-      \r\n-                      </p>\r\n-                    </td>\r\n-                  </tr>\r\n-                  <tr>\r\n-                    <td\r\n-                      colSpan={5}\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"right\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>Net Taxable Amount</p>\r\n-                    </td>\r\n-                    <td\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"10%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.center_fee ?? 0)), 0))?.toFixed(2)}\r\n-      \r\n-      \r\n-                      </p>\r\n-                    </td>\r\n-                  </tr>\r\n-                  <tr>\r\n-                    <td\r\n-                      colSpan={5}\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"right\",\r\n-                      }}\r\n-                    >\r\n-                      <p\r\n-                        style={{\r\n-                          fontSize: \"12px\",\r\n-                          fontFamily: \"'Amiri', Arial, sans-serif\",\r\n-                        }}\r\n-                        className=\"arabic-text\"\r\n-                      >\r\n-                        Total VAT إجمالي القيمة المضافة\r\n-                      </p>\r\n-                    </td>\r\n-                    <td\r\n-                      align=\"center\"\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"10%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.bank_charge ?? 0), 0)))?.toFixed(2)}\r\n-      \r\n-                      </p>\r\n-                    </td>\r\n-                  </tr>\r\n-                  <tr>\r\n-                    <td\r\n-                      colSpan={5}\r\n-                      align=\"right\"\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"right\",\r\n-                      }}\r\n-                    >\r\n-                      <p\r\n-                        style={{\r\n-                          fontSize: \"12px\",\r\n-                          fontFamily: \"'Amiri', Arial, sans-serif\",\r\n-                        }}\r\n-                        className=\"arabic-text\"\r\n-                      >\r\n-                        Gross Total إجمالي القيمة\r\n-                      </p>\r\n-                    </td>\r\n-                    <td\r\n-                      align=\"center\"\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"10%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>\r\n-                        {detail?.total_amount?.toFixed(2)}\r\n-                      </p>\r\n-                    </td>\r\n-                  </tr>\r\n-                  <tr>\r\n-                    <td\r\n-                      colSpan={5}\r\n-                      align=\"right\"\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"right\",\r\n-                      }}\r\n-                    >\r\n-                      <p\r\n-                        style={{\r\n-                          fontSize: \"12px\",\r\n-                          fontFamily: \"'Amiri', Arial, sans-serif\",\r\n-                        }}\r\n-                        className=\"arabic-text\"\r\n-                      >\r\n-                        Customer Card Payment الإجمالي\r\n-                      </p>\r\n-                    </td>\r\n-                    <td\r\n-                      align=\"right\"\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"10%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>\r\n-                      {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.bank_charge ?? 0), 0)))?.toFixed(2)}\r\n-      \r\n-                      \r\n-      \r\n-                      </p>\r\n-                    </td>\r\n-                  </tr>\r\n-                  <tr>\r\n-                    <td\r\n-                      colSpan={5}\r\n-                      align=\"right\"\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"right\",\r\n-                      }}\r\n-                    >\r\n-                      <p\r\n-                        style={{\r\n-                          fontSize: \"12px\",\r\n-                          fontFamily: \"'Amiri', Arial, sans-serif\",\r\n-                        }}\r\n-                        className=\"arabic-text\"\r\n-                      >\r\n-                        Total Payable الإجمالي\r\n-                      </p>\r\n-                    </td>\r\n-                    <td\r\n-                      align=\"right\"\r\n-                      style={{\r\n-                        border: \"1px solid #000\",\r\n-                        padding: \"0.5rem\",\r\n-                        textAlign: \"center\",\r\n-                        width: \"10%\",\r\n-                      }}\r\n-                    >\r\n-                      <p style={{ fontSize: \"12px\" }}>\r\n-                      {detail?.total_amount?.toFixed(2)}\r\n-      \r\n-                      </p>\r\n-                    </td>\r\n-                  </tr>\r\n-                </tbody>\r\n-              </table>\r\n-            </Box>\r\n-            <Box class=\"footer\">\r\n-              <Box textAlign=\"center\" pb={2} sx={{ my: \"60px\", mt: \"100px\" }}>\r\n-                <Box\r\n-                  display=\"flex\"\r\n-                  justifyContent=\"space-between\"\r\n-                  alignItems=\"flex-start\"\r\n+\r\n+                  </p>\r\n+                </td>\r\n+              </tr>\r\n+              <tr>\r\n+                <td\r\n+                  colSpan={5}\r\n+                  align=\"right\"\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"right\",\r\n+                  }}\r\n                 >\r\n-                  <Box textAlign=\"center\">\r\n-                    <Typography\r\n-                      variant=\"h6\"\r\n-                      fontWeight=\"bold\"\r\n-                      sx={{ fontSize: \"12px\" }}\r\n-                    >\r\n-                      SabelahHaq Naqaz\r\n-                    </Typography>\r\n-                    <p\r\n-                      variant=\"body2\"\r\n-                      style={{\r\n-                        fontSize: \"12px\",\r\n-                      }}\r\n-                    >\r\n-                      Authorized Signatory - المخول بالتوقيع\r\n-                    </p>\r\n-                    <Typography\r\n-                      variant=\"body2\"\r\n-                      sx={{ fontSize: \"12px\", textAlign: \"center\" }}\r\n-                    >\r\n-                      (REPRINT)\r\n-                    </Typography>\r\n-                  </Box>\r\n-      \r\n-                  <Box textAlign=\"right\" sx={{ fontSize: \"12px\" }}>\r\n-                    <p\r\n-                      variant=\"body2\"\r\n-                      style={{\r\n-                        fontSize: \"12px\",\r\n-                      }}\r\n-                    >\r\n-                      Note - ملاحظات\r\n-                    </p>\r\n-                    <p\r\n-                      variant=\"body2\"\r\n-                      style={{\r\n-                        fontSize: \"12px\",\r\n-                      }}\r\n-                    >\r\n-                      الرجاء التأكد من الفاتورة والمستندات قبل مغادرة الكاونتر\r\n-                    </p>\r\n-                    <Typography variant=\"body2\" dir=\"ltr\" sx={{ fontSize: \"12px\" }}>\r\n-                      Kindly check the invoice and documents before leaving the\r\n-                      counter\r\n-                    </Typography>\r\n-                  </Box>\r\n-                </Box>\r\n-      \r\n-                <Typography variant=\"body1\" fontWeight=\"bold\" color=\"error\" mt={2}>\r\n-                  \"save 10 aed on all DED transactions every Saturday in Premium\r\n-                  Businessmen Services\"\r\n+                  <p\r\n+                    style={{\r\n+                      fontSize: \"12px\",\r\n+                      fontFamily: \"'Amiri', Arial, sans-serif\",\r\n+                    }}\r\n+                    className=\"arabic-text\"\r\n+                  >\r\n+                    Gross Total إجمالي القيمة\r\n+                  </p>\r\n+                </td>\r\n+                <td\r\n+                  align=\"center\"\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"10%\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>\r\n+                    {detail?.total_amount?.toFixed(2)}\r\n+                  </p>\r\n+                </td>\r\n+              </tr>\r\n+              <tr>\r\n+                <td\r\n+                  colSpan={5}\r\n+                  align=\"right\"\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"right\",\r\n+                  }}\r\n+                >\r\n+                  <p\r\n+                    style={{\r\n+                      fontSize: \"12px\",\r\n+                      fontFamily: \"'Amiri', Arial, sans-serif\",\r\n+                    }}\r\n+                    className=\"arabic-text\"\r\n+                  >\r\n+                    Customer Card Payment الإجمالي\r\n+                  </p>\r\n+                </td>\r\n+                <td\r\n+                  align=\"right\"\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"10%\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>\r\n+                    {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.bank_charge ?? 0), 0)))?.toFixed(2)}\r\n+\r\n+\r\n+\r\n+                  </p>\r\n+                </td>\r\n+              </tr>\r\n+              <tr>\r\n+                <td\r\n+                  colSpan={5}\r\n+                  align=\"right\"\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"right\",\r\n+                  }}\r\n+                >\r\n+                  <p\r\n+                    style={{\r\n+                      fontSize: \"12px\",\r\n+                      fontFamily: \"'Amiri', Arial, sans-serif\",\r\n+                    }}\r\n+                    className=\"arabic-text\"\r\n+                  >\r\n+                    Total Payable الإجمالي\r\n+                  </p>\r\n+                </td>\r\n+                <td\r\n+                  align=\"right\"\r\n+                  style={{\r\n+                    border: \"1px solid #000\",\r\n+                    padding: \"0.5rem\",\r\n+                    textAlign: \"center\",\r\n+                    width: \"10%\",\r\n+                  }}\r\n+                >\r\n+                  <p style={{ fontSize: \"12px\" }}>\r\n+                    {detail?.total_amount?.toFixed(2)}\r\n+\r\n+                  </p>\r\n+                </td>\r\n+              </tr>\r\n+            </tbody>\r\n+          </table>\r\n+        </Box>\r\n+        <Box class=\"footer\">\r\n+          <Box textAlign=\"center\" pb={2} sx={{ my: \"60px\", mt: \"100px\" }}>\r\n+            <Box\r\n+              display=\"flex\"\r\n+              justifyContent=\"space-between\"\r\n+              alignItems=\"flex-start\"\r\n+            >\r\n+              <Box textAlign=\"center\">\r\n+                <Typography\r\n+                  variant=\"h6\"\r\n+                  fontWeight=\"bold\"\r\n+                  sx={{ fontSize: \"12px\" }}\r\n+                >\r\n+                  SabelahHaq Naqaz\r\n                 </Typography>\r\n+                <p\r\n+                  variant=\"body2\"\r\n+                  style={{\r\n+                    fontSize: \"12px\",\r\n+                  }}\r\n+                >\r\n+                  Authorized Signatory - المخول بالتوقيع\r\n+                </p>\r\n+                <Typography\r\n+                  variant=\"body2\"\r\n+                  sx={{ fontSize: \"12px\", textAlign: \"center\" }}\r\n+                >\r\n+                  (REPRINT)\r\n+                </Typography>\r\n               </Box>\r\n-      \r\n-              <div className=\"w-full h-[115px] flex justify-center items-center mb-4\">\r\n-                <img\r\n-                  src={Images.footer}\r\n-                  alt=\"Header\"\r\n-                  style={{ width: \"100%\" }}\r\n-                  className=\"max-w-full h-auto\"\r\n-                />\r\n-              </div>\r\n+\r\n+              <Box textAlign=\"right\" sx={{ fontSize: \"12px\" }}>\r\n+                <p\r\n+                  variant=\"body2\"\r\n+                  style={{\r\n+                    fontSize: \"12px\",\r\n+                  }}\r\n+                >\r\n+                  Note - ملاحظات\r\n+                </p>\r\n+                <p\r\n+                  variant=\"body2\"\r\n+                  style={{\r\n+                    fontSize: \"12px\",\r\n+                  }}\r\n+                >\r\n+                  الرجاء التأكد من الفاتورة والمستندات قبل مغادرة الكاونتر\r\n+                </p>\r\n+                <Typography variant=\"body2\" dir=\"ltr\" sx={{ fontSize: \"12px\" }}>\r\n+                  Kindly check the invoice and documents before leaving the\r\n+                  counter\r\n+                </Typography>\r\n+              </Box>\r\n             </Box>\r\n+\r\n+            <Typography variant=\"body1\" fontWeight=\"bold\" color=\"error\" mt={2}>\r\n+              \"save 10 aed on all DED transactions every Saturday in Premium\r\n+              Businessmen Services\"\r\n+            </Typography>\r\n           </Box>\r\n+\r\n+          <div className=\"w-full h-[115px] flex justify-center items-center mb-4\">\r\n+            <img\r\n+              src={Images.footer}\r\n+              alt=\"Header\"\r\n+              style={{ width: \"100%\" }}\r\n+              className=\"max-w-full h-auto\"\r\n+            />\r\n+          </div>\r\n+        </Box>\r\n+      </Box>\r\n     </>\r\n   );\r\n }\r\n \r\n"
                },
                {
                    "date": 1744731806956,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1471,12 +1471,12 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                  {(invoiceData?.items?.reduce(\r\n-  (total, item) => total + parseFloat(item?.bank_charge ?? 0),\r\n-  0\r\n-))?.toFixed(2)}\r\n+                    {(invoiceData?.items?.reduce(\r\n+                      (total, item) => total + parseFloat(item?.bank_charge ?? 0),\r\n+                      0\r\n+                    ))?.toFixed(2)}\r\n \r\n \r\n                   </p>\r\n                 </td>\r\n@@ -1544,12 +1544,16 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                    {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.bank_charge ?? 0), 0)))?.toFixed(2)}\r\n+                  {(invoiceData?.items?.reduce(\r\n+  (total, item) => total + parseFloat(item?.bank_charge ?? 0),\r\n+  0\r\n+))?.toFixed(2)}\r\n \r\n \r\n \r\n+\r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n               <tr>\r\n"
                },
                {
                    "date": 1744731887877,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1406,9 +1406,9 @@\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n                     {(invoiceData?.items?.reduce(\r\n                       (total, item) =>\r\n-                        total +\r\n+                        parseFloat( total) +\r\n                         parseFloat(item?.govt_fee ?? 0) +\r\n                         parseFloat(item?.bank_charge ?? 0),\r\n                       0\r\n                     ))?.toFixed(2)}\r\n@@ -1544,12 +1544,12 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                  {(invoiceData?.items?.reduce(\r\n-  (total, item) => total + parseFloat(item?.bank_charge ?? 0),\r\n-  0\r\n-))?.toFixed(2)}\r\n+                    {(invoiceData?.items?.reduce(\r\n+                      (total, item) => total + parseFloat(item?.bank_charge ?? 0),\r\n+                      0\r\n+                    ))?.toFixed(2)}\r\n \r\n \r\n \r\n \r\n"
                },
                {
                    "date": 1744731950300,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1510,9 +1510,9 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                    {detail?.total_amount?.toFixed(2)}\r\n+                    {parseFloat(detail?.total_amount).toFixed(2)}\r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n               <tr>\r\n"
                },
                {
                    "date": 1744731970614,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1585,9 +1585,9 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                    {detail?.total_amount?.toFixed(2)}\r\n+                    {parseFloat(detail?.total_amount).toFixed(2)}\r\n \r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n"
                },
                {
                    "date": 1744732407878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1510,9 +1510,9 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                    {parseFloat(detail?.total_amount).toFixed(2)}\r\n+                    {parseFloat(detail?.total).toFixed(2)}\r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n               <tr>\r\n"
                },
                {
                    "date": 1744732415129,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1585,9 +1585,9 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                    {parseFloat(detail?.total_amount).toFixed(2)}\r\n+                    {parseFloat(detail?.total).toFixed(2)}\r\n \r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n"
                },
                {
                    "date": 1744732544278,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,23 +274,23 @@\n         total_amount: subTotal,\r\n \r\n         items: rows,\r\n       };\r\n-      generatePDF()\r\n+  \r\n       console.log(formData, \"formData\");\r\n-      // const promise = CustomerServices.CreateSaleReceipt(obj);\r\n+      const promise = CustomerServices.CreateSaleReceipt(obj);\r\n \r\n-      // showPromiseToast(\r\n-      //   promise,\r\n-      //   \"Saving...\",\r\n-      //   \"Added Successfully\",\r\n-      //   \"Something Went Wrong\"\r\n-      // );\r\n-      // const response = await promise;\r\n-      // if (response?.responseCode === 200) {\r\n-      //   generatePDF()\r\n-      //   navigate(\"/pre-sales\");\r\n-      // }\r\n+      showPromiseToast(\r\n+        promise,\r\n+        \"Saving...\",\r\n+        \"Added Successfully\",\r\n+        \"Something Went Wrong\"\r\n+      );\r\n+      const response = await promise;\r\n+      if (response?.responseCode === 200) {\r\n+        generatePDF()\r\n+        navigate(\"/pre-sales\");\r\n+      }\r\n     } catch (error) {\r\n       ErrorToaster(error);\r\n     }\r\n   };\r\n"
                },
                {
                    "date": 1744732700755,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1510,8 +1510,9 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n+                  {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n                     {parseFloat(detail?.total).toFixed(2)}\r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n"
                },
                {
                    "date": 1744732713604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1510,10 +1510,10 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                  {(invoiceData?.items?.reduce((total, item) => total + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n-                    {parseFloat(detail?.total).toFixed(2)}\r\n+                  {(invoiceData?.items?.reduce((total2, item) => total2 + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n+\r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n               <tr>\r\n"
                },
                {
                    "date": 1744732719683,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1510,9 +1510,9 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                  {(invoiceData?.items?.reduce((total2, item) => total2 + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n+                  {(invoiceData?.items?.reduce((total2, item) => parseFloat(total2) + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n \r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n"
                },
                {
                    "date": 1744732747411,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1586,9 +1586,10 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                    {parseFloat(detail?.total).toFixed(2)}\r\n+                  {(invoiceData?.items?.reduce((total2, item) => parseFloat(total2) + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n+            \r\n \r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n"
                },
                {
                    "date": 1744738375871,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -710,10 +710,25 @@\n                         placeholder=\"Reference\"\r\n                         register={register1(\"ref\")}\r\n                       />\r\n                     </Grid>\r\n+                    <Grid item md={3.8} sm={5.5} xs={12}>\r\n+                        <SelectField\r\n+                          label=\"Cost Center\"\r\n+                          size=\"small\"\r\n+                          disabled={true}\r\n+                          options={[{ id: \"Al-ADHEED\", name: \"Al-ADHEED\" }]}\r\n+                          selected={watch1(\"cost_center\")}\r\n+                          onSelect={(value) => setValue1(\"cost_center\", value)}\r\n+                          register={register1(\"cost_center\",\r\n+                            {\r\n+                              required:false\r\n+                            }\r\n+                          )}\r\n+                       \r\n+                        />\r\n+                      </Grid>\r\n \r\n-\r\n                     <Grid item md={5.7} sm={12} xs={12}>\r\n                       <InputField\r\n                         label=\"Address\"\r\n                         size=\"small\"\r\n"
                },
                {
                    "date": 1744738406683,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -700,10 +700,33 @@\n                         })}\r\n                         error={errors1?.email?.message}\r\n                       />\r\n                     </Grid>\r\n+                    <Grid item md={3.8} sm={5.5} xs={12}>\r\n+                        <InputField\r\n+                          label=\"TRN\"\r\n+                          size=\"small\"\r\n+                          placeholder=\"TRN\"\r\n+                          disabled={true}\r\n+                          register={register1(\"trn\",{\r\n+                            required:false\r\n+                          })}\r\n+                          \r\n+                        />\r\n+                      </Grid>\r\n+                      <Grid item md={3.8} sm={5.5} xs={12}>\r\n+                        <InputField\r\n+                          label=\"Case No\"\r\n+                          size=\"small\"\r\n+                          placeholder=\"Case No\"\r\n+                          disabled={true}\r\n+                          register={register1(\"caseno\",{\r\n+                            required:false\r\n+                          })}\r\n+                          \r\n+                        />\r\n+                      </Grid>\r\n \r\n-\r\n                     <Grid item md={5.7} sm={12} xs={12}>\r\n                       <InputField\r\n                         label=\"Ref\"\r\n                         size=\"small\"\r\n"
                },
                {
                    "date": 1744738426055,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -264,9 +264,9 @@\n       let obj = {\r\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n-\r\n+        trn: formData?.trn,\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n         customer_email: formData?.email,\r\n@@ -274,9 +274,9 @@\n         total_amount: subTotal,\r\n \r\n         items: rows,\r\n       };\r\n-  \r\n+\r\n       console.log(formData, \"formData\");\r\n       const promise = CustomerServices.CreateSaleReceipt(obj);\r\n \r\n       showPromiseToast(\r\n@@ -701,32 +701,32 @@\n                         error={errors1?.email?.message}\r\n                       />\r\n                     </Grid>\r\n                     <Grid item md={3.8} sm={5.5} xs={12}>\r\n-                        <InputField\r\n-                          label=\"TRN\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"TRN\"\r\n-                          disabled={true}\r\n-                          register={register1(\"trn\",{\r\n-                            required:false\r\n-                          })}\r\n-                          \r\n-                        />\r\n-                      </Grid>\r\n-                      <Grid item md={3.8} sm={5.5} xs={12}>\r\n-                        <InputField\r\n-                          label=\"Case No\"\r\n-                          size=\"small\"\r\n-                          placeholder=\"Case No\"\r\n-                          disabled={true}\r\n-                          register={register1(\"caseno\",{\r\n-                            required:false\r\n-                          })}\r\n-                          \r\n-                        />\r\n-                      </Grid>\r\n+                      <InputField\r\n+                        label=\"TRN\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"TRN\"\r\n+                        disabled={true}\r\n+                        register={register1(\"trn\", {\r\n+                          required: false\r\n+                        })}\r\n \r\n+                      />\r\n+                    </Grid>\r\n+                    <Grid item md={3.8} sm={5.5} xs={12}>\r\n+                      <InputField\r\n+                        label=\"Case No\"\r\n+                        size=\"small\"\r\n+                        placeholder=\"Case No\"\r\n+                        disabled={true}\r\n+                        register={register1(\"caseno\", {\r\n+                          required: false\r\n+                        })}\r\n+\r\n+                      />\r\n+                    </Grid>\r\n+\r\n                     <Grid item md={5.7} sm={12} xs={12}>\r\n                       <InputField\r\n                         label=\"Ref\"\r\n                         size=\"small\"\r\n@@ -734,24 +734,24 @@\n                         register={register1(\"ref\")}\r\n                       />\r\n                     </Grid>\r\n                     <Grid item md={3.8} sm={5.5} xs={12}>\r\n-                        <SelectField\r\n-                          label=\"Cost Center\"\r\n-                          size=\"small\"\r\n-                          disabled={true}\r\n-                          options={[{ id: \"Al-ADHEED\", name: \"Al-ADHEED\" }]}\r\n-                          selected={watch1(\"cost_center\")}\r\n-                          onSelect={(value) => setValue1(\"cost_center\", value)}\r\n-                          register={register1(\"cost_center\",\r\n-                            {\r\n-                              required:false\r\n-                            }\r\n-                          )}\r\n-                       \r\n-                        />\r\n-                      </Grid>\r\n+                      <SelectField\r\n+                        label=\"Cost Center\"\r\n+                        size=\"small\"\r\n+                        disabled={true}\r\n+                        options={[{ id: \"Al-ADHEED\", name: \"Al-ADHEED\" }]}\r\n+                        selected={watch1(\"cost_center\")}\r\n+                        onSelect={(value) => setValue1(\"cost_center\", value)}\r\n+                        register={register1(\"cost_center\",\r\n+                          {\r\n+                            required: false\r\n+                          }\r\n+                        )}\r\n \r\n+                      />\r\n+                    </Grid>\r\n+\r\n                     <Grid item md={5.7} sm={12} xs={12}>\r\n                       <InputField\r\n                         label=\"Address\"\r\n                         size=\"small\"\r\n@@ -1444,9 +1444,9 @@\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n                     {(invoiceData?.items?.reduce(\r\n                       (total, item) =>\r\n-                        parseFloat( total) +\r\n+                        parseFloat(total) +\r\n                         parseFloat(item?.govt_fee ?? 0) +\r\n                         parseFloat(item?.bank_charge ?? 0),\r\n                       0\r\n                     ))?.toFixed(2)}\r\n@@ -1548,9 +1548,9 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                  {(invoiceData?.items?.reduce((total2, item) => parseFloat(total2) + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n+                    {(invoiceData?.items?.reduce((total2, item) => parseFloat(total2) + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n \r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n@@ -1624,11 +1624,11 @@\n                     width: \"10%\",\r\n                   }}\r\n                 >\r\n                   <p style={{ fontSize: \"12px\" }}>\r\n-                  {(invoiceData?.items?.reduce((total2, item) => parseFloat(total2) + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n-            \r\n+                    {(invoiceData?.items?.reduce((total2, item) => parseFloat(total2) + parseFloat((item?.total ?? 0)), 0))?.toFixed(2)}\r\n \r\n+\r\n                   </p>\r\n                 </td>\r\n               </tr>\r\n             </tbody>\r\n"
                },
                {
                    "date": 1744738437311,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -265,8 +265,9 @@\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n         trn: formData?.trn,\r\n+        case_no: formData?.case_no,\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n         customer_email: formData?.email,\r\n"
                },
                {
                    "date": 1744738463704,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -265,9 +265,10 @@\n         token_number: formData?.token,\r\n         token_date: date,\r\n         invoice_prefix: \"AAD\",\r\n         trn: formData?.trn,\r\n-        case_no: formData?.case_no,\r\n+        case_no: formData?.caseno,\r\n+        cost_center: formData?.caseno,\r\n         customer_name: formData?.display_customer,\r\n         reception_id: detail?.id,\r\n         customer_mobile: formData?.mobile,\r\n         customer_email: formData?.email,\r\n"
                }
            ],
            "date": 1744620323235,
            "name": "Commit-0",
            "content": "import React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Checkbox,\r\n  Container,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  Grid,\r\n  IconButton,\r\n  InputLabel,\r\n  Radio,\r\n  RadioGroup,\r\n  Table,\r\n  TableCell,\r\n  TableContainer,\r\n  TableRow,\r\n  Typography,\r\n  TableBody,\r\n  TableHead,\r\n  TextField,\r\n  Paper,\r\n} from \"@mui/material\";\r\nimport RegisterContainer from \"container/Register\";\r\nimport { useTheme } from \"@mui/material/styles\";\r\nimport MobileStepper from \"@mui/material/MobileStepper\";\r\nimport Button from \"@mui/material/Button\";\r\nimport KeyboardArrowLeft from \"@mui/icons-material/KeyboardArrowLeft\";\r\nimport KeyboardArrowRight from \"@mui/icons-material/KeyboardArrowRight\";\r\nimport { PrimaryButton } from \"components/Buttons\";\r\nimport Colors from \"assets/Style/Colors\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport UploadFile from \"components/UploadFile\";\r\nimport InputField from \"components/Input\";\r\nimport DatePicker from \"components/DatePicker\";\r\nimport { ErrorToaster } from \"components/Toaster\";\r\nimport { FormControl } from \"@mui/base\";\r\nimport LabelCustomInput from \"components/Input/LabelCustomInput\";\r\nimport SelectField from \"components/Select\";\r\nimport {\r\n  CleanTypes,\r\n  Debounce,\r\n  Debounce2,\r\n  getFileSize,\r\n  handleDownload,\r\n} from \"utils\";\r\nimport instance from \"config/axios\";\r\nimport routes from \"services/System/routes\";\r\nimport CustomerServices from \"services/Customer\";\r\nimport CustomerService from \"../DashboardPages/CustomerService\";\r\nimport { showErrorToast, showPromiseToast } from \"components/NewToaster\";\r\nimport moment from \"moment\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport SystemServices from \"services/System\";\r\nimport UploadFileSingle from \"components/UploadFileSingle\";\r\nimport { Images } from \"assets\";\r\nimport { useCallbackPrompt } from \"hooks/useCallBackPrompt\";\r\nimport { addMonths } from \"date-fns\";\r\nimport { useAuth } from \"context/UseContext\";\r\nimport DoDisturbIcon from \"@mui/icons-material/DoDisturb\";\r\nimport axios from \"axios\";\r\nimport UploadIcon from \"@mui/icons-material/Upload\";\r\nimport FinanceServices from \"services/Finance\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\n// import { TableBody, TableHead } from \"mui-datatables\";\r\n\r\nfunction SalesReciept() {\r\n  const theme = useTheme();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [formChange, setFormChange] = useState(false);\r\n  const [submit, setSubmit] = useState(false);\r\n  const [excludeFromSales, setExcludeFromSales] = useState(\"no\");\r\n  const [excludeFromPurchase, setExcludeFromPurchase] = useState(\"no\");\r\n  const [total, setTotal] = useState(0);\r\n  const [subTotal, setSubTotal] = useState(0); \r\n  const [rows, setRows] = useState([]);\r\n\r\n\r\nconsole.log(rows , \"data\")\r\n  const [items, setItems] = useState([\r\n    {\r\n      itemCode: \"\",\r\n      itemDescription: \"TASHEEL AUTO 19\",\r\n      totalCharge: 17.1,\r\n      mbNo: \"\",\r\n      applicationId: \"\",\r\n      total: 17.1,\r\n    },\r\n  ]);\r\n\r\n  // const addItem = () => {\r\n  //   const newItem = {\r\n  //     itemCode: \"\",\r\n  //     itemDescription: \"\",\r\n  //     totalCharge: 0,\r\n  //     mbNo: \"\",\r\n  //     applicationId: \"\",\r\n  //     total: 0,\r\n  //   };\r\n  //   setItems([...items, newItem]);\r\n  // };\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    getValues,\r\n    setValue,\r\n    watch,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm();\r\n  const {\r\n    register: register1,\r\n    handleSubmit: handleSubmit1,\r\n    setValue: setValue1,\r\n    getValues: getValues1,\r\n    control,\r\n    watch :watch1,\r\n    formState: { errors: errors1 },\r\n  } = useForm();\r\n\r\n  // Watch all form data\r\n  \r\n  // Watch for changes in the fee-related fields\r\n  const govtFee = watch('govt_fee', 0);\r\n  const centerFee = watch('center_fee', 0);\r\n  const bankCharges = watch('bank_charges', 0);\r\n  const qty = watch('qty', 1);\r\n  useEffect(() => {\r\n    const feesTotal = (parseFloat(govtFee) || 0) + (parseFloat(centerFee) || 0) + (parseFloat(bankCharges) || 0);\r\n    const finalTotal = feesTotal * (parseFloat(qty) || 1); \r\n    setValue(\"total\",finalTotal);\r\n  }, [govtFee, centerFee, bankCharges, qty]);\r\n\r\nconst addItem = (data) => {\r\n  const total = data.total;  \r\n  setRows((prevRows) => {\r\n    const updatedRows = [...prevRows, data];\r\n    const newSubTotal = updatedRows.reduce((sum, row) => sum + row.total, 0); \r\n    setSubTotal(newSubTotal); \r\n    return updatedRows;\r\n  });\r\n  reset();\r\n  setServiceItem(\"\")\r\n};\r\n  const isFormDataEmpty = (data) => {\r\n    // Check if all form fields are empty\r\n    return Object.values(data).every((value) => {\r\n      // If the value is an object (like companyLogo), check if it's empty\r\n      if (typeof value === \"object\" && value !== null) {\r\n        return Object.keys(value).length === 0;\r\n      }\r\n      // Otherwise, check if the value is an empty string\r\n      return value === \"\";\r\n    });\r\n  };  \r\n\r\n  const allowFilesType = [\r\n    \"image/png\",\r\n    \"image/jpg\",\r\n    \"image/jpeg\",\r\n    \"application/pdf\",\r\n    \"application/vnd.ms-excel\",\r\n    \"application/msword\",\r\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\r\n  ];\r\n  const allowFilesType2 = [\"image/png\", \"image/jpg\", \"image/jpeg\"];\r\n  const [guarantors, setGuarantors] = useState([]);\r\n  const [activeStep, setActiveStep] = React.useState(1);\r\n\r\n  // *For Deposit Slip\r\n  const [progress, setProgress] = useState(0);\r\n  const [uploadedSize, setUploadedSize] = useState(0);\r\n  const [slipDetail, setSlipDetail] = useState([]);\r\n\r\n  const [selectedDue, setSelectedDue] = useState({\r\n    id: \"Instant\",\r\n    name: \"Instant\",\r\n  });\r\n  const [passport, setPassport] = useState();\r\n  const [allocation, setAllocation] = useState(false);\r\n  const [depositError, setDepositError] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [emailVerify, setEmailVerify] = useState(false);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [loader, setLoader] = useState(false);\r\n  const [fieldsDisabled, setFieldsDisabled] = useState({\r\n    monthlyVisaServiceCharges: false,\r\n    vipMedical: false,\r\n    extraTyping: true,\r\n  });\r\n\r\n  const [center, setCenter] = useState(null);\r\n  const [status, setStatus] = useState(null);\r\n\r\n  // *For Stepper Forms Data\r\n  const [stepFormData, setStepFormData] = useState();\r\n  const [step1FormData, setStep1FormData] = useState();\r\n  const [selectedType, setSelectedType] = useState(null);\r\n  const [date, setDate] = useState(null);\r\n  const [balanceType, setBalanceType] = useState(null);\r\n  const [imageURL, setImageURL] = useState(null);\r\n  const fileInputRef = useRef(null);\r\n  const [hovered, setHovered] = useState(false);\r\n  const [accounts, setAccounts] = useState([]);\r\n  const [salesAccount, setSalesAccount] = useState(null);\r\n  const [inventoryAccount, setInventoryAccount] = useState(null);\r\n  const [cogsAccount, setCogsAccount] = useState(null);\r\n  const [adjustmentAccount, setAdjustmentAccount] = useState(null);\r\n  const [assemblyAccount, setAssemblyAccount] = useState(null);\r\n  const [itemType, setItemType] = useState(null);\r\n  const [unit, setUnit] = useState(null);\r\n  const [taxes, setTaxes] = useState([]);\r\n  const [tax, setTax] = useState(null);\r\n  const [category, setCategory] = useState(null);\r\n  const [categories, setCategories] = useState(null);\r\n  const [governmentAccount, setGovernmnentAccount] = useState(null);\r\n  const [description, setDescription] = useState(null);\r\n  const [ownGovBank, setOwnGovBank] = useState(null);\r\n  const [services, setServices] = useState(null);\r\n  const [serviceItem, setServiceItem] = useState(null);\r\n  //documents array\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const submitForm1 = async (formData) => {\r\n    console.log(formData);\r\n    try {\r\n      let obj = {\r\n        name: formData?.name,\r\n        name_ar: formData?.arabic,\r\n        category_id: category?.id,\r\n        center_fee: Number(formData?.center_fee),\r\n        govt_bank_account_id: governmentAccount?.id,\r\n        bank_service_charge: Number(formData?.bank_service_charges),\r\n        other_charge: Number(formData?.other_charge),\r\n        local_commission: Number(formData?.local_commission),\r\n        item_tax_type: tax?.name,\r\n        editable_description: description?.id,\r\n        sales_account_id: salesAccount?.id,\r\n        use_own_govt_bank: ownGovBank?.id,\r\n        cogs_account_id: cogsAccount?.id,\r\n        vat_bank_charge: Number(formData?.vat_bank_charge),\r\n        non_local_commission: Number(formData?.non_local_commission),\r\n      };\r\n      console.log(formData, \"formData\");\r\n      //   const promise = CustomerServices.AddServiceItem(obj);\r\n\r\n      //   showPromiseToast(\r\n      //     promise,\r\n      //     \"Saving...\",\r\n      //     \"Added Successfully\",\r\n      //     \"Something Went Wrong\"\r\n      //   );\r\n      //   const response = await promise;\r\n      //   if (response?.responseCode === 200) {\r\n      //     navigate(\"/service-list\");\r\n      //   }\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    }\r\n  };\r\n\r\n  // *For Get Account\r\n  const getReceptionDetail = async () => {\r\n    try {\r\n      let params = {\r\n        token_number: getValues1(\"token\"),\r\n      };\r\n      const { data } = await CustomerServices.getReceptionDetail(params);\r\n      console.log(data, \"dataaa\");\r\n      setValue1(\"customer\", data?.token?.customer_name);\r\n      setValue1(\"invoice_date\", moment().toDate());\r\n      setValue1(\"mobile\", data?.token?.mobile);\r\n      setValue1(\"ref\", data?.token?.reference);\r\n      setValue1(\"display_customer\", data?.token?.customer_name);\r\n      setValue1(\"email\", data?.token?.email);\r\n      setValue1(\"address\", data?.token?.address);\r\n      setValue1(\"trn\", data?.token?.trn);\r\n      setValue1(\"cost_center\", data?.token?.cost_center);\r\n\r\n      setAccounts(data?.accounts?.rows);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n\r\n  const getServiceItem = async () => {\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n      };\r\n\r\n      const { data } = await CustomerServices.getServiceItem(params);\r\n\r\n      setServices(data?.rows);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n  const handleServiceSelect = async (value) => {\r\n    console.log(value, \"idididid\");\r\n    setServiceItem(value);\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        service_id: value?.id,\r\n      };\r\n\r\n      const { data } = await CustomerServices.DetailServiceItem(params);\r\n      setValue(\"item_code\", data?.service?.id);\r\n      setValue(\"govt_fee\", data?.service?.bank_service_charge);\r\n      setValue(\"center_fee\", data?.service?.center_fee);\r\n      setValue(\"bank_charges\", data?.service?.bank_service_charge);\r\n      setValue(\"qty\",1);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n\r\n  const getAccounts = async (page, limit, filter) => {\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n      };\r\n\r\n      const { data } = await FinanceServices.getAccounts(params);\r\n      console.log(data?.accounts?.rows);\r\n\r\n      setAccounts(data?.accounts?.rows);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n  const getTax = async () => {\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n      };\r\n\r\n      const { data } = await FinanceServices.getTax(params);\r\n      console.log(data?.accounts?.rows);\r\n\r\n      setTaxes(data?.tax);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n  const getCategories = async () => {\r\n    // setLoader(true)\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n      };\r\n\r\n      const { data } = await CustomerServices.getCategoryList(params);\r\n\r\n      setCategories(data?.categories);\r\n    } catch (error) {\r\n      ErrorToaster(error);\r\n    } finally {\r\n      // setLoader(false)\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAccounts();\r\n    getTax();\r\n    getCategories();\r\n    getServiceItem();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ width: \"100%\" }}></Box>\r\n      <Box m={3} sx={{ backgroundColor: \"white\", borderRadius: \"12px\" }}>\r\n        {\r\n          <>\r\n            <Box component={\"form\"} onSubmit={handleSubmit1(submitForm1)}>\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  gap: \"10px\",\r\n                  p: 3,\r\n                  alignItems: \"flex-end\",\r\n                }}\r\n              >\r\n                <Typography sx={{ fontSize: \"22px\", fontWeight: \"bold\" }}>\r\n                  Sales Receipt\r\n                </Typography>\r\n              </Box>\r\n\r\n              <Box sx={{ p: 3 }}>\r\n                <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                  <Grid item xs={12}>\r\n                    <Grid container>\r\n                      <Grid item md={3} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Token\"\r\n                          size=\"small\"\r\n                          placeholder=\"Enter Token\"\r\n                          register={register1(\"token\")}\r\n                          InputProps={{\r\n                            endAdornment: (\r\n                              <IconButton onClick={getReceptionDetail}>\r\n                                <SearchIcon sx={{ color: \"#bd9b4a\" }} />\r\n                              </IconButton>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  <Grid\r\n                    item\r\n                    md={5.5}\r\n                    sm={12}\r\n                    xs={12}\r\n                    sx={{\r\n                      border: \"2px solid black\",\r\n                      p: 2,\r\n                      borderRadius: \"15px\",\r\n                    }}\r\n                  >\r\n                    <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Invoice No\"\r\n                          size=\"small\"\r\n                          placeholder=\"TSL/83540\"\r\n                          register={register1(\"invoice_no\")}\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <DatePicker\r\n                          label=\"Invoice Date\"\r\n                          value={watch1(\"invoice_date\")}\r\n                          onChange={(value) => setValue(\"invoice_date\", value)}\r\n                          maxDate={moment().toDate()}\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <SelectField\r\n                          label=\"Customer\"\r\n                          size=\"small\"\r\n                          options={[{ id: \"walkin\", name: \"Walk-in Customer\" }]}\r\n                          selected={watch1(\"customer\")}\r\n                          onSelect={(value) => setValue(\"customer\", value)}\r\n                          register={register1(\"customer\")}\r\n                        />\r\n                      </Grid>\r\n\r\n                   \r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    md={5.5}\r\n                    sm={12}\r\n                    xs={12}\r\n                    sx={{\r\n                      border: \"2px solid black\",\r\n                      p: 2,\r\n                      borderRadius: \"15px\",\r\n                      mt: { md: 0, sm: 2, xs: 2 },\r\n                    }}\r\n                  >\r\n                    <Grid container sx={{ gap: \"5px 25px\" }}>\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Display Customer\"\r\n                          size=\"small\"\r\n                          placeholder=\"Walk-in Customer\"\r\n                          register={register1(\"display_customer\")}\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Mobile\"\r\n                          size=\"small\"\r\n                          placeholder=\"Mobile No\"\r\n                          register={register1(\"mobile\")}\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Email\"\r\n                          size=\"small\"\r\n                          placeholder=\"Email\"\r\n                          register={register1(\"email\")}\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"TRN\"\r\n                          size=\"small\"\r\n                          placeholder=\"TRN\"\r\n                          register={register1(\"trn\")}\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Ref\"\r\n                          size=\"small\"\r\n                          placeholder=\"Reference\"\r\n                          register={register1(\"ref\")}\r\n                        />\r\n                      </Grid>\r\n\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <SelectField\r\n                          label=\"Cost Center\"\r\n                          size=\"small\"\r\n                          options={[{ id: \"tasheel\", name: \"TASHEEL\" }]}\r\n                          selected={watch1(\"cost_center\")}\r\n                          onSelect={(value) => setValue(\"cost_center\", value)}\r\n                          register={register1(\"cost_center\")}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item md={5.7} sm={12} xs={12}>\r\n                        <InputField\r\n                          label=\"Address\"\r\n                          size=\"small\"\r\n                          placeholder=\"Address\"\r\n                          multiline\r\n                          rows={2}\r\n                          register={register1(\"address\")}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  {/* </Grid> */}\r\n                  <Grid item xs={2.8}>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                      sx={{\r\n                        backgroundColor: \"#bd9b4a\",\r\n                        \":hover\": {\r\n                          backgroundColor: \"rgb(189 155 74)\",\r\n                        },\r\n                      }}\r\n                    >\r\n                      Add Company\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            </Box>\r\n\r\n            \r\n    <form onSubmit={handleSubmit(addItem)}>\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Item Code</TableCell>\r\n              <TableCell sx={{ width: \"200px\" }}>Item Description</TableCell>\r\n              <TableCell>Qty</TableCell>\r\n              <TableCell>Govt fee</TableCell>\r\n              <TableCell>Center fee</TableCell>\r\n              <TableCell>Bank Charge</TableCell>\r\n              <TableCell>Transaction ID</TableCell>\r\n              <TableCell>Application ID</TableCell>\r\n              <TableCell>Narration</TableCell>\r\n              <TableCell>Total</TableCell>\r\n              <TableCell>Action</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <TableRow>\r\n              <TableCell>\r\n                <InputField\r\n                  size=\"small\"\r\n                  placeholder=\"Item code\"\r\n                  {...register(\"item_code\", { required: \"Item code is required\" })}\r\n                />\r\n                {errors.item_code && <span>{errors.item_code.message}</span>}\r\n              </TableCell>\r\n              <TableCell>\r\n              <SelectField\r\n                         size=\"small\"\r\n                         options={services}\r\n                         selected={serviceItem}\r\n                         onSelect={handleServiceSelect}\r\n                        //  error={errors?.service?.message}\r\n                         register={register(\"service\", {\r\n                           required: \"Please select a service.\",\r\n                         })}\r\n                       />\r\n                {errors.service && <span style={{color:\"red\"}}>{errors.service.message}</span>}\r\n              </TableCell>\r\n              <TableCell>\r\n                <InputField\r\n                  size=\"small\"\r\n                  placeholder=\"Quantity\"\r\n                  type=\"number\"\r\n                  register={register(\"qty\", { required: \"Quantity is required\" })}\r\n                />\r\n                {errors.qty && <span style={{color:\"red\"}}>{errors.qty.message}</span>}\r\n              </TableCell>\r\n              <TableCell>\r\n                <InputField\r\n                  size=\"small\"\r\n                  placeholder=\"Govt fee\"\r\n                  type=\"number\"\r\n                  register={register(\"govt_fee\", { required: \"Govt fee is required\" })}\r\n                />\r\n                {errors.govt_fee && <span style={{color:\"red\"}}>{errors.govt_fee.message}</span>}\r\n              </TableCell>\r\n              <TableCell>\r\n                <InputField\r\n                  size=\"small\"\r\n                  placeholder=\"Center Fee\"\r\n                  type=\"number\"\r\n                  register={register(\"center_fee\", { required: \"Center fee is required\" })}\r\n                />\r\n                {errors.center_fee && <span style={{color:\"red\"}}>{errors.center_fee.message}</span>}\r\n              </TableCell>\r\n              <TableCell>\r\n                <InputField\r\n                  size=\"small\"\r\n                  placeholder=\"Bank Charges\"\r\n                  type=\"number\"\r\n                  register={register(\"bank_charges\", { required: \"Bank charges are required\" })}\r\n                  disabled\r\n                />\r\n                {errors.bank_charges && <span style={{color:\"red\"}}>{errors.bank_charges.message}</span>}\r\n\r\n              </TableCell>\r\n              <TableCell>\r\n                <InputField\r\n                  size=\"small\"\r\n                  placeholder=\"Transaction Id\"\r\n                  register={register(\"transaction_id\", { required: \"Transaction Id is required\" })}\r\n                />\r\n                {errors.transaction_id && <span style={{color:\"red\"}}>{errors.transaction_id.message}</span>}\r\n              </TableCell>\r\n              <TableCell>\r\n                <InputField\r\n                  size=\"small\"\r\n                  placeholder=\"Application Id\"\r\n                  register={register(\"application_id\", { required: \"Application Id is required\" })}\r\n                />\r\n                {errors.application_id && <span style={{color:\"red\"}}>{errors.application_id.message}</span>}\r\n              </TableCell>\r\n              <TableCell>\r\n                <InputField\r\n                  size=\"small\"\r\n                  placeholder=\"Narration\"\r\n                  register={register(\"narration\", { required: \"Narration is required\" })}\r\n                />\r\n                {errors.narration && <span style={{color:\"red\"}}>{errors.narration.message}</span>}\r\n              </TableCell>\r\n              <TableCell>\r\n               <InputField\r\n                   disabled={true}\r\n                   style={{border:\"none\"}}\r\n                  size=\"small\"\r\n                  placeholder=\"Narration\"\r\n                  register={register(\"total\")}\r\n                />\r\n              </TableCell>\r\n              <TableCell>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  type=\"submit\"\r\n                  sx={{\r\n                    backgroundColor: \"rgb(189 155 74)\",\r\n                    fontSize: \"12px\",\r\n                    \":hover\": {\r\n                      backgroundColor: \"rgb(189 155 74)\",\r\n                    },\r\n                  }}\r\n                >\r\n                  Add Item\r\n                </Button>\r\n              </TableCell>\r\n            </TableRow>\r\n\r\n            {rows.map((item, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell>{item?.item_code}</TableCell>\r\n                <TableCell>{item?.service}</TableCell>\r\n                <TableCell>{item?.qty}</TableCell>\r\n                <TableCell>{item?.govt_fee}</TableCell>\r\n                <TableCell>{item?.center_fee}</TableCell>\r\n                <TableCell>{item?.bank_charges}</TableCell>\r\n                <TableCell>{item?.transaction_id}</TableCell>\r\n                <TableCell>{item?.application_id}</TableCell>\r\n                <TableCell>{item?.narration}</TableCell>\r\n                <TableCell>{item?.total}</TableCell>\r\n               \r\n              </TableRow>\r\n            ))}\r\n\r\n<TableRow>\r\n              <TableCell colSpan={9} align=\"right\">\r\n                <Typography variant=\"h6\"  sx={{fontSize:\"15px\"}}>Sub-total:</Typography>\r\n              </TableCell>\r\n              <TableCell>\r\n                <Typography variant=\"h6\"  sx={{fontSize:\"15px\"}}>{subTotal}</Typography> {/* Display the Sub-total */}\r\n              </TableCell>\r\n            </TableRow>\r\n\r\n            {/* Amount Total Row (optional, if needed for the final sum) */}\r\n            <TableRow>\r\n              <TableCell colSpan={9} align=\"right\">\r\n                <Typography variant=\"h6\"  sx={{fontSize:\"15px\"}}>Amount Total:</Typography>\r\n              </TableCell>\r\n              <TableCell>\r\n                <Typography variant=\"h6\" sx={{fontSize:\"15px\"}}>{subTotal}</Typography> {/* This can be the same as Sub-total */}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </form>\r\n          </>\r\n        }\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SalesReciept;\r\n"
        }
    ]
}