{
    "sourceFile": "src/pages/Dashboard/Dashboard/index.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1744511268071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1744511268071,
            "name": "Commit-0",
            "content": "import React, { Fragment, useEffect, useState } from 'react';\r\nimport { Avatar, Box, Card, CardContent, CardMedia, Container, Divider, Grid, Step, StepLabel, Stepper, Typography } from '@mui/material';\r\nimport styled from '@emotion/styled';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { Circle } from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { BuyerRegistrationIcon, CarIcon, DashedBorderIcon, FontFamily, Images, ReceivedBuyerIdIcon, RequestBuyerIdIcon } from 'assets';\r\nimport Colors from 'assets/Style/Colors';\r\nimport { PrimaryButton } from 'components/Buttons';\r\nimport { useAuth } from 'context/UseContext';\r\nimport Storage from 'utils/Storage';\r\nimport InfoIcon from '@mui/icons-material/Info';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport PersonOutlineOutlinedIcon from '@mui/icons-material/PersonOutlineOutlined';\r\nimport BadgeOutlinedIcon from '@mui/icons-material/BadgeOutlined';\r\nimport CallReceivedOutlinedIcon from '@mui/icons-material/CallReceivedOutlined';\r\nimport Paper from '@mui/material/Paper';\r\nimport BarChartOutlinedIcon from '@mui/icons-material/BarChartOutlined';\r\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\r\nimport SystemServices from 'services/System';\r\nimport { showErrorToast } from 'components/NewToaster';\r\nimport gifUrl from '../../../assets/Gif/globe.gif'\r\nimport PeopleAltIcon from \"@mui/icons-material/PeopleAlt\"\r\nimport DescriptionIcon from \"@mui/icons-material/Description\"\r\nimport SendIcon from \"@mui/icons-material/Send\"\r\nimport TaskAltIcon from \"@mui/icons-material/TaskAlt\"\r\n\r\nconst Item = styled(Paper)(({ theme }) => ({\r\n  backgroundColor: theme.palette.mode === 'dark' ? '#1A2027' : '#fff',\r\n  ...theme.typography.body2,\r\n  padding: theme.spacing(1),\r\n  textAlign: 'center',\r\n  color: theme.palette.text.secondary,\r\n  boxShadow: 'none',\r\n  borderRadius: 0,\r\n}));\r\n\r\n\r\nconst useStyle = makeStyles({\r\n  step: {\r\n    flex: 1,\r\n    display: 'flex',\r\n    gap: '20px',\r\n    alignItem: 'center',\r\n    justifyContent: 'space-between',\r\n    '& .MuiStepLabel-label': {\r\n      color: `${Colors.charcoalGrey} !important`,\r\n      fontSize: { md: '16px' }\r\n    }\r\n  },\r\n  customDivider: {\r\n    background: `linear-gradient(to right, ${Colors.grey} 50%, ${Colors.yellow} 50%)`, // Replace 'grey' and 'yellow' with your actual color values\r\n    height: 2, // You can adjust the height as needed\r\n  },\r\n})\r\n\r\nconst StepIconRoot = styled('div')(({ theme, ownerState }) => ({\r\n  backgroundColor: Colors.iron,\r\n  zIndex: 1,\r\n  color: Colors.charcoalGrey,\r\n  width: 50,\r\n  height: 50,\r\n  display: 'flex',\r\n  borderRadius: '50%',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  \"svg\": {\r\n    width: 'auto',\r\n    height: '25px',\r\n    \"path\": {\r\n      fill: Colors.smokeyGrey\r\n    },\r\n  },\r\n}));\r\n\r\nfunction CustomStepIcon(props) {\r\n\r\n  const { active, completed } = props;\r\n\r\n  const icons = {\r\n    1: <BuyerRegistrationIcon />,\r\n    2: <RequestBuyerIdIcon />,\r\n    3: <ReceivedBuyerIdIcon />,\r\n  };\r\n\r\n  return (\r\n    <StepIconRoot ownerState={{ completed, active }} className={'icon-wrapper'}>\r\n      {icons[String(props.icon)]}\r\n    </StepIconRoot>\r\n  );\r\n}\r\n\r\nconst statsData = [\r\n  {\r\n    title: \"Total Sales\",\r\n    value: \"248\",\r\n    icon: <PeopleAltIcon />,\r\n    color: \"#00c2a8\",\r\n    bgColor: \"#00c2a8\",\r\n  },\r\n  {\r\n    title: \"Employee Service Count\",\r\n    value: \"436\",\r\n    icon: <DescriptionIcon />,\r\n    color: \"#0066ff\",\r\n    bgColor: \"#0066ff\",\r\n  },\r\n  {\r\n    title: \"Sales Category Count\",\r\n    value: \"123\",\r\n    icon: <SendIcon />,\r\n    color: \"#8c54ff\",\r\n    bgColor: \"#8c54ff\",\r\n  },\r\n  {\r\n    title: \"Quantity\",\r\n    value: \"$1,264\",\r\n    icon: <TaskAltIcon />,\r\n    color: \"#ff7a45\",\r\n    bgColor: \"#ff7a45\",\r\n  },\r\n]\r\nfunction Dashboard() {\r\n\r\n  const classes = useStyle();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { getStorageItem } = Storage();\r\n\r\n  const userJourney = getStorageItem('journey')\r\n  const [renderState, setRenderState] = useState(false)\r\n\r\n  // *For Stepper Label\r\n  const [stepperLabel, setStepperLabel] = useState([]);\r\n  const [statsDetail, setStatsDetail] = useState(null)\r\n\r\n  const pdfContent = Images?.guidelinePDF;\r\n\r\n  const handleDownload = () => {\r\n    // const blob = new Blob([pdfContent], { type: 'application/pdf' });\r\n    // console.log(blob,'blobblobblob');\r\n    // const url = URL.createObjectURL(blob);\r\n\r\n    const a = document.createElement('a');\r\n    a.href = \"..\" + pdfContent;\r\n    console.log(a.href)\r\n    a.target = \"blank\"\r\n    a.download = \"guideline.pdf\";\r\n    document.body.appendChild(a);\r\n    a.click();\r\n\r\n    // Clean up\r\n    document.body.removeChild(a);\r\n    //URL.revokeObjectURL(url);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userJourney) {\r\n      const { registration, request, received } = userJourney\r\n      const journey = [\r\n        { label: 'Registration', status: registration?.status, color: registration?.color },\r\n        { label: 'Request For Buyer ID', status: request?.status, color: request?.color },\r\n        { label: 'Buyer ID Received', status: received?.status, color: received?.color }\r\n      ]\r\n      setStepperLabel(journey)\r\n    }\r\n    if (localStorage.getItem('operationsToken')) {\r\n      setRenderState(localStorage.getItem('operationsToken'))\r\n    }\r\n  }, []);\r\n  const getStats = async (search) => {\r\n    try {\r\n      let params = {\r\n        page: 1,\r\n        limit: 1000,\r\n        search: search,\r\n      };\r\n      const { data } = await SystemServices.getStats(params);\r\n      console.log(data);\r\n      setStatsDetail(data)\r\n\r\n    } catch (error) {\r\n      showErrorToast(error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n\r\n    // getStats()\r\n  }, [])\r\n\r\n\r\n\r\n  return (\r\n    <Fragment>\r\n      <Box sx={{ m: 2, position: 'relative' }}>\r\n      \r\n      <Grid container mt={1} spacing={2}>\r\n        {statsData.map((stat, index) => (\r\n          <Grid item xs={12} sm={6} md={3} key={index} >\r\n            <Card\r\n              sx={{\r\n                borderRadius: \"16px\",\r\n                backgroundColor: stat.bgColor,\r\n                color: \"white\",\r\n                height: \"120px\",\r\n                position: \"relative\",\r\n                overflow: \"visible\",\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'center'\r\n              }}\r\n            >\r\n              <CardContent sx={{ position: \"relative\", zIndex: 1 }}>\r\n                <Box sx={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\r\n                  <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\r\n                    <Box\r\n                      sx={{\r\n                        backgroundColor: \"white\",\r\n                        borderRadius: \"50%\",\r\n                        width: 40,\r\n                        height: 40,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        color: stat.color,\r\n                        marginRight: 2,\r\n                      }}\r\n                    >\r\n                      {stat.icon}\r\n                    </Box>\r\n                    <Box>\r\n                      <Typography variant=\"body2\" sx={{ opacity: 0.8 }}>\r\n                        {stat.title}\r\n                      </Typography>\r\n                      <Typography variant=\"h5\" sx={{ fontWeight: \"bold\" }}>\r\n                        {stat.value}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Box>\r\n                  {/* <IconButton size=\"small\" sx={{ color: \"white\" }}>\r\n                  <MoreVertIcon />\r\n                </IconButton> */}\r\n                </Box>\r\n              </CardContent>\r\n              <Box\r\n                sx={{\r\n                  position: \"absolute\",\r\n                  bottom: 0,\r\n                  right: 0,\r\n                  opacity: 0.8,\r\n                  height: \"60%\",\r\n                  width: \"40%\",\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                }}\r\n              >\r\n                <Box sx={{ fontSize: 60, transform: \"rotate(-15deg)\" }}>{stat.icon}</Box>\r\n              </Box>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n      \r\n        {/* <Grid container spacing={5} sx={{ position: 'absolute', zIndex: 1 }}  >\r\n          <Grid item component={'div'} onClick={() => {navigate('/visa-list');         localStorage.setItem(\"currentRoute\", 'Visa Requests Management'); }} xs={12} md={4} sx={{ cursor: 'pointer' }} >\r\n\r\n            <Item sx={{ borderRadius: '12px !important', p: '15px !important', boxShadow: \" rgba(0, 0, 0, 0.35) 0px 5px 15px !important\" }}>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  Total Visa Requests\r\n                </Typography>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  <BarChartOutlinedIcon sx={{ fontSize: 40, color: '#1976D2' }} />\r\n                </Typography>\r\n              </Box>\r\n              <Typography sx={{ textAlign: 'left' }} variant=\"h3\" fontWeight=\"bold\" gutterBottom>\r\n                {statsDetail?.visaCount}\r\n              </Typography>\r\n\r\n\r\n            </Item>\r\n          </Grid>\r\n          <Grid item xs={12} md={4} component={'div'} onClick={() => {navigate('/visa-processing-list');         localStorage.setItem(\"currentRoute\", 'Visa Processing Management')}} sx={{ cursor: 'pointer' }}  >\r\n            <Item sx={{   borderRadius: '12px !important', p: '15px !important', boxShadow: \" rgba(0, 0, 0, 0.35) 0px 5px 15px !important\" }}>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  Total Candidates\r\n                </Typography>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  <BarChartOutlinedIcon sx={{ fontSize: 40, color:  '#1976D2' }} />\r\n                </Typography>\r\n              </Box>\r\n              <Typography variant=\"h3\" sx={{ textAlign: 'left' }} fontWeight=\"bold\" gutterBottom>\r\n                {statsDetail?.candidateCount}\r\n              </Typography>\r\n\r\n\r\n            </Item>\r\n          </Grid>\r\n          <Grid item xs={12} md={4} component={'div'} onClick={() => {navigate('/active-visa-list');localStorage.setItem(\"currentRoute\", 'Active Visa List')}} sx={{ cursor: 'pointer' }}>\r\n            <Item sx={{ borderRadius: '12px !important', p: '15px !important', boxShadow: \" rgba(0, 0, 0, 0.35) 0px 5px 15px !important\" }}>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  Total Active Visas\r\n                </Typography>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  <BarChartOutlinedIcon sx={{ fontSize: 40, color: '#1976D2' }} />\r\n                </Typography>\r\n              </Box>\r\n              <Typography sx={{ textAlign: 'left' }} variant=\"h3\" fontWeight=\"bold\" gutterBottom>\r\n                {statsDetail?.activeCount}\r\n              </Typography>\r\n\r\n\r\n            </Item>\r\n          </Grid>\r\n          <Grid item xs={12} md={4} component={'div'} onClick={() => {\r\n\r\n            navigate(\r\n              `/rejected-visa-list`,\r\n              { state: 'Rejected' }\r\n            )\r\n            localStorage.setItem(\"currentRoute\", 'Rejected Visa List')\r\n          }} sx={{ cursor: 'pointer' }}  >\r\n            <Item sx={{   borderRadius: '12px !important', p: '15px !important', boxShadow: \" rgba(0, 0, 0, 0.35) 0px 5px 15px !important\" }}>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  Rejected Candidates\r\n                </Typography>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  <BarChartOutlinedIcon sx={{ fontSize: 40, color:  '#1976D2' }} />\r\n                </Typography>\r\n              </Box>\r\n              <Typography variant=\"h3\" sx={{ textAlign: 'left' }} fontWeight=\"bold\" gutterBottom>\r\n                {statsDetail?.rejectedCandidateCount}\r\n              </Typography>\r\n\r\n\r\n            </Item>\r\n          </Grid>\r\n          <Grid item xs={12} md={4} component={'div'} onClick={() => {navigate(\r\n            `/active-visa-list`,\r\n            { state: 'Near Expiry' }\r\n          )\r\n          localStorage.setItem(\"currentRoute\", 'Active Visa List')}\r\n          } sx={{ cursor: 'pointer' }}>\r\n            <Item sx={{ borderRadius: '12px !important', p: '15px !important', boxShadow: \" rgba(0, 0, 0, 0.35) 0px 5px 15px !important\" }}>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  Near Expiry Candidates\r\n                </Typography>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  <BarChartOutlinedIcon sx={{ fontSize: 40, color: '#1976D2' }} />\r\n                </Typography>\r\n              </Box>\r\n              <Typography sx={{ textAlign: 'left' }} variant=\"h3\" fontWeight=\"bold\" gutterBottom>\r\n                {statsDetail?.expiredTwoMonthCount}\r\n              </Typography>\r\n\r\n\r\n            </Item>\r\n          </Grid>\r\n          <Grid item xs={12} md={4} component={'div'} onClick={() => {\r\n\r\n            navigate(\r\n              `/active-visa-list`,\r\n              { state: 'Expired' }\r\n            )\r\n            localStorage.setItem(\"currentRoute\", 'Active Visa List')\r\n          }} sx={{ cursor: 'pointer' }}  >\r\n            <Item sx={{   borderRadius: '12px !important', p: '15px !important', boxShadow: \" rgba(0, 0, 0, 0.35) 0px 5px 15px !important\" }}>\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  Expired Candidates\r\n                </Typography>\r\n                <Typography sx={{ textAlign: 'left' }} variant=\"h6\" fontWeight=\"bold\" gutterBottom>\r\n                  <BarChartOutlinedIcon sx={{ fontSize: 40, color:  '#1976D2' }} />\r\n                </Typography>\r\n              </Box>\r\n              <Typography variant=\"h3\" sx={{ textAlign: 'left' }} fontWeight=\"bold\" gutterBottom>\r\n                {statsDetail?.expiredCount}\r\n              </Typography>\r\n\r\n\r\n            </Item>\r\n          </Grid>\r\n        </Grid> */}\r\n      </Box>\r\n    </Fragment>\r\n\r\n  );\r\n}\r\n\r\nexport default Dashboard;"
        }
    ]
}