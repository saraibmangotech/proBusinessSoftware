"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[5830],{35830:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var o=a(65043),r=a(28076),s=a(39652),n=a(77502),i=a(96446),l=a(68903),c=a(85865),d=a(54620),u=a(45903),p=a(73216),x=a(77020),m=(a(23602),a(44563)),g=(a(36838),a(42165),a(66535),a(85900)),h=a(83992),y=(a(91395),a(22030),a(20566),a(24858)),A=a(79456),S=(a(4841),a(29542)),f=a(91284),v=a(37230),j=(a(72450),a(86178)),b=a.n(j),w=(a(99543),a(95692)),C=(a(14398),a(3584)),E=a(51593),Y=a(70579);(0,u.A)(r.A)((e=>{let{theme:t}=e;return{border:0}})),(0,u.A)(s.A)((e=>{let{theme:t}=e;return{[`&.${n.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${n.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:d.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}}));const _=(0,h.A)({loaderWrap:{display:"flex",height:100,"& svg":{width:"40px !important",height:"40px !important"}}});const k=function(){var e;const t=(0,p.Zp)(),[a,r]=(_(),(0,A.wA)(),(0,o.useRef)(null),(0,o.useState)(null)),[s,n]=(0,o.useState)(!1),[u,h]=(0,o.useState)(null),[j,k]=(0,o.useState)(!1),{register:D,handleSubmit:F,formState:{errors:M},setValue:W,getValues:N,reset:z}=(0,y.mN)(),[B,I]=(0,o.useState)(!1),[P,T]=(0,o.useState)(!1),[K,R]=(0,o.useState)([]),[L,$]=(0,o.useState)([]),[U,V]=(0,o.useState)(0),[q,H]=(0,o.useState)(50),[Z,G]=(0,o.useState)(1),[J,O]=(0,o.useState)({}),[Q,X]=(0,o.useState)(),[ee,te]=(0,o.useState)(!1),[ae,oe]=(0,o.useState)("desc"),re=async(e,t,a)=>{I(!0);try{let e={is_presale:!1};const{data:t}=await g.A.getPreSales(e);$(null===t||void 0===t?void 0:t.rows)}catch(o){(0,w.Ni)(o)}finally{I(!1)}},se=[{header:"SR No.",accessorKey:"id"},{header:"Customer",accessorKey:"customer_name"},{header:"Total Amount",accessorKey:"total_amount"},{header:"Created By",accessorKey:"creator",accessorFn:e=>null===e||void 0===e?void 0:e.creator,cell:e=>{var t,a;let{row:o}=e;return(0,Y.jsx)(i.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===o||void 0===o||null===(t=o.original)||void 0===t||null===(a=t.creator)||void 0===a?void 0:a.name})}},{id:"created_at",header:"Created At",accessorFn:e=>b()(e.created_at).format("MM-DD-YYYY"),cell:e=>{let{row:t}=e;return(0,Y.jsx)(i.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:b()(t.original.created_at).format("MM-DD-YYYY")})}},{header:"Actions",cell:e=>{let{row:a}=e;return(0,Y.jsxs)(i.A,{sx:{display:"flex",gap:1},children:[(0,Y.jsx)(i.A,{component:"img",sx:{cursor:"pointer"},onClick:()=>{var e;t(`/update-alded/${null===a||void 0===a||null===(e=a.original)||void 0===e?void 0:e.id}`),localStorage.setItem("currentUrl","/update-customer")},src:d.To.editIcon,width:"35px"}),(0,Y.jsx)(i.A,{children:(0,Y.jsx)(i.A,{sx:{cursor:"pointer"},component:"img",src:d.To.deleteIcon,onClick:()=>{h(null===a||void 0===a?void 0:a.original),T(!0)},width:"35px"})})]})}}];return(0,o.useEffect)((()=>{re()}),[]),(0,Y.jsxs)(i.A,{sx:{p:3},children:[(0,Y.jsx)(E.A,{open:P,onClose:()=>T(!1),message:"Are You Sure?",action:()=>{T(!1),(async()=>{try{let e={id:null===u||void 0===u?void 0:u.id};const{message:t}=await g.A.DeletePreSale(e);(0,m.ee)(t),re()}catch(e){(0,w.Ni)(e)}})()}}),(0,Y.jsx)(S.A,{open:s,onClose:()=>n(!1),title:"Change Status?",children:(0,Y.jsx)(i.A,{component:"form",onSubmit:F((async()=>{try{let e={customer_id:null===u||void 0===u?void 0:u.id,is_active:null===a||void 0===a?void 0:a.id};const t=g.A.CustomerStatus(e);console.log(t),(0,w.y8)(t,"Saving...","Added Successfully","Something Went Wrong");const o=await t;200===(null===o||void 0===o?void 0:o.responseCode)&&(n(!1),r(null),re())}catch(e){console.log(e)}})),children:(0,Y.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,Y.jsx)(l.Ay,{item:!0,xs:12,sm:12,children:(0,Y.jsx)(v.A,{size:"small",label:"Select Status :",options:[{id:!1,name:"Disabled"},{id:!0,name:"Enabled"}],selected:a,onSelect:e=>{r(e)},error:null===M||void 0===M||null===(e=M.status)||void 0===e?void 0:e.message,register:D("status",{required:"Please select status."})})}),(0,Y.jsx)(l.Ay,{container:!0,sx:{justifyContent:"center"},children:(0,Y.jsxs)(l.Ay,{item:!0,xs:6,sm:6,sx:{mt:2,display:"flex",justifyContent:"space-between",gap:"25px"},children:[(0,Y.jsx)(f.jn,{bgcolor:x.A.primary,title:"Yes,Confirm",type:"submit"}),(0,Y.jsx)(f.jn,{onClick:()=>n(!1),bgcolor:"#FF1F25",title:"No,Cancel"})]})})]})})}),(0,Y.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,Y.jsx)(c.A,{sx:{fontSize:"24px",fontWeight:"bold"},children:"AL-ADHEED List"}),(0,Y.jsx)(f.jn,{bgcolor:"#bd9b4a",title:"Create",onClick:()=>{t("/create-aldeed"),localStorage.setItem("currentUrl","/create-customer")},loading:ee})]}),(0,Y.jsx)(i.A,{children:(0,Y.jsx)(C.A,{loading:B,data:L,columns:se})})]})}}}]);
//# sourceMappingURL=5830.424e0b0e.chunk.js.map