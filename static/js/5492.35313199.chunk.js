"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[5492],{5492:(l,i,o)=>{o.r(i),o.d(i,{default:()=>D});var d=o(65043),e=o(28076),n=o(39652),t=o(77502),a=o(96446),c=o(85865),s=o(68903),r=o(8939),v=o(24056),u=o(79650),x=o(63336),h=o(71806),p=o(84882),m=o(73460),b=o(17392),j=o(81637),g=o(45903),A=o(54620),f=o(77020),F=o(23602),y=o(44563),N=o(83992),_=o(73216),C=o(24858),k=o(2010),S=o(58293),w=o(52101),E=(o(91284),o(11238),o(72450),o(22030),o(86005)),O=o(86178),B=o.n(O),W=o(70579);const L=(0,g.A)(e.A)((l=>{let{theme:i}=l;return{border:0}})),M=(0,g.A)(n.A)((l=>{let{theme:i}=l;return{[`&.${t.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${t.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:A.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}})),$=(0,N.A)({loaderWrap:{display:"flex",height:100,"& svg":{width:"40px !important",height:"40px !important"}},anchorLink:{textDecoration:"underline",color:f.A.twitter,cursor:"pointer"}});const D=function(){const l=$(),i=(0,_.Zp)(),o=(0,d.useRef)(null),[n,t]=(0,d.useState)(""),{register:g}=(0,C.mN)(),N=["Code","Name","Major Category","Sub Category","Balance (AED)","Actions"],[O,D]=(0,d.useState)(!1),[I,T]=(0,d.useState)(),[z,Y]=(0,d.useState)(),[P,R]=(0,d.useState)("all"),[V,G]=(0,d.useState)(),[H,X]=(0,d.useState)([]),[Z,q]=(0,d.useState)([]),J=(l,i,o)=>{if(o){const l=(null===I||void 0===I?void 0:I.map((l=>{var o;return null===l||void 0===l||null===(o=l.sub)||void 0===o?void 0:o.filter((l=>(null===l||void 0===l?void 0:l.id)==i))}))).filter((l=>l.length>0));Y(l.flat()),R(i)}else if(R(i),"all"===i){var d;X(null===(d=I.find((l=>(null===l||void 0===l?void 0:l.id)==i)))||void 0===d?void 0:d.sub),Y(I)}else{var e;X(null===(e=I.find((l=>(null===l||void 0===l?void 0:l.id)==i)))||void 0===e?void 0:e.sub);const l=I.filter((l=>l.id===i));Y(l)}},K=l=>{try{const i=Z.indexOf(l),o=[...Z];-1===i?o.push(l):o.splice(i,1),q(o)}catch(i){(0,y.LY)(i)}},Q=l=>({backgroundColor:l?"#0076BF":"inherit",color:l?"#fff !important":"inherit"});return(0,d.useEffect)((()=>{(async()=>{try{var l;const{data:i}=await k.A.getChartOfAccount();console.log(i),T(null===i||void 0===i?void 0:i.COA),Y(null===i||void 0===i?void 0:i.COA);const o=[];null===i||void 0===i||null===(l=i.COA)||void 0===l||l.forEach((l=>{let i={id:l.id,name:l.name,sub_accounts:l.sub};o.push(i)})),G(o)}catch(i){}})()}),[]),(0,W.jsxs)(a.A,{sx:{m:4,mb:2},children:[(0,W.jsx)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mr:4,my:4},children:(0,W.jsx)(c.A,{variant:"h5",sx:{color:f.A.charcoalGrey,fontFamily:"Public Sans"},children:"Chart of Accounts"})}),(0,W.jsxs)(s.Ay,{container:!0,spacing:1,sx:{mb:2},children:[(0,W.jsxs)(s.Ay,{item:!0,xs:8,sm:8,children:[(0,W.jsxs)(r.A,{value:P,onChange:(l,i)=>J(0,i,!1),children:[(0,W.jsx)(v.A,{value:"all",label:"All",sx:Q("all"===P)}),null===V||void 0===V?void 0:V.map(((l,i)=>(0,W.jsx)(v.A,{value:null===l||void 0===l?void 0:l.id,label:null===l||void 0===l?void 0:l.name,sx:Q(P===(null===l||void 0===l?void 0:l.id))},i)))]}),(0,W.jsx)(r.A,{value:n,onChange:(l,i)=>J(0,i,!0),children:null===H||void 0===H?void 0:H.map(((l,i)=>(0,W.jsx)(v.A,{value:null===l||void 0===l?void 0:l.id,label:null===l||void 0===l?void 0:l.name,sx:Q(n===(null===l||void 0===l?void 0:l.id))},i)))})]}),(0,W.jsx)(s.Ay,{item:!0,xs:4,sm:4})]}),I?(0,W.jsx)(d.Fragment,{children:(0,W.jsxs)(E.X,{ref:o,landscape:!0,paperSize:"A4",margin:5,children:[(0,W.jsx)(a.A,{className:"pdf-show",sx:{display:"none"},children:(0,W.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,W.jsx)(c.A,{variant:"h5",sx:{color:f.A.charcoalGrey,fontFamily:"Public Sans",mb:2},children:"Chart Of Account"}),(0,W.jsxs)(a.A,{sx:{fontWeight:400,fontSize:"12px",mt:1.5,color:f.A.charcoalGrey},children:[(0,W.jsx)("span",{children:"Date: \xa0\xa0"}),B()().format("MM-DD-YYYY")]})]})}),(0,W.jsx)(u.A,{component:x.A,sx:{boxShadow:"0px 8px 18px 0px #9B9B9B1A",borderRadius:2,maxHeight:"calc(100vh - 250px)"},className:"table-box",children:(0,W.jsxs)(h.A,{stickyHeader:!0,sx:{minWidth:500},children:[(0,W.jsx)(p.A,{children:(0,W.jsx)(e.A,{children:N.map(((l,i)=>(0,W.jsx)(M,{className:"pdf-table",children:l},i)))})}),(0,W.jsx)(m.A,{children:O?(0,W.jsx)(L,{children:(0,W.jsx)(M,{colSpan:N.length+2,align:"center",sx:{fontWeight:600},children:(0,W.jsx)(a.A,{className:l.loaderWrap,children:(0,W.jsx)(j.A,{})})})}):(null===z||void 0===z?void 0:z.length)>0?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(d.Fragment,{children:null===z||void 0===z?void 0:z.map(((o,e)=>{var n,t,s;return(0,W.jsxs)(d.Fragment,{children:[(0,W.jsx)(L,{children:(0,W.jsx)(M,{colSpan:null===N||void 0===N?void 0:N.length,children:(0,W.jsxs)(c.A,{className:"pdf-table",variant:"subtitle1",sx:{textAlign:"left"},children:[-1===Z.indexOf(o.id)?(0,W.jsx)(S.A,{className:"pdf-hide",sx:{verticalAlign:"sub",cursor:"pointer",opacity:(null===o||void 0===o||null===(n=o.sub)||void 0===n?void 0:n.length)>0?1:0},onClick:()=>K(o.id)}):(0,W.jsx)(w.A,{className:"pdf-hide",sx:{verticalAlign:"sub",cursor:"pointer",transform:"rotate(90deg)",opacity:(null===o||void 0===o||null===(t=o.sub)||void 0===t?void 0:t.length)>0?1:0},onClick:()=>K(o.id)}),null===o||void 0===o?void 0:o.name]})})}),-1===Z.indexOf(o.id)&&(0,W.jsx)(d.Fragment,{children:null===o||void 0===o||null===(s=o.sub)||void 0===s?void 0:s.map(((o,e)=>{var n,t,s;return(0,W.jsxs)(d.Fragment,{children:[(0,W.jsx)(L,{children:(0,W.jsx)(M,{colSpan:null===N||void 0===N?void 0:N.length,children:(0,W.jsxs)(c.A,{className:"pdf-table",variant:"body1",sx:{fontWeight:700,textAlign:"left",ml:1.5},children:[-1===Z.indexOf(o.id)?(0,W.jsx)(S.A,{className:"pdf-hide",sx:{verticalAlign:"sub",cursor:"pointer",opacity:(null===o||void 0===o||null===(n=o.accounts)||void 0===n?void 0:n.length)>0?1:0},onClick:()=>K(o.id)}):(0,W.jsx)(w.A,{className:"pdf-hide",sx:{verticalAlign:"sub",cursor:"pointer",transform:"rotate(90deg)",opacity:(null===o||void 0===o||null===(t=o.accounts)||void 0===t?void 0:t.length)>0?1:0},onClick:()=>K(o.id)}),null===o||void 0===o?void 0:o.name]})})}),-1===Z.indexOf(o.id)&&(0,W.jsx)(d.Fragment,{children:null===o||void 0===o||null===(s=o.accounts)||void 0===s?void 0:s.map(((o,e)=>{var n,t,s,r,v,u;let x=0,h=0;if((null===o||void 0===o||null===(n=o.childAccounts)||void 0===n?void 0:n.length)>0){var p;const l={credit:0,debit:0},i=null===o||void 0===o||null===(p=o.childAccounts)||void 0===p?void 0:p.reduce(((l,i)=>{const o=isNaN(null===i||void 0===i?void 0:i.total_credit)?0:null===i||void 0===i?void 0:i.total_credit,d=isNaN(null===i||void 0===i?void 0:i.total_debit)?0:null===i||void 0===i?void 0:i.total_debit;return{credit:parseFloat(l.credit)+parseFloat(o),debit:parseFloat(l.debit)+parseFloat(d)}}),l);x="debit"===(null===o||void 0===o?void 0:o.nature)?parseFloat(null===i||void 0===i?void 0:i.debit)-parseFloat(null===i||void 0===i?void 0:i.credit):parseFloat(null===i||void 0===i?void 0:i.credit)-parseFloat(null===i||void 0===i?void 0:i.debit)}else h="debit"===(null===o||void 0===o?void 0:o.nature)?parseFloat(null===o||void 0===o?void 0:o.total_debit)-parseFloat(null===o||void 0===o?void 0:o.total_credit):parseFloat(null===o||void 0===o?void 0:o.total_credit)-parseFloat(null===o||void 0===o?void 0:o.total_debit);return(0,W.jsxs)(d.Fragment,{children:[(0,W.jsxs)(L,{children:[(0,W.jsx)(M,{className:null!==o&&void 0!==o&&o.childAccounts?l.anchorLink:"",onClick:()=>K(null===o||void 0===o?void 0:o.id),children:(0,W.jsx)(c.A,{className:"pdf-table",variant:"body1",sx:{ml:3},children:null!==(t=null===o||void 0===o?void 0:o.account_code)&&void 0!==t?t:"-"})}),(0,W.jsx)(M,{className:null!==o&&void 0!==o&&o.childAccounts?l.anchorLink+" pdf-table":"pdf-table",onClick:()=>K(null===o||void 0===o?void 0:o.id),children:null!==(s=null===o||void 0===o?void 0:o.account_name)&&void 0!==s?s:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(r=null===o||void 0===o?void 0:o.account_category)&&void 0!==r?r:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(v=null===o||void 0===o?void 0:o.account_subcategory)&&void 0!==v?v:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==o&&void 0!==o&&o.childAccounts?x.toFixed(2):h.toFixed(2)}),(0,W.jsx)(M,{children:!(null!==o&&void 0!==o&&o.childAccounts)&&(0,W.jsx)(a.A,{component:"div",className:"pdf-hide",sx:{gap:"16px !important"},children:(0,W.jsxs)(a.A,{onClick:()=>i(`/account-ledger/${null===o||void 0===o?void 0:o.id}`,{state:{accountName:null===o||void 0===o?void 0:o.account_name,nature:null===o||void 0===o?void 0:o.nature}}),children:[(0,W.jsx)(b.A,{sx:{bgcolor:f.A.primary,"&:hover":{bgcolor:f.A.primary}},children:(0,W.jsx)(a.A,{component:"img",src:A.To.ledgerIcon,sx:{height:"16px",objectFit:"contain"}})}),(0,W.jsx)(c.A,{variant:"body2",children:"View"})]})})})]}),-1!==Z.indexOf(o.id)&&(0,W.jsx)(d.Fragment,{children:null===o||void 0===o||null===(u=o.childAccounts)||void 0===u?void 0:u.map(((l,o)=>{var e,n,t,s;let r=0;return r="debit"===(null===l||void 0===l?void 0:l.nature)?parseFloat(null===l||void 0===l?void 0:l.total_debit)-parseFloat(null===l||void 0===l?void 0:l.total_credit):parseFloat(null===l||void 0===l?void 0:l.total_credit)-parseFloat(null===l||void 0===l?void 0:l.total_debit),(0,W.jsx)(d.Fragment,{children:(0,W.jsxs)(L,{sx:{bgcolor:"#EEFBEE"},children:[(0,W.jsx)(M,{children:(0,W.jsx)(c.A,{className:"pdf-table",variant:"body1",sx:{ml:4.5},children:null!==(e=null===l||void 0===l?void 0:l.account_code)&&void 0!==e?e:"-"})}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(n=null===l||void 0===l?void 0:l.account_name)&&void 0!==n?n:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(t=null===l||void 0===l?void 0:l.account_category)&&void 0!==t?t:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(s=null===l||void 0===l?void 0:l.account_subcategory)&&void 0!==s?s:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:r.toFixed(2)}),(0,W.jsx)(M,{children:(0,W.jsx)(a.A,{component:"div",className:"pdf-hide",sx:{gap:"16px !important"},children:(0,W.jsxs)(a.A,{onClick:()=>i(`/account-ledger/${null===l||void 0===l?void 0:l.id}`,{state:{accountName:null===l||void 0===l?void 0:l.account_name,nature:null===l||void 0===l?void 0:l.nature}}),children:[(0,W.jsx)(b.A,{sx:{bgcolor:f.A.primary,"&:hover":{bgcolor:f.A.primary}},children:(0,W.jsx)(a.A,{component:"img",src:A.To.ledgerIcon,sx:{height:"16px",objectFit:"contain"}})}),(0,W.jsx)(c.A,{variant:"body2",children:"View"})]})})})]})},o)}))})]},e)}))})]},e)}))})]},e)}))}),(0,W.jsx)(d.Fragment,{children:null===z||void 0===z?void 0:z.map(((o,e)=>{var n;return(0,W.jsx)(d.Fragment,{children:(0,W.jsx)(d.Fragment,{children:null===o||void 0===o||null===(n=o.accounts)||void 0===n?void 0:n.map(((o,e)=>{var n,t,s,r,v,u;let x=0,h=0;if((null===o||void 0===o||null===(n=o.childAccounts)||void 0===n?void 0:n.length)>0){var p;const l={credit:0,debit:0},i=null===o||void 0===o||null===(p=o.childAccounts)||void 0===p?void 0:p.reduce(((l,i)=>{const o=isNaN(null===i||void 0===i?void 0:i.total_credit)?0:null===i||void 0===i?void 0:i.total_credit,d=isNaN(null===i||void 0===i?void 0:i.total_debit)?0:null===i||void 0===i?void 0:i.total_debit;return{credit:parseFloat(l.credit)+parseFloat(o),debit:parseFloat(l.debit)+parseFloat(d)}}),l);x="debit"===(null===o||void 0===o?void 0:o.nature)?parseFloat(null===i||void 0===i?void 0:i.debit)-parseFloat(null===i||void 0===i?void 0:i.credit):parseFloat(null===i||void 0===i?void 0:i.credit)-parseFloat(null===i||void 0===i?void 0:i.debit)}else h="debit"===(null===o||void 0===o?void 0:o.nature)?parseFloat(null===o||void 0===o?void 0:o.total_debit)-parseFloat(null===o||void 0===o?void 0:o.total_credit):parseFloat(null===o||void 0===o?void 0:o.total_credit)-parseFloat(null===o||void 0===o?void 0:o.total_debit);return(0,W.jsxs)(d.Fragment,{children:[(0,W.jsxs)(L,{children:[(0,W.jsx)(M,{className:null!==o&&void 0!==o&&o.childAccounts?l.anchorLink:"",onClick:()=>K(null===o||void 0===o?void 0:o.id),children:(0,W.jsx)(c.A,{className:"pdf-table",variant:"body1",sx:{ml:3},children:null!==(t=null===o||void 0===o?void 0:o.account_code)&&void 0!==t?t:"-"})}),(0,W.jsx)(M,{className:null!==o&&void 0!==o&&o.childAccounts?l.anchorLink+" pdf-table":"pdf-table",onClick:()=>K(null===o||void 0===o?void 0:o.id),children:null!==(s=null===o||void 0===o?void 0:o.account_name)&&void 0!==s?s:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(r=null===o||void 0===o?void 0:o.account_category)&&void 0!==r?r:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(v=null===o||void 0===o?void 0:o.account_subcategory)&&void 0!==v?v:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==o&&void 0!==o&&o.childAccounts?x.toFixed(2):h.toFixed(2)}),(0,W.jsx)(M,{children:!(null!==o&&void 0!==o&&o.childAccounts)&&(0,W.jsx)(a.A,{component:"div",className:"pdf-hide",sx:{gap:"16px !important"},children:(0,W.jsxs)(a.A,{onClick:()=>i(`/account-ledger/${null===o||void 0===o?void 0:o.id}`,{state:{accountName:null===o||void 0===o?void 0:o.account_name,nature:null===o||void 0===o?void 0:o.nature}}),children:[(0,W.jsx)(b.A,{sx:{bgcolor:f.A.primary,"&:hover":{bgcolor:f.A.primary}},children:(0,W.jsx)(a.A,{component:"img",src:A.To.ledgerIcon,sx:{height:"16px",objectFit:"contain"}})}),(0,W.jsx)(c.A,{variant:"body2",children:"View"})]})})})]}),-1!==Z.indexOf(o.id)&&(0,W.jsx)(d.Fragment,{children:null===o||void 0===o||null===(u=o.childAccounts)||void 0===u?void 0:u.map(((l,o)=>{var e,n,t,s;let r=0;return r="debit"===(null===l||void 0===l?void 0:l.nature)?parseFloat(null===l||void 0===l?void 0:l.total_debit)-parseFloat(null===l||void 0===l?void 0:l.total_credit):parseFloat(null===l||void 0===l?void 0:l.total_credit)-parseFloat(null===l||void 0===l?void 0:l.total_debit),(0,W.jsx)(d.Fragment,{children:(0,W.jsxs)(L,{sx:{bgcolor:"#EEFBEE"},children:[(0,W.jsx)(M,{children:(0,W.jsx)(c.A,{className:"pdf-table",variant:"body1",sx:{ml:4.5},children:null!==(e=null===l||void 0===l?void 0:l.account_code)&&void 0!==e?e:"-"})}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(n=null===l||void 0===l?void 0:l.account_name)&&void 0!==n?n:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(t=null===l||void 0===l?void 0:l.account_category)&&void 0!==t?t:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:null!==(s=null===l||void 0===l?void 0:l.account_subcategory)&&void 0!==s?s:"-"}),(0,W.jsx)(M,{className:"pdf-table",children:r.toFixed(2)}),(0,W.jsx)(M,{children:(0,W.jsx)(a.A,{component:"div",className:"pdf-hide",sx:{gap:"16px !important"},children:(0,W.jsxs)(a.A,{onClick:()=>i(`/account-ledger/${null===l||void 0===l?void 0:l.id}`,{state:{accountName:null===l||void 0===l?void 0:l.account_name,nature:null===l||void 0===l?void 0:l.nature}}),children:[(0,W.jsx)(b.A,{sx:{bgcolor:f.A.primary,"&:hover":{bgcolor:f.A.primary}},children:(0,W.jsx)(a.A,{component:"img",src:A.To.ledgerIcon,sx:{height:"16px",objectFit:"contain"}})}),(0,W.jsx)(c.A,{variant:"body2",children:"View"})]})})})]})},o)}))})]},e)}))})},e)}))})]}):(0,W.jsx)(L,{children:(0,W.jsx)(M,{colSpan:N.length+1,align:"center",sx:{fontWeight:600},children:"No Data Found"})})})]})})]})}):(0,W.jsx)(F.$,{})]})}}}]);
//# sourceMappingURL=5492.35313199.chunk.js.map