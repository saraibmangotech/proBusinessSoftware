"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[9044],{22505:(e,i,l)=>{var s=l(24994);i.A=void 0;var t=s(l(40039)),o=l(70579);i.A=(0,t.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},79044:(e,i,l)=>{l.r(i),l.d(i,{default:()=>q});var s=l(65043),t=l(96446),o=l(85865),n=l(68903),d=l(79650),r=l(63336),a=l(71806),c=l(84882),u=l(28076),v=l(39652),x=l(73460),p=(l(8781),l(26240)),m=l(42518),h=(l(91284),l(77020),l(24858)),A=(l(18285),l(20566)),g=l(93445),j=l(44563),_=(l(99543),l(37230)),b=(l(22030),l(88073),l(50857),l(22505)),f=l(85900),S=(l(2722),l(95692)),y=(l(86178),l(73216)),k=(l(70255),l(28153),l(54620)),w=(l(14398),l(19668)),z=l(2010),C=l(70579);const q=function(){var e,i,l,q,F,I;(0,p.A)();const{user:D}=(0,w.A)(),T=(0,y.Zp)(),[E,R]=(0,s.useState)(!1),[N,L]=(0,s.useState)(!1),[V,U]=(0,s.useState)("no"),[W,Y]=(0,s.useState)("no"),[H,M]=(0,s.useState)(0),[P,B]=(0,s.useState)(0),[G,Q]=(0,s.useState)([]),[$,O]=(0,s.useState)(null),[Z,J]=(0,s.useState)(!1);console.log(G,"data");const[K,X]=(0,s.useState)([{itemCode:"",itemDescription:"TASHEEL AUTO 19",totalCharge:17.1,mbNo:"",applicationId:"",total:17.1}]),{register:ee,handleSubmit:ie,getValues:le,setValue:se,watch:te,reset:oe,formState:{errors:ne}}=(0,h.mN)(),{register:de,handleSubmit:re,setValue:ae,getValues:ce,control:ue,watch:ve,formState:{errors:xe}}=(0,h.mN)(),pe=te("govt_fee",0),me=te("center_fee",0),he=te("bank_charge",0),Ae=te("quantity",1);(0,s.useEffect)((()=>{const e=((parseFloat(pe)||0)+(parseFloat(me)||0)+(parseFloat(he)||0))*(parseFloat(Ae)||1);se("total",parseFloat(e).toFixed(2))}),[pe,me,he,Ae]);const[ge,je]=(0,s.useState)([]),[_e,be]=s.useState(1),{id:fe}=(0,y.g)(),[Se,ye]=(0,s.useState)(0),[ke,we]=(0,s.useState)(0),[ze,Ce]=(0,s.useState)([]),[qe,Fe]=(0,s.useState)({id:"Instant",name:"Instant"}),[Ie,De]=(0,s.useState)(),[Te,Ee]=(0,s.useState)(!1),[Re,Ne]=(0,s.useState)(!1),[Le,Ve]=(0,s.useState)(!1),[Ue,We]=(0,s.useState)(!1),[Ye,He]=(0,s.useState)(!1),[Me,Pe]=(0,s.useState)(!1),[Be,Ge]=(0,s.useState)({monthlyVisaServiceCharges:!1,vipMedical:!1,extraTyping:!0}),[Qe,$e]=(0,s.useState)(null),[Oe,Ze]=(0,s.useState)(null),[Je,Ke]=(0,s.useState)(),[Xe,ei]=(0,s.useState)(),[ii,li]=(0,s.useState)(null),[si,ti]=(0,s.useState)(null),[oi,ni]=(0,s.useState)(null),[di,ri]=(0,s.useState)(null),[ai,ci]=((0,s.useRef)(null),(0,s.useState)(!1)),[ui,vi]=(0,s.useState)([]),[xi,pi]=(0,s.useState)(null),[mi,hi]=(0,s.useState)(null),[Ai,gi]=(0,s.useState)(null),[ji,_i]=(0,s.useState)(null),[bi,fi]=(0,s.useState)(null),[Si,yi]=(0,s.useState)(null),[ki,wi]=(0,s.useState)(null),[zi,Ci]=(0,s.useState)([]),[qi,Fi]=(0,s.useState)(null),[Ii,Di]=(0,s.useState)(null),[Ti,Ei]=(0,s.useState)(null),[Ri,Ni]=(0,s.useState)(null),[Li,Vi]=(0,s.useState)(null),[Ui,Wi]=(0,s.useState)(null),[Yi,Hi]=(0,s.useState)(null),[Mi,Pi]=(0,s.useState)(null),[Bi,Gi]=(0,s.useState)(null),[Qi,$i]=(0,s.useState)(null),[Oi,Zi]=(0,s.useState)(null);return(0,s.useEffect)((()=>{(async()=>{try{var e;let i={page:1,limit:1e3};const{data:l}=await z.A.getAccounts(i);vi(null===l||void 0===l||null===(e=l.accounts)||void 0===e?void 0:e.rows)}catch(i){(0,j.LY)(i)}})(),(async()=>{try{var e;let i={page:1,limit:1e3};const{data:l}=await z.A.getTax(i);console.log(null===l||void 0===l||null===(e=l.accounts)||void 0===e?void 0:e.rows),Ci(null===l||void 0===l?void 0:l.tax)}catch(i){(0,j.LY)(i)}})(),(async()=>{try{let e={page:1,limit:1e3};const{data:i}=await f.A.getCategoryList(e);Ei(null===i||void 0===i?void 0:i.categories)}catch(e){(0,j.LY)(e)}})(),(async()=>{try{let e={page:1,limit:1e3};const{data:i}=await f.A.getServiceItem(e);Pi(null===i||void 0===i?void 0:i.rows)}catch(e){(0,j.LY)(e)}})(),$i({id:"walkin",name:"Walk-in Customer"}),ae("customer",{id:"walkin",name:"Walk-in Customer"}),ae("cost_center",{id:"Al-ADHEED",name:"Al-ADHEED"})}),[]),(0,s.useEffect)((()=>{(async()=>{try{var e,i,l,s,t,o,n,d,r,a,c,u,v,x,p,m,h;let A={id:fe};const{data:g}=await f.A.getPreSaleDetail(A);Zi(null===g||void 0===g?void 0:g.receipt),console.log(null===g||void 0===g||null===(e=g.receipt)||void 0===e?void 0:e.sale_receipt_items),ae("token",null===g||void 0===g||null===(i=g.receipt)||void 0===i?void 0:i.token_number),ae("mobileValue",null===g||void 0===g||null===(l=g.receipt)||void 0===l?void 0:l.customer_mobile),Q(null===g||void 0===g||null===(s=g.receipt)||void 0===s?void 0:s.sale_receipt_items),B(null===g||void 0===g||null===(t=g.receipt)||void 0===t?void 0:t.total_amount),ti(new Date(null===g||void 0===g||null===(o=g.receipt)||void 0===o?void 0:o.invoice_date)),ae("display_customer",null===g||void 0===g||null===(n=g.receipt)||void 0===n?void 0:n.customer_name),Hi({id:null===g||void 0===g||null===(d=g.receipt)||void 0===d?void 0:d.cost_center,name:null===g||void 0===g||null===(r=g.receipt)||void 0===r?void 0:r.cost_center}),ae("cost_center",{id:null===g||void 0===g||null===(a=g.receipt)||void 0===a?void 0:a.cost_center,name:null===g||void 0===g||null===(c=g.receipt)||void 0===c?void 0:c.cost_center}),ae("mobile",null===g||void 0===g||null===(u=g.receipt)||void 0===u?void 0:u.customer_mobile),ae("trn",null===g||void 0===g||null===(v=g.receipt)||void 0===v?void 0:v.trn),ae("email",null===g||void 0===g||null===(x=g.receipt)||void 0===x?void 0:x.customer_email),ae("caseno",null===g||void 0===g||null===(p=g.receipt)||void 0===p?void 0:p.case_no),ae("ref",null===g||void 0===g||null===(m=g.receipt)||void 0===m?void 0:m.ref),ae("address",null===g||void 0===g||null===(h=g.receipt)||void 0===h?void 0:h.customer_address)}catch(A){console.error("Error fetching location:",A)}})(),(async()=>{try{const{data:e}=await f.A.getInvoiceNumber();console.log(e),ae("invoice_no",`AAD/${null===e||void 0===e?void 0:e.next_invoice_number}`)}catch(e){(0,j.LY)(e)}})()}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(t.A,{sx:{width:"100%"}}),(0,C.jsx)(t.A,{m:3,sx:{backgroundColor:"white",borderRadius:"12px"},children:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(t.A,{component:"form",onSubmit:re((async e=>{console.log(e);try{let i={id:null===Oi||void 0===Oi?void 0:Oi.id,token_number:null===e||void 0===e?void 0:e.token,token_date:si,invoice_prefix:"AAD",trn:null===e||void 0===e?void 0:e.trn,case_no:null===e||void 0===e?void 0:e.caseno,customer_address:null===e||void 0===e?void 0:e.address,cost_center:null===e||void 0===e?void 0:e.cost_center,customer_name:null===e||void 0===e?void 0:e.display_customer,customer_id:null===Oi||void 0===Oi?void 0:Oi.customer_id,reception_id:null===Oi||void 0===Oi?void 0:Oi.reception_id,customer_mobile:null===e||void 0===e?void 0:e.mobile,customer_email:null===e||void 0===e?void 0:e.email,ref:null===e||void 0===e?void 0:e.ref,total_amount:P,items:G};console.log(e,"formData");const l=f.A.UpdateSaleReceipt(i);(0,S.y8)(l,"Saving...","Added Successfully","Something Went Wrong");const s=await l;200===(null===s||void 0===s?void 0:s.responseCode)&&T("/pre-sales")}catch(i){(0,j.LY)(i)}})),children:[(0,C.jsx)(t.A,{sx:{display:"flex",justifyContent:"space-between",gap:"10px",p:3,alignItems:"flex-end"},children:(0,C.jsx)(o.A,{sx:{fontSize:"22px",fontWeight:"bold"},children:"Update Sales Receipt"})}),(0,C.jsx)(t.A,{sx:{p:3},children:(0,C.jsxs)(n.Ay,{container:!0,sx:{gap:"5px 25px"},children:[(0,C.jsx)(n.Ay,{item:!0,xs:12,children:(0,C.jsxs)(n.Ay,{container:!0,gap:2,children:[(0,C.jsx)(n.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,C.jsx)(A.A,{label:"Token",size:"small",disabled:!0,placeholder:"Enter Token",register:de("token")})}),(0,C.jsx)(n.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,C.jsx)(A.A,{label:"Mobile *:",size:"small",type:"number",disabled:Be,placeholder:"Mobile",register:de("mobileValue")})})]})}),(0,C.jsx)(n.Ay,{item:!0,md:5.5,sm:12,xs:12,sx:{border:"2px solid black",p:2,borderRadius:"15px"},children:(0,C.jsxs)(n.Ay,{container:!0,sx:{gap:"5px 25px"},children:[(0,C.jsx)(n.Ay,{item:!0,md:5.7,sm:12,xs:12,children:(0,C.jsx)(A.A,{disabled:!0,label:"Invoice No",size:"small",placeholder:"TSL/83540",register:de("invoice_no")})}),(0,C.jsx)(n.Ay,{item:!0,xs:5.7,children:(0,C.jsx)(g.A,{label:"Invoice Date :*",value:si,size:"small",disabled:!0,error:null===xe||void 0===xe||null===(e=xe.date)||void 0===e?void 0:e.message,register:de("date",{required:!si&&"please enter  date."}),onChange:e=>{ae("date",e),ti(new Date(e))}})}),(0,C.jsx)(n.Ay,{item:!0,xs:5.7,children:(0,C.jsx)(_.A,{size:"small",label:"Customer *:",disabled:!0,options:[{id:"walkin",name:"Walk-in Customer"}],selected:Qi,onSelect:e=>{$i(e)},error:null===xe||void 0===xe||null===(i=xe.customer)||void 0===i?void 0:i.message,register:de("customer",{required:!1})})})]})}),(0,C.jsx)(n.Ay,{item:!0,md:5.5,sm:12,xs:12,sx:{border:"2px solid black",p:2,borderRadius:"15px",mt:{md:0,sm:2,xs:2}},children:(0,C.jsxs)(n.Ay,{container:!0,sx:{gap:"5px 25px"},children:[(0,C.jsx)(n.Ay,{item:!0,md:5.7,sm:12,xs:12,children:(0,C.jsx)(A.A,{label:"Display Customer",size:"small",placeholder:"Walk-in Customer",register:de("display_customer",{required:"please enter display name."}),error:null===xe||void 0===xe||null===(l=xe.display_customer)||void 0===l?void 0:l.message})}),(0,C.jsx)(n.Ay,{item:!0,md:5.7,sm:12,xs:12,children:(0,C.jsx)(A.A,{label:"Mobile",size:"small",placeholder:"Mobile No",register:de("mobile",{required:"please enter mobile .",pattern:{value:/^05[0-9]{8}$/,message:"Please enter a valid UAE phone number (starting with 05 and 8 digits)."}}),error:null===xe||void 0===xe||null===(q=xe.mobile)||void 0===q?void 0:q.message})}),(0,C.jsx)(n.Ay,{item:!0,md:5.7,sm:12,xs:12,children:(0,C.jsx)(A.A,{label:"Email",size:"small",placeholder:"Email",register:de("email",{required:!1}),error:null===xe||void 0===xe||null===(F=xe.email)||void 0===F?void 0:F.message})}),(0,C.jsx)(n.Ay,{item:!0,md:5.7,sm:12,xs:12,children:(0,C.jsx)(A.A,{label:"Ref",size:"small",placeholder:"Reference",register:de("ref")})}),(0,C.jsx)(n.Ay,{item:!0,md:5.7,sm:12,xs:12,children:(0,C.jsx)(_.A,{label:"Cost Center",size:"small",options:[{id:"Al-ADHEED",name:"Al-ADHEED"}],selected:Yi,onSelect:e=>Hi(e),register:de("cost_center",{required:!1})})}),(0,C.jsx)(n.Ay,{item:!0,md:5.7,sm:12,xs:12,children:(0,C.jsx)(A.A,{label:"TRN",size:"small",placeholder:"TRN",register:de("trn",{required:!1})})}),(0,C.jsx)(n.Ay,{item:!0,md:5.7,sm:12,xs:12,children:(0,C.jsx)(A.A,{label:"Address",size:"small",placeholder:"Address",multiline:!0,rows:2,register:de("address",{required:!1}),error:null===xe||void 0===xe||null===(I=xe.address)||void 0===I?void 0:I.message})})]})}),(0,C.jsx)(n.Ay,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,C.jsx)(m.A,{type:"submit",disabled:0==(null===G||void 0===G?void 0:G.length),variant:"contained",sx:{textTransform:"capitalize",backgroundColor:"#bd9b4a",":hover":{backgroundColor:"rgb(189 155 74)"}},children:"Update"})})]})})]}),(0,C.jsx)("form",{onSubmit:ie(Z?e=>{if(console.log("Raw data passed to updateItem:",e),console.log("Current serviceItem:",Bi),null===e||void 0===e||!e.id)return void console.warn("No valid ID found in data. Skipping update.");const i={...e,service:Bi,service_id:null===Bi||void 0===Bi?void 0:Bi.id};console.log("Updated item to be saved:",i),Q((l=>{console.log("Previous rows:",l);const s=l.map((l=>l.id===e.id?(console.log(`Item with ID ${l.id} matched. Replacing with updated item.`),i):l));console.log("Rows after update:",s);const t=s.reduce(((e,i)=>parseFloat(e)+(parseFloat(i.total)||0)),0);return console.log("New total after update:",t),B(t),s})),console.log("Resetting form and states..."),oe(),Gi(null),J(!1)}:e=>{console.log(Bi);const i={...e,service:Bi,service_id:null===Bi||void 0===Bi?void 0:Bi.id};Q((e=>{const l=[...e,i],s=l.reduce(((e,i)=>parseFloat(e)+parseFloat(i.total)),0);return B(s),l})),oe(),Gi("")}),children:(0,C.jsx)(d.A,{component:r.A,children:(0,C.jsxs)(a.A,{children:[(0,C.jsx)(c.A,{children:(0,C.jsxs)(u.A,{children:[(0,C.jsx)(v.A,{sx:{width:"150px"},children:"Item Code"}),(0,C.jsx)(v.A,{sx:{width:"400px"},children:"Service"}),(0,C.jsx)(v.A,{sx:{width:"150px"},children:"Qty"}),(0,C.jsx)(v.A,{sx:{width:"150px"},children:"Govt fee"}),(0,C.jsx)(v.A,{sx:{width:"150px"},children:"Center fee"}),(0,C.jsx)(v.A,{sx:{width:"150px"},children:"Bank Charge"}),(0,C.jsx)(v.A,{sx:{width:"150px"},children:"Trsn Id"}),(0,C.jsx)(v.A,{sx:{width:"150px"},children:"App/Case ID"}),(0,C.jsx)(v.A,{sx:{width:"150px"},children:"Ref No"}),(0,C.jsx)(v.A,{sx:{width:"150px"},children:"Total"}),(0,C.jsx)(v.A,{sx:{width:"150px"},children:"Action"})]})}),(0,C.jsxs)(x.A,{children:[(0,C.jsxs)(u.A,{children:[(0,C.jsxs)(v.A,{children:[(0,C.jsx)(A.A,{size:"small",disabled:!0,placeholder:"Item code",register:ee("id",{required:"Item code is required"})}),ne.id&&(0,C.jsx)("span",{children:ne.id.message})]}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(_.A,{size:"small",options:Mi,disabled:(null===Oi||void 0===Oi?void 0:Oi.is_paid)||Z,selected:Bi,onSelect:async e=>{if(console.log(e,"idididid"),Gi(e),e)try{var i,l,s,t;let o={service_id:null===e||void 0===e?void 0:e.id};const{data:n}=await f.A.DetailServiceItem(o);se("id",null===n||void 0===n||null===(i=n.service)||void 0===i?void 0:i.id),se("govt_fee",null===n||void 0===n||null===(l=n.service)||void 0===l?void 0:l.bank_service_charge),se("center_fee",null===n||void 0===n||null===(s=n.service)||void 0===s?void 0:s.center_fee),se("bank_charge",null===n||void 0===n||null===(t=n.service)||void 0===t?void 0:t.bank_service_charge),Gi(null===n||void 0===n?void 0:n.service),se("quantity",1)}catch(o){(0,j.LY)(o)}else se("id",""),se("govt_fee",""),se("center_fee",""),se("bank_charge",""),se("transaction_id",""),se("application_id",""),se("ref_no",""),Gi(null),se("quantity","")},register:ee("service",{required:"Please select a service."})}),ne.service&&(0,C.jsx)("span",{style:{color:"red"},children:ne.service.message})]}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(A.A,{size:"small",disabled:null===Oi||void 0===Oi?void 0:Oi.is_paid,placeholder:"Quantity",type:"number",register:ee("quantity",{required:"Quantity is required"})}),ne.quantity&&(0,C.jsx)("span",{style:{color:"red"},children:ne.quantity.message})]}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(A.A,{size:"small",disabled:null===Oi||void 0===Oi?void 0:Oi.is_paid,placeholder:"Govt fee",register:ee("govt_fee",{required:"Govt fee is required"})}),ne.govt_fee&&(0,C.jsx)("span",{style:{color:"red"},children:ne.govt_fee.message})]}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(A.A,{size:"small",disabled:null===Oi||void 0===Oi?void 0:Oi.is_paid,placeholder:"Center Fee",register:ee("center_fee",{required:"Center fee is required"})}),ne.center_fee&&(0,C.jsx)("span",{style:{color:"red"},children:ne.center_fee.message})]}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(A.A,{size:"small",disabled:null===Oi||void 0===Oi?void 0:Oi.is_paid,placeholder:"Bank Charges",register:ee("bank_charge",{required:"Bank charges are required"})}),ne.bank_charge&&(0,C.jsx)("span",{style:{color:"red"},children:ne.bank_charge.message})]}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(A.A,{size:"small",placeholder:"Transaction Id",register:ee("transaction_id",{required:!1})}),ne.transaction_id&&(0,C.jsx)("span",{style:{color:"red"},children:ne.transaction_id.message})]}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(A.A,{size:"small",placeholder:"Application Id",register:ee("application_id",{required:"application id is required"})}),ne.application_id&&(0,C.jsx)("span",{style:{color:"red"},children:ne.application_id.message})]}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(A.A,{size:"small",placeholder:" Ref No",register:ee("ref_no",{required:!1})}),ne.ref_no&&(0,C.jsx)("span",{style:{color:"red"},children:ne.ref_no.message})]}),(0,C.jsx)(v.A,{children:(0,C.jsx)(A.A,{disabled:!0,style:{border:"none"},size:"small",placeholder:"",register:ee("total")})}),(0,C.jsxs)(v.A,{children:[!Z&&!(null!==Oi&&void 0!==Oi&&Oi.is_paid)&&(0,C.jsx)(m.A,{variant:"contained",color:"primary",type:"submit",sx:{textTransform:"capitalize",backgroundColor:"rgb(189 155 74)",fontSize:"12px",":hover":{backgroundColor:"rgb(189 155 74)"}},children:(0,C.jsx)(b.A,{})}),Z&&(0,C.jsxs)(C.Fragment,{children:[" ",(0,C.jsx)(m.A,{variant:"contained",color:"primary",type:"submit",sx:{textTransform:"capitalize",backgroundColor:"rgb(189 155 74)",fontSize:"12px",":hover":{backgroundColor:"rgb(189 155 74)"}},children:"Update"}),(0,C.jsx)(m.A,{variant:"contained",color:"primary",onClick:()=>{J(!1),se("id",""),se("govt_fee",""),se("center_fee",""),se("bank_charge",""),se("transaction_id",""),se("application_id",""),se("ref_no",""),Gi(null),se("quantity","")},sx:{mt:2,textTransform:"capitalize",backgroundColor:"rgb(189 155 74)",fontSize:"12px",":hover":{backgroundColor:"rgb(189 155 74)"}},children:"Cancel"})]})]})]}),(null===G||void 0===G?void 0:G.length)>0&&(null===G||void 0===G?void 0:G.map(((e,i)=>{var l;return(0,C.jsxs)(u.A,{children:[(0,C.jsx)(v.A,{children:null===e||void 0===e?void 0:e.id}),(0,C.jsx)(v.A,{children:null===e||void 0===e||null===(l=e.service)||void 0===l?void 0:l.name}),(0,C.jsx)(v.A,{children:null===e||void 0===e?void 0:e.quantity}),(0,C.jsx)(v.A,{children:null===e||void 0===e?void 0:e.govt_fee}),(0,C.jsx)(v.A,{children:null===e||void 0===e?void 0:e.center_fee}),(0,C.jsx)(v.A,{children:null===e||void 0===e?void 0:e.bank_charge}),(0,C.jsx)(v.A,{children:null===e||void 0===e?void 0:e.transaction_id}),(0,C.jsx)(v.A,{children:null===e||void 0===e?void 0:e.application_id}),(0,C.jsx)(v.A,{children:null===e||void 0===e?void 0:e.ref_no}),(0,C.jsx)(v.A,{children:null===e||void 0===e?void 0:e.total}),(0,C.jsx)(v.A,{children:(0,C.jsxs)(t.A,{sx:{display:"flex",gap:1},children:[(0,C.jsx)(t.A,{component:"img",sx:{cursor:"pointer"},onClick:()=>{O(e),J(!0),se("id",null===e||void 0===e?void 0:e.id),se("govt_fee",null===e||void 0===e?void 0:e.govt_fee),se("center_fee",null===e||void 0===e?void 0:e.center_fee),se("bank_charge",null===e||void 0===e?void 0:e.bank_charge),se("transaction_id",null===e||void 0===e?void 0:e.transaction_id),se("application_id",null===e||void 0===e?void 0:e.application_id),se("ref_no",null===e||void 0===e?void 0:e.ref_no),se("service",null===e||void 0===e?void 0:e.service),Gi(null===e||void 0===e?void 0:e.service),se("quantity",null===e||void 0===e?void 0:e.quantity),console.log(null===e||void 0===e?void 0:e.service)},src:k.To.editIcon,width:"35px"}),(0,C.jsx)(t.A,{children:!(null!==Oi&&void 0!==Oi&&Oi.is_paid)&&(0,C.jsx)(t.A,{sx:{cursor:"pointer"},component:"img",src:k.To.deleteIcon,onClick:()=>{null===e||void 0===e||e.id;Q(null===G||void 0===G?void 0:G.filter((i=>(null===i||void 0===i?void 0:i.id)!=(null===e||void 0===e?void 0:e.id))));const i=(null===G||void 0===G?void 0:G.filter((i=>(null===i||void 0===i?void 0:i.id)!=(null===e||void 0===e?void 0:e.id)))).reduce(((e,i)=>e+(parseFloat(i.total)||0)),0);console.log("New total after update:",i),B(i)},width:"35px"})})]})})]},i)}))),(0,C.jsxs)(u.A,{children:[(0,C.jsx)(v.A,{colSpan:9,align:"right",children:(0,C.jsx)(o.A,{variant:"h6",sx:{fontSize:"15px"},children:"Sub-total:"})}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(o.A,{variant:"h6",sx:{fontSize:"15px"},children:P})," "]})]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)(v.A,{colSpan:9,align:"right",children:(0,C.jsx)(o.A,{variant:"h6",sx:{fontSize:"15px"},children:"Net Taxable Amount:"})}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(o.A,{variant:"h6",sx:{fontSize:"15px"},children:null===G||void 0===G?void 0:G.reduce(((e,i)=>{var l,s;return e+parseFloat(null!==(l=null===i||void 0===i?void 0:i.center_fee)&&void 0!==l?l:0)*parseInt(null!==(s=null===i||void 0===i?void 0:i.quantity)&&void 0!==s?s:1)}),0).toFixed(2)})," "]})]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)(v.A,{colSpan:9,align:"right",children:(0,C.jsx)(o.A,{variant:"h6",sx:{fontSize:"15px"},children:"Total Vat:"})}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(o.A,{variant:"h6",sx:{fontSize:"15px"},children:(.05*(null===G||void 0===G?void 0:G.reduce(((e,i)=>{var l,s;return e+parseFloat(null!==(l=null===i||void 0===i?void 0:i.center_fee)&&void 0!==l?l:0)*parseFloat(null!==(s=null===i||void 0===i?void 0:i.quantity)&&void 0!==s?s:1)}),0))).toFixed(2)})," "]})]}),(0,C.jsxs)(u.A,{children:[(0,C.jsx)(v.A,{colSpan:9,align:"right",children:(0,C.jsx)(o.A,{variant:"h6",sx:{fontSize:"15px"},children:"Amount Total:"})}),(0,C.jsxs)(v.A,{children:[(0,C.jsx)(o.A,{variant:"h6",sx:{fontSize:"15px"},children:(parseFloat(P)+.05*(null===G||void 0===G?void 0:G.reduce(((e,i)=>{var l,s;return e+parseFloat(null!==(l=null===i||void 0===i?void 0:i.center_fee)&&void 0!==l?l:0)*parseFloat(null!==(s=null===i||void 0===i?void 0:i.quantity)&&void 0!==s?s:1)}),0))).toFixed(2)})," "]})]})]})]})})})]})})]})}}}]);
//# sourceMappingURL=9044.709cbbf8.chunk.js.map