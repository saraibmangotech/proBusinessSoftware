"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[4780],{64780:(e,r,o)=>{o.r(r),o.d(r,{default:()=>R});var i=o(65043),a=o(28076),l=o(39652),n=o(77502),t=o(96446),s=o(68903),c=o(85865),d=o(54620),u=o(45903),p=o(73216),v=o(77020),x=(o(23602),o(44563)),m=(o(36838),o(42165),o(66535),o(85900)),y=o(83992),h=(o(91395),o(22030),o(20566),o(24858)),g=o(79456),f=(o(4841),o(29542)),A=o(91284),j=o(37230),S=(o(72450),o(86178)),w=o.n(S),_=(o(99543),o(95692)),b=(o(14398),o(3584)),C=o(51593),F=o(70579);(0,u.A)(a.A)((e=>{let{theme:r}=e;return{border:0}})),(0,u.A)(l.A)((e=>{let{theme:r}=e;return{[`&.${n.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${n.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:d.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}}));const K=(0,y.A)({loaderWrap:{display:"flex",height:100,"& svg":{width:"40px !important",height:"40px !important"}}});const R=function(){var e;(0,p.Zp)(),K(),(0,g.wA)(),(0,i.useRef)(null);const[r,o]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[n,d]=(0,i.useState)(null),[u,y]=(0,i.useState)(!1),{register:S,handleSubmit:R,formState:{errors:E},setValue:D,getValues:N,reset:Y}=(0,h.mN)(),[k,M]=(0,i.useState)(!1),[W,z]=(0,i.useState)(!1),[B,P]=(0,i.useState)([]),[T,H]=(0,i.useState)(0),[I,V]=(0,i.useState)(50),[$,q]=(0,i.useState)(1),[G,L]=(0,i.useState)({}),[O,Z]=(0,i.useState)(),[J,Q]=(0,i.useState)(!1),[U,X]=(0,i.useState)("desc"),ee=async(e,r,o)=>{M(!0);try{let e={page:1,limit:1e3};const{data:r}=await m.A.getCollectionReport(e);P(null===r||void 0===r?void 0:r.rows)}catch(i){(0,_.Ni)(i)}finally{M(!1)}},re=[{header:"SR No.",accessorKey:"id"},{header:"Category",accessorKey:"category",accessorFn:e=>"Al-ADHEED",cell:e=>{let{row:r}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:"Al-ADHEED"})}},{header:"Receipt Date",accessorKey:"invoice_date",accessorFn:e=>{var r;return w()(null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.invoice_date).format("DD/MM/YYYY")},cell:e=>{var r,o;let{row:i}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:w()(null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.invoice_date).format("DD/MM/YYYY")})}},{header:"Receipt Time",accessorKey:"invoice_date",accessorFn:e=>{var r;return w()(null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.invoice_date).format("hh:mm A")},cell:e=>{var r,o;let{row:i}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:w()(null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.invoice_date).format("hh:mm A")})}},{header:"Receipt No.",accessorKey:"id",accessorFn:e=>"RC"+(null===e||void 0===e?void 0:e.id),cell:e=>{var r;let{row:o}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:"RC"+(null===o||void 0===o||null===(r=o.original)||void 0===r?void 0:r.id)})}},{header:"Inv No.",accessorKey:"invoice_number",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.invoice_number},cell:e=>{var r,o;let{row:i}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.invoice_number})}},{header:"Customer Name",accessorKey:"customer_name",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.customer_name},cell:e=>{var r,o;let{row:i}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.customer_name})}},{header:"Card No.",accessorKey:"remarks",accessorFn:e=>null===e||void 0===e?void 0:e.remarks,cell:e=>{var r,o;let{row:i}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null!==(r=null===i||void 0===i||null===(o=i.original)||void 0===o?void 0:o.remarks)&&void 0!==r?r:"-"})}},{header:"Cashier",accessorKey:"cashier",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.payment_creator)||void 0===r?void 0:r.name},cell:e=>{var r,o;let{row:i}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.payment_creator)||void 0===o?void 0:o.name})}},{header:"Pay. Method",accessorKey:"pay_method",accessorFn:e=>null===e||void 0===e?void 0:e.payment_mode,cell:e=>{var r;let{row:o}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===o||void 0===o||null===(r=o.original)||void 0===r?void 0:r.payment_mode})}},{header:"Gross",accessorKey:"gross",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.total_amount},cell:e=>{var r,o;let{row:i}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.total_amount})}},{header:"Discount",accessorKey:"discount",accessorFn:e=>0,cell:e=>{let{row:r}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:"0"})}},{header:"Chg",accessorKey:"chg",accessorFn:e=>{var r;return(null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.additional_charges_value)||0},cell:e=>{var r,o;let{row:i}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:(null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.additional_charges_value)||0})}},{header:"RndOf",accessorKey:"",accessorFn:e=>0,cell:e=>{let{row:r}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:0})}},{header:"Total",accessorKey:"total",accessorFn:e=>null===e||void 0===e?void 0:e.paid_amount,cell:e=>{var r;let{row:o}=e;return(0,F.jsx)(t.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===o||void 0===o||null===(r=o.original)||void 0===r?void 0:r.paid_amount})}}];return(0,i.useEffect)((()=>{ee()}),[]),(0,F.jsxs)(t.A,{sx:{p:3},children:[(0,F.jsx)(C.A,{open:W,onClose:()=>z(!1),message:"Are You Sure?",action:()=>{z(!1),(async()=>{try{let e={reception_id:null===n||void 0===n?void 0:n.id};const{message:r}=await m.A.deleteReception(e);(0,x.ee)(r),ee()}catch(e){(0,_.Ni)(e)}})()}}),(0,F.jsx)(f.A,{open:a,onClose:()=>l(!1),title:"Change Status?",children:(0,F.jsx)(t.A,{component:"form",onSubmit:R((async()=>{try{let e={customer_id:null===n||void 0===n?void 0:n.id,is_active:null===r||void 0===r?void 0:r.id};const i=m.A.CustomerStatus(e);console.log(i),(0,_.y8)(i,"Saving...","Added Successfully","Something Went Wrong");const a=await i;200===(null===a||void 0===a?void 0:a.responseCode)&&(l(!1),o(null),ee())}catch(e){console.log(e)}})),children:(0,F.jsxs)(s.Ay,{container:!0,spacing:2,children:[(0,F.jsx)(s.Ay,{item:!0,xs:12,sm:12,children:(0,F.jsx)(j.A,{size:"small",label:"Select Status :",options:[{id:!1,name:"Disabled"},{id:!0,name:"Enabled"}],selected:r,onSelect:e=>{o(e)},error:null===E||void 0===E||null===(e=E.status)||void 0===e?void 0:e.message,register:S("status",{required:"Please select status."})})}),(0,F.jsx)(s.Ay,{container:!0,sx:{justifyContent:"center"},children:(0,F.jsxs)(s.Ay,{item:!0,xs:6,sm:6,sx:{mt:2,display:"flex",justifyContent:"space-between",gap:"25px"},children:[(0,F.jsx)(A.jn,{bgcolor:v.A.primary,title:"Yes,Confirm",type:"submit"}),(0,F.jsx)(A.jn,{onClick:()=>l(!1),bgcolor:"#FF1F25",title:"No,Cancel"})]})})]})})}),(0,F.jsx)(t.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:(0,F.jsx)(c.A,{sx:{fontSize:"24px",fontWeight:"bold"},children:"Collection Report"})}),(0,F.jsx)(t.A,{children:(0,F.jsx)(b.A,{loading:k,csv:!0,csvName:"collection_report",data:B,columns:re})})]})}}}]);
//# sourceMappingURL=4780.a8f885e6.chunk.js.map