"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[2190],{12190:(e,t,l)=>{l.r(t),l.d(t,{default:()=>T});var s=l(65043),o=l(96446),a=l(85865),i=l(68903),n=l(79190),r=l(81045),d=l(17392),c=l(78492),u=l(74605),m=l(14256),x=(l(8781),l(26240)),v=l(91284),g=l(77020),h=l(24858),p=(l(18285),l(20566)),A=(l(93445),l(44563)),y=l(52338),j=(l(99543),l(37230)),S=(l(22030),l(88073),l(50857),l(85900)),b=(l(2722),l(95692)),f=(l(86178),l(73216)),C=(l(70255),l(28153),l(54620),l(14398),l(19668)),_=l(86213),w=l(45009),z=l(2010),P=l(70579);const T=function(){var e,t,l,T,k,q,E,I,N,M,D;(0,x.A)();const{user:L}=(0,C.A)(),V=(0,f.Zp)(),[W,Y]=(0,s.useState)(!1),[F,R]=(0,s.useState)(!1),[G,H]=(0,s.useState)("no"),[U,B]=(0,s.useState)("no"),{register:Z,handleSubmit:J,getValues:K,setValue:O,formState:{errors:Q}}=(0,h.mN)(),{register:X,handleSubmit:$,setValue:ee,getValues:te,control:le,watch:se,formState:{errors:oe}}=(0,h.mN)();console.log(se());const[ae,ie]=(0,s.useState)([]),[ne,re]=s.useState(1),[de,ce]=(0,s.useState)(0),[ue,me]=(0,s.useState)(0),[xe,ve]=(0,s.useState)([]),[ge,he]=(0,s.useState)({id:"Instant",name:"Instant"}),[pe,Ae]=(0,s.useState)(),[ye,je]=(0,s.useState)(!1),[Se,be]=(0,s.useState)(!1),[fe,Ce]=(0,s.useState)(!1),[_e,we]=(0,s.useState)(!1),[ze,Pe]=(0,s.useState)(!1),[Te,ke]=(0,s.useState)(!1),[qe,Ee]=(0,s.useState)({monthlyVisaServiceCharges:!1,vipMedical:!1,extraTyping:!0}),[Ie,Ne]=(0,s.useState)(null),[Me,De]=(0,s.useState)(null),[Le,Ve]=(0,s.useState)(),[We,Ye]=(0,s.useState)(),[Fe,Re]=(0,s.useState)(null),[Ge,He]=(0,s.useState)(null),[Ue,Be]=(0,s.useState)(null),[Ze,Je]=(0,s.useState)(null),Ke=(0,s.useRef)(null),[Oe,Qe]=(0,s.useState)(!1),[Xe,$e]=(0,s.useState)([]),[et,tt]=(0,s.useState)(null),[lt,st]=(0,s.useState)(null),[ot,at]=(0,s.useState)(null),[it,nt]=(0,s.useState)(null),[rt,dt]=(0,s.useState)(null),[ct,ut]=(0,s.useState)(null),[mt,xt]=(0,s.useState)(null),[vt,gt]=(0,s.useState)([]),[ht,pt]=(0,s.useState)(null),At=()=>{Ke.current.click()};console.log(se());const yt=async e=>{try{var t,l,s,o;const a=e.target.files[0];a&&ee("image",a,{shouldValidate:!0});const i=new FormData;i.append("document",e.target.files[0]);const n=await _.A.post("https://pro.mangotech-api.com/api/system/uploadDocuments",i,{headers:{"Content-Type":"multipart/form-data"}});console.log(null===n||void 0===n||null===(t=n.data)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.path),Je(null===n||void 0===n||null===(s=n.data)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.path)}catch(a){console.log(a)}};return(0,s.useEffect)((()=>{(async()=>{try{var e,t;let l={page:1,limit:1e3};const{data:s}=await z.A.getAccounts(l);console.log(null===s||void 0===s||null===(e=s.accounts)||void 0===e?void 0:e.rows),$e(null===s||void 0===s||null===(t=s.accounts)||void 0===t?void 0:t.rows)}catch(l){(0,A.LY)(l)}})(),(async()=>{try{var e;let t={page:1,limit:1e3};const{data:l}=await z.A.getTax(t);console.log(null===l||void 0===l||null===(e=l.accounts)||void 0===e?void 0:e.rows),gt(null===l||void 0===l?void 0:l.tax)}catch(t){(0,A.LY)(t)}})()}),[]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(o.A,{sx:{width:"100%"}}),(0,P.jsx)(o.A,{m:3,sx:{backgroundColor:"white",borderRadius:"12px"},children:(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(o.A,{component:"form",onSubmit:$((async e=>{console.log(e);try{let t={name:null===e||void 0===e?void 0:e.name,name_ar:null===e||void 0===e?void 0:e.arabic,logo:Ze,item_tax_type:null===ht||void 0===ht?void 0:ht.name,item_type:null===ct||void 0===ct?void 0:ct.id,unit_of_measure:null===mt||void 0===mt?void 0:mt.id,exclude_from_sales:G,exclude_from_purchase:U,sales_account_id:null===et||void 0===et?void 0:et.id,inventory_account_id:null===lt||void 0===lt?void 0:lt.id,cogs_account_id:null===ot||void 0===ot?void 0:ot.id,inventory_adjustment_account_id:null===it||void 0===it?void 0:it.id,item_assembly_costs_account_id:null===rt||void 0===rt?void 0:rt.id,cost_center:null===Ie||void 0===Ie?void 0:Ie.id};const l=S.A.CreateCategory(t);(0,b.y8)(l,"Saving...","Added Successfully","Something Went Wrong");const s=await l;200===(null===s||void 0===s?void 0:s.responseCode)&&V("/category-list")}catch(t){(0,A.LY)(t)}})),children:[(0,P.jsx)(o.A,{sx:{display:"flex",justifyContent:"space-between",gap:"10px",p:3,alignItems:"flex-end"},children:(0,P.jsx)(a.A,{sx:{fontSize:"22px",fontWeight:"bold"},children:"Create Service Category"})}),(0,P.jsxs)(o.A,{sx:{p:3},children:[(0,P.jsxs)(i.Ay,{item:!0,xs:10,mb:2,children:[(0,P.jsx)(n.A,{sx:{textTransform:"capitalize",textAlign:"left",fontWeight:700,display:"block",fontSize:"14px",color:"#333",marginBottom:"4px"},children:"Logo :*"}),(0,P.jsx)(h.xI,{name:"image",control:le,rules:{required:" picture is required"},render:()=>(0,P.jsxs)(o.A,{component:"div",onMouseEnter:()=>Qe(!0),onMouseLeave:()=>Qe(!1),sx:{position:"relative",width:75,height:75,mt:2},children:[(0,P.jsx)(r.A,{src:"https://pro.mangotech-api.com"+Ze,alt:"L",sx:{position:"relative",width:"100%",height:"100%",borderRadius:"50%",fontSize:24,backgroundColor:Ze?"":"#0EA5EA",color:"white",cursor:"pointer",objectFit:"cover",textTransform:"capitalize"},onClick:At}),Oe&&(0,P.jsxs)(d.A,{sx:{position:"absolute",top:"0",left:"0",width:"100%",padding:"9px 15px",color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",display:"block","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},onClick:At,children:[(0,P.jsx)(w.A,{}),(0,P.jsx)(o.A,{sx:{fontSize:"12px"},children:"Upload Image"})]}),(0,P.jsx)("input",{type:"file",ref:Ke,style:{display:"none"},onChange:yt,accept:"image/*"})]})}),oe.image&&!Ze&&(0,P.jsx)(a.A,{sx:{color:"red",fontSize:"12px",mt:1},children:oe.image.message})]}),(0,P.jsxs)(i.Ay,{container:!0,sx:{gap:"5px 25px"},children:[(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(p.A,{label:" Name :*",size:"small",placeholder:" Name",error:null===oe||void 0===oe||null===(e=oe.name)||void 0===e?void 0:e.message,register:X("name",{required:"Please enter your name."})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(p.A,{label:"Arabic Name :*",size:"small",placeholder:"Arabic Name",error:null===oe||void 0===oe||null===(t=oe.arabic)||void 0===t?void 0:t.message,register:X("arabic",{required:"Please enter your arabic.",onChange:e=>{console.log("asdas")}})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsxs)(y.M,{component:"fieldset",children:[(0,P.jsx)(n.A,{sx:{textTransform:"capitalize",textAlign:"left",fontWeight:700,color:g.A.gray},children:"Exclude from Sales"}),(0,P.jsxs)(c.A,{row:!0,value:G,onChange:e=>H(e.target.value),children:[(0,P.jsx)(u.A,{value:!0,control:(0,P.jsx)(m.A,{}),label:"Yes"}),(0,P.jsx)(u.A,{value:!1,control:(0,P.jsx)(m.A,{}),label:"No"})]})]})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsxs)(y.M,{component:"fieldset",children:[(0,P.jsx)(n.A,{sx:{textTransform:"capitalize",textAlign:"left",fontWeight:700,color:g.A.gray},children:"Exclude from Purchase"}),(0,P.jsxs)(c.A,{row:!0,value:U,onChange:e=>B(e.target.value),children:[(0,P.jsx)(u.A,{value:!0,control:(0,P.jsx)(m.A,{}),label:"Yes"}),(0,P.jsx)(u.A,{value:!1,control:(0,P.jsx)(m.A,{}),label:"No"})]})]})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(j.A,{size:"small",label:"Tax Type *:",options:vt,selected:ht,onSelect:e=>{pt(e)},error:null===oe||void 0===oe||null===(l=oe.tax)||void 0===l?void 0:l.message,register:X("tax",{required:"Please select tax ."})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(j.A,{size:"small",label:"Sales Account *:",options:Xe,selected:et,onSelect:e=>{tt(e)},error:null===oe||void 0===oe||null===(T=oe.sales)||void 0===T?void 0:T.message,register:X("sales",{required:"Please select sales account."})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(j.A,{size:"small",label:"Inventory Account *:",options:Xe,selected:lt,onSelect:e=>{st(e)},error:null===oe||void 0===oe||null===(k=oe.inventory)||void 0===k?void 0:k.message,register:X("inventory",{required:"Please select inventory account."})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(j.A,{size:"small",label:"Cogs Account *:",options:Xe,selected:ot,onSelect:e=>{at(e)},error:null===oe||void 0===oe||null===(q=oe.cogs)||void 0===q?void 0:q.message,register:X("cogs",{required:"Please select cogs account."})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(j.A,{size:"small",label:"Inventory Adjustment Account *:",options:Xe,selected:it,onSelect:e=>{nt(e)},error:null===oe||void 0===oe||null===(E=oe.adjustment)||void 0===E?void 0:E.message,register:X("adjustment",{required:"Please select adjustment account."})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(j.A,{size:"small",label:"Item Assembly Cost Account *:",options:Xe,selected:rt,onSelect:e=>{dt(e)},error:null===oe||void 0===oe||null===(I=oe.assembly)||void 0===I?void 0:I.message,register:X("assembly",{required:"Please select assembly account."})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(j.A,{size:"small",label:"Cost Center *:",options:[{id:"Tasheel",name:"Tasheel"},{id:"DED",name:"DED"},{id:"Typing",name:"Typing"},{id:"General",name:"General"}],selected:Ie,onSelect:e=>{Ne(e)},error:null===oe||void 0===oe||null===(N=oe.center)||void 0===N?void 0:N.message,register:X("center",{required:"Please select center ."})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(j.A,{size:"small",label:"Item Type *:",options:[{id:"Manufactured",name:"Manufactured"},{id:"Service/Consumable",name:"Service/Consumable"},{id:"Purchased",name:"Purchased"}],selected:ct,onSelect:e=>{ut(e)},error:null===oe||void 0===oe||null===(M=oe.type)||void 0===M?void 0:M.message,register:X("type",{required:"Please select type ."})})}),(0,P.jsx)(i.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(j.A,{size:"small",label:"Unit *:",options:[{id:"Each",name:"Each"},{id:"Hours",name:"Hours"}],selected:mt,onSelect:e=>{xt(e)},error:null===oe||void 0===oe||null===(D=oe.unit)||void 0===D?void 0:D.message,register:X("unit",{required:"Please select unit ."})})}),(0,P.jsx)(i.Ay,{container:!0,justifyContent:"flex-end",children:(0,P.jsx)(v.jn,{bgcolor:"#bd9b4a",title:"Submit",type:"submit"})})]})]})]})})})]})}}}]);
//# sourceMappingURL=2190.c4e3816c.chunk.js.map