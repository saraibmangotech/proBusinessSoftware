"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[9881],{79881:(e,r,o)=>{o.r(r),o.d(r,{default:()=>C});var i=o(65043),l=o(28076),a=o(39652),t=o(77502),n=o(96446),s=o(68903),c=o(85865),d=o(54620),u=o(45903),v=o(73216),p=o(77020),y=(o(23602),o(44563)),m=(o(36838),o(42165),o(66535),o(85900)),x=o(83992),h=(o(91395),o(22030),o(20566),o(24858)),g=o(79456),f=(o(4841),o(29542)),A=o(91284),_=o(37230),F=(o(72450),o(86178),o(99543),o(95692)),S=(o(14398),o(3584)),j=o(51593),w=o(70579);(0,u.A)(l.A)((e=>{let{theme:r}=e;return{border:0}})),(0,u.A)(a.A)((e=>{let{theme:r}=e;return{[`&.${t.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${t.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:d.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}}));const b=(0,x.A)({loaderWrap:{display:"flex",height:100,"& svg":{width:"40px !important",height:"40px !important"}}});const C=function(){var e;(0,v.Zp)(),b(),(0,g.wA)(),(0,i.useRef)(null);const[r,o]=(0,i.useState)(null),[l,a]=(0,i.useState)(!1),[t,d]=(0,i.useState)(null),[u,x]=(0,i.useState)(!1),{register:C,handleSubmit:K,formState:{errors:k},setValue:E,getValues:N,reset:I}=(0,h.mN)(),[R,T]=(0,i.useState)(!1),[W,q]=(0,i.useState)(!1),[D,z]=(0,i.useState)([]),[B,M]=(0,i.useState)(0),[P,V]=(0,i.useState)(50),[G,L]=(0,i.useState)(1),[Y,$]=(0,i.useState)({}),[O,Q]=(0,i.useState)(),[Z,H]=(0,i.useState)(!1),[J,U]=(0,i.useState)("desc"),X=async(e,r,o)=>{T(!0);try{let e={page:1,limit:1e3};const{data:r}=await m.A.getServiceReport(e);z(null===r||void 0===r?void 0:r.rows)}catch(i){(0,F.Ni)(i)}finally{T(!1)}},ee=[{header:"SR No.",accessorKey:"id"},{header:"Inv No.",accessorKey:"invoice_number",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.invoice_number},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.invoice_number})}},{header:"Inv Date",accessorKey:"invoice_date",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.invoice_date},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.invoice_date})}},{header:"Department",accessorKey:"department",accessorFn:e=>"Al-Adheed",cell:e=>{let{row:r}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:"Al-Adheed"})}},{header:"Stock ID",accessorKey:"stock_id",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.service)||void 0===r?void 0:r.id},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.service)||void 0===o?void 0:o.id})}},{header:"Service Name",accessorKey:"service_name",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.service)||void 0===r?void 0:r.name},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.service)||void 0===o?void 0:o.name})}},{header:"Category",accessorKey:"category",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.service.category)||void 0===r?void 0:r.name},cell:e=>{var r,o,i;let{row:l}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===l||void 0===l||null===(r=l.original)||void 0===r||null===(o=r.service)||void 0===o||null===(i=o.category)||void 0===i?void 0:i.name})}},{header:"Customer Ref",accessorFn:e=>"Walk-In Customer",cell:e=>{let{row:r}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:"Walk-In Customer"})}},{header:"Display Customer",accessorKey:"customer_name",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.customer_name},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.customer_name})}},{header:"Customer Mobile",accessorKey:"customer_mobile",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.customer_mobile},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.customer_mobile})}},{header:"Customer Email",accessorKey:"customer_email",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.customer_email},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.customer_email})}},{header:"Quantity",accessorKey:"quantity"},{header:"Service Charge",accessorKey:"center_fee"},{header:"Total Service Charge",accessorKey:"total_service_charge",accessorFn:e=>(parseFloat(null===e||void 0===e?void 0:e.center_fee)*parseFloat(null===e||void 0===e?void 0:e.quantity)).toFixed(2),cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:(parseFloat(null===i||void 0===i||null===(r=i.original)||void 0===r?void 0:r.center_fee)*parseFloat(null===i||void 0===i||null===(o=i.original)||void 0===o?void 0:o.quantity)).toFixed(2)})}},{header:"Total VAT",accessorKey:"total_vat",accessorFn:e=>parseFloat(null===e||void 0===e?void 0:e.center_fee)*parseFloat(null===e||void 0===e?void 0:e.quantity)*.05,cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:parseFloat(null===i||void 0===i||null===(r=i.original)||void 0===r?void 0:r.center_fee)*parseFloat(null===i||void 0===i||null===(o=i.original)||void 0===o?void 0:o.quantity)*.05})}},{header:"Govt. Fee",accessorKey:"govt_fee"},{header:"Bank Service Charge",accessorKey:"bank_charge"},{header:"Other Charge",accessorKey:"other_charge",accessorFn:e=>0,cell:e=>{let{row:r}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:"0"})}},{header:"Total Govt. Fee",accessorKey:"govt_fee"},{header:"Transaction ID",accessorKey:"transaction_id"},{header:"Application/Case ID",accessorKey:"application_id"},{header:"Ref Name",accessorKey:"ref_no"},{header:"Payment Status",accessorKey:"payment_status",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.payment_status},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.payment_status})}},{header:"Employee ID",accessorKey:"employee_id",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.created_by},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.created_by})}},{header:"Employee Name",accessorKey:"employee_name",accessorFn:e=>{var r,o;return null===e||void 0===e||null===(r=e.receipt)||void 0===r||null===(o=r.creator)||void 0===o?void 0:o.name},cell:e=>{var r,o,i;let{row:l}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:null===l||void 0===l||null===(r=l.original)||void 0===r||null===(o=r.receipt)||void 0===o||null===(i=o.creator)||void 0===i?void 0:i.name})}},{header:"Line Total",accessorKey:"total",accessorFn:e=>parseFloat(null===e||void 0===e?void 0:e.total)+parseFloat(null===e||void 0===e?void 0:e.center_fee)*parseFloat(null===e||void 0===e?void 0:e.quantity)*.05,cell:e=>{var r,o,i;let{row:l}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:parseFloat(null===l||void 0===l||null===(r=l.original)||void 0===r?void 0:r.total)+parseFloat(null===l||void 0===l||null===(o=l.original)||void 0===o?void 0:o.center_fee)*parseFloat(null===l||void 0===l||null===(i=l.original)||void 0===i?void 0:i.quantity)*.05})}},{header:"Invoice Total",accessorKey:"inv_total",accessorFn:e=>{var r;return null===e||void 0===e||null===(r=e.receipt)||void 0===r?void 0:r.total_amount},cell:e=>{var r,o;let{row:i}=e;return(0,w.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:parseFloat(null===i||void 0===i||null===(r=i.original)||void 0===r||null===(o=r.receipt)||void 0===o?void 0:o.total_amount)})}}];return(0,i.useEffect)((()=>{X()}),[]),(0,w.jsxs)(n.A,{sx:{p:3},children:[(0,w.jsx)(j.A,{open:W,onClose:()=>q(!1),message:"Are You Sure?",action:()=>{q(!1),(async()=>{try{let e={reception_id:null===t||void 0===t?void 0:t.id};const{message:r}=await m.A.deleteReception(e);(0,y.ee)(r),X()}catch(e){(0,F.Ni)(e)}})()}}),(0,w.jsx)(f.A,{open:l,onClose:()=>a(!1),title:"Change Status?",children:(0,w.jsx)(n.A,{component:"form",onSubmit:K((async()=>{try{let e={customer_id:null===t||void 0===t?void 0:t.id,is_active:null===r||void 0===r?void 0:r.id};const i=m.A.CustomerStatus(e);console.log(i),(0,F.y8)(i,"Saving...","Added Successfully","Something Went Wrong");const l=await i;200===(null===l||void 0===l?void 0:l.responseCode)&&(a(!1),o(null),X())}catch(e){console.log(e)}})),children:(0,w.jsxs)(s.Ay,{container:!0,spacing:2,children:[(0,w.jsx)(s.Ay,{item:!0,xs:12,sm:12,children:(0,w.jsx)(_.A,{size:"small",label:"Select Status :",options:[{id:!1,name:"Disabled"},{id:!0,name:"Enabled"}],selected:r,onSelect:e=>{o(e)},error:null===k||void 0===k||null===(e=k.status)||void 0===e?void 0:e.message,register:C("status",{required:"Please select status."})})}),(0,w.jsx)(s.Ay,{container:!0,sx:{justifyContent:"center"},children:(0,w.jsxs)(s.Ay,{item:!0,xs:6,sm:6,sx:{mt:2,display:"flex",justifyContent:"space-between",gap:"25px"},children:[(0,w.jsx)(A.jn,{bgcolor:p.A.primary,title:"Yes,Confirm",type:"submit"}),(0,w.jsx)(A.jn,{onClick:()=>a(!1),bgcolor:"#FF1F25",title:"No,Cancel"})]})})]})})}),(0,w.jsx)(n.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:(0,w.jsx)(c.A,{sx:{fontSize:"24px",fontWeight:"bold"},children:"Service Report"})}),(0,w.jsx)(n.A,{children:(0,w.jsx)(S.A,{loading:R,csv:!0,csvName:"service_report",data:D,columns:ee})})]})}}}]);
//# sourceMappingURL=9881.f80b851c.chunk.js.map