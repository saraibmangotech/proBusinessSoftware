"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[6231],{26231:(e,t,i)=>{i.r(t),i.d(t,{default:()=>L});var n=i(65043),l=i(28076),a=i(39652),o=i(77502),d=i(96446),r=i(85865),s=i(68903),c=i(79650),u=i(63336),x=i(71806),h=i(84882),v=i(73460),p=i(81637),m=i(45903),g=i(54620),j=i(77020),A=i(23602),y=i(44563),b=i(83992),f=i(91395),S=i(73216),D=i(20566),F=i(24858),w=i(22030),_=i(93445),Y=i(91284),E=i(86178),C=i.n(E),M=i(2010),z=i(70579);const B=(0,m.A)(l.A)((e=>{let{theme:t}=e;return{border:0}})),W=(0,m.A)(a.A)((e=>{let{theme:t}=e;return{[`&.${o.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${o.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:g.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}})),k=(0,b.A)({loaderWrap:{display:"flex",height:100,"& svg":{width:"40px !important",height:"40px !important"}}});const L=function(){const e=k(),{id:t}=((0,S.Zp)(),(0,S.g)()),{state:i}=(0,S.zy)(),[a,o]=(0,n.useState)();let m=a;const{register:b,handleSubmit:E,setValue:L}=(0,F.mN)(),N=["Date","JV#","Particular#","Type","Description","Comments","Debit (AED)","Credit (AED)","Balance (AED)"],[P,R]=(0,n.useState)(!1),[T,$]=(0,n.useState)(!1),[I,H]=(0,n.useState)(),[V,G]=(0,n.useState)(0),[J,K]=(0,n.useState)(10),[Z,q]=(0,n.useState)(1),[O,Q]=(0,n.useState)({}),[U,X]=(0,n.useState)(),[ee,te]=(0,n.useState)(),ie=async(e,i,n)=>{$(!0);try{var l,a,d;const r=e||Z,s=i||J,c={...O,...n};q(r),K(s),Q(c);let u={page:r,limit:s,account_id:t};u={...u,...c};const{data:x}=await M.A.getAccountLedgers(u);H(null===x||void 0===x||null===(l=x.statement)||void 0===l?void 0:l.rows),G(null===x||void 0===x||null===(a=x.statement)||void 0===a?void 0:a.count),o(null===x||void 0===x||null===(d=x.statement)||void 0===d?void 0:d.opening_balance_aed)}catch(r){(0,y.LY)(r)}finally{$(!1)}};return(0,n.useEffect)((()=>{ie()}),[]),(0,z.jsxs)(d.A,{sx:{m:4,mb:2},children:[(0,z.jsxs)(r.A,{variant:"h5",sx:{color:j.A.charcoalGrey,fontFamily:g.ay.NunitoRegular,mb:4},children:[null===i||void 0===i?void 0:i.accountName," Account's Ledger"]}),(0,z.jsx)(d.A,{component:"form",onSubmit:E((()=>{let e={from_date:U?C()(new Date(U)).format("MM-DD-YYYY"):"",to_date:ee?C()(new Date(ee)).format("MM-DD-YYYY"):""};ie(1,"",e)})),children:(0,z.jsxs)(s.Ay,{container:!0,spacing:1,children:[(0,z.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,z.jsx)(D.A,{size:"small",label:"Search",placeholder:"Search",register:b("search",{onChange:e=>{return t={search:e.target.value},void(0,w.S$)((()=>ie(1,"",t)));var t}})})}),(0,z.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,z.jsx)(_.A,{disableFuture:!0,size:"small",label:"From Date",value:U,onChange:e=>(e=>{try{if("Invalid Date"==e)return void X("invalid");X(new Date(e))}catch(t){(0,y.LY)(t)}})(e)})}),(0,z.jsx)(s.Ay,{item:!0,xs:12,sm:3,children:(0,z.jsx)(_.A,{disableFuture:!0,size:"small",minDate:U,label:"To Date",value:ee,onChange:e=>(e=>{try{if("Invalid Date"==e)return void te("invalid");te(new Date(e))}catch(t){(0,y.LY)(t)}})(e)})}),(0,z.jsx)(s.Ay,{item:!0,xs:12,sm:2,sx:{mt:3.5},children:(0,z.jsx)(Y.jn,{title:"Search",type:"submit",loading:T})})]})}),I?(0,z.jsxs)(n.Fragment,{children:[(0,z.jsx)(c.A,{component:u.A,sx:{boxShadow:"0px 8px 18px 0px #9B9B9B1A",borderRadius:2,maxHeight:"calc(100vh - 330px)"},children:(0,z.jsxs)(x.A,{stickyHeader:!0,sx:{minWidth:500},children:[(0,z.jsx)(h.A,{children:(0,z.jsx)(l.A,{children:N.map(((e,t)=>(0,z.jsx)(W,{children:e},t)))})}),(0,z.jsx)(v.A,{children:P?(0,z.jsx)(B,{children:(0,z.jsx)(W,{colSpan:N.length+2,align:"center",sx:{fontWeight:600},children:(0,z.jsx)(d.A,{className:e.loaderWrap,children:(0,z.jsx)(p.A,{})})})}):(null===I||void 0===I?void 0:I.length)>0?(0,z.jsx)(n.Fragment,{children:I.map(((e,t)=>{var n,l,a,o,d,r,s,c;(0,w.SK)(null===e||void 0===e||null===(n=e.entry)||void 0===n?void 0:n.reference_module);let u=null===e||void 0===e?void 0:e.debit,x=null===e||void 0===e?void 0:e.credit;null!==i&&void 0!==i&&i.currency&&(x=null===e||void 0===e?void 0:e.credit_cur,u=null===e||void 0===e?void 0:e.debit_cur);const h="debit"===(null===i||void 0===i?void 0:i.nature)?(parseFloat(u)-parseFloat(x)).toFixed(2):(parseFloat(x)-parseFloat(u)).toFixed(2);return m+=parseFloat(h),(0,z.jsxs)(B,{sx:{bgcolor:t%2!==0&&"#EEFBEE"},children:[(0,z.jsx)(W,{children:null!==e&&void 0!==e&&e.created_at?C()(null===e||void 0===e?void 0:e.created_at).format("MM-DD-YYYY"):"-"}),(0,z.jsx)(W,{children:null!==e&&void 0!==e&&e.journal_id?(null===e||void 0===e?void 0:e.series_id)+(null===e||void 0===e?void 0:e.journal_id):"-"}),(0,z.jsx)(W,{children:null!==(l=null===e||void 0===e||null===(a=e.entry)||void 0===a?void 0:a.reference_no)&&void 0!==l?l:"-"}),(0,z.jsx)(W,{children:null!==(o=null===e||void 0===e||null===(d=e.type)||void 0===d?void 0:d.type_name)&&void 0!==o?o:"-"}),(0,z.jsx)(W,{children:null!==(r=null===e||void 0===e?void 0:e.description)&&void 0!==r?r:"-"}),(0,z.jsx)(W,{children:null!==(s=null===e||void 0===e?void 0:e.comment)&&void 0!==s?s:"-"}),(0,z.jsx)(W,{children:null===e||void 0===e?void 0:e.debit}),(0,z.jsx)(W,{children:null===e||void 0===e?void 0:e.credit}),(0,z.jsx)(W,{children:null===(c=m)||void 0===c?void 0:c.toFixed(2)})]},t)}))}):(0,z.jsx)(B,{children:(0,z.jsx)(W,{colSpan:N.length+1,align:"center",sx:{fontWeight:600},children:"No Data Found"})})})]})}),(0,z.jsx)(f.A,{currentPage:Z,pageSize:J,onPageSizeChange:e=>ie(1,e.target.value),tableCount:null===I||void 0===I?void 0:I.length,totalCount:V,onPageChange:e=>ie(e,"")})]}):(0,z.jsx)(A.$,{})]})}}}]);
//# sourceMappingURL=6231.40bb5073.chunk.js.map