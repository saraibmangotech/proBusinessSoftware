{"version":3,"file":"static/js/2241.b7f5aca8.chunk.js","mappings":"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","sources":["pages/Dashboard/SubRoleManagement/UpdateRole.js","services/Role/routes.js","services/Role/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Box, Grid, InputAdornment, Typography } from \"@mui/material\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { PrimaryButton } from \"components/Buttons\";\r\nimport Colors from \"assets/Style/Colors\";\r\nimport { FontFamily } from \"assets\";\r\nimport { ErrorToaster, SuccessToaster } from \"components/Toaster\";\r\nimport InputField from \"components/Input\";\r\nimport RoleServices from \"services/Role\";\r\nimport { showErrorToast, showPromiseToast } from \"components/NewToaster\";\r\nimport SystemServices from \"services/System\";\r\nimport { useAuth } from \"context/UseContext\";\r\n\r\nfunction UpdateRole() {\r\n\r\n  const navigate = useNavigate();\r\n  const { state } = useLocation()\r\n  const { user, userLogout } = useAuth();\r\n  console.log(state);\r\n  const { register, handleSubmit, setValue, formState: { errors }, control } = useForm();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // *For Create Role\r\n  const UpdateRole = async (formData) => {\r\n    setLoading(true)\r\n    console.log(formData);\r\n    try {\r\n      let obj = {\r\n        name: user?.ref_id + \"-\" + formData?.roleName,\r\n        role_id: state?.id\r\n      }\r\n\r\n\r\n      console.log(obj);\r\n      const promise = SystemServices.UpdateRole(obj);\r\n\r\n      showPromiseToast(\r\n        promise,\r\n        'Saving ...',\r\n        'Success',\r\n        'Something Went Wrong'\r\n      );\r\n      const response = await promise;\r\n      if (response?.responseCode === 200) {\r\n        navigate('/sub-role-list')\r\n      }\r\n\r\n\r\n    } catch (error) {\r\n      showErrorToast(error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    let ref = user.ref_id + \"-\";\r\n    let regex = new RegExp(ref, \"g\"); // Create a dynamic regex\r\n   let newText = state.name.replace(regex, ''); // Replace occurrences\r\n    setValue('roleName', newText)\r\n\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <Box sx={{ p: 2, borderRadius: 3, }}>\r\n\r\n      <Box component=\"form\" onSubmit={handleSubmit(UpdateRole)} >\r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', gap: '10px', alignItems: 'flex-end' }}>\r\n          <Typography sx={{ fontSize: \"22px\", fontWeight: 'bold' }} >UPDATE SUB ROLE</Typography>\r\n          <Box sx={{ display: 'flex', gap: '10px' }}>\r\n            <PrimaryButton\r\n             bgcolor={'#bd9b4a'}\r\n              title=\"Update\"\r\n              type={'submit'}\r\n\r\n\r\n            />\r\n\r\n          </Box>\r\n        </Box>\r\n        <Grid container spacing={0} p={3} >\r\n\r\n          <Grid container spacing={1} item xs={12} sm={6}>\r\n\r\n            <InputField\r\n              label={\"Role Name :*\"}\r\n              size=\"small\"\r\n              placeholder=\"Role Name\"\r\n              error={errors?.roleName?.message}\r\n              register={register(\"roleName\", {\r\n                required: \"Please enter your role name.\"\r\n              })}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">{user?.ref_id}-</InputAdornment>\r\n                )\r\n              }}\r\n            />\r\n\r\n\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default UpdateRole;","const routes = {\r\n  createRole: 'roles/add',\r\n  getRoles: 'roles',\r\n  updateRole: 'roles/update',\r\n  deleteRole: 'roles/delete',\r\n  getRolesPermissions: 'permissions',\r\n  updateRolesPermissions: 'permissions/update',\r\n  getSubRolesPermissions:'permissions/subUser'\r\n};\r\n\r\nexport default routes","import { post, get, patch, deleted } from 'services';\r\nimport routes from './routes';\r\n\r\nconst RoleServices = {\r\n  createRole: async (obj) => {\r\n    const data = await post(routes.createRole, obj);\r\n    return data;\r\n  },\r\n  getRoles: async (params) => {\r\n    const data = await get(routes.getRoles, params);\r\n    return data;\r\n  },\r\n  updateRole: async (obj) => {\r\n    const data = await patch(routes.updateRole, obj);\r\n    return data;\r\n  },\r\n  deleteRole: async (params) => {\r\n    const data = await deleted(routes.deleteRole, params);\r\n    return data;\r\n  },\r\n  getRolesPermissions: async (params) => {\r\n    const data = await get(routes.getRolesPermissions, params);\r\n    return data;\r\n  },\r\n  getSubRolesPermissions: async (params) => {\r\n    const data = await get(routes.getSubRolesPermissions, params);\r\n    return data;\r\n  },\r\n  updateRolesPermissions: async (obj) => {\r\n    const data = await post(routes.updateRolesPermissions, obj);\r\n    return data;\r\n  },\r\n}\r\n\r\nexport default RoleServices"],"names":["_errors$roleName","navigate","useNavigate","state","useLocation","user","userLogout","useAuth","console","log","register","handleSubmit","setValue","formState","errors","control","useForm","loading","setLoading","useState","useEffect","ref","ref_id","regex","RegExp","newText","name","replace","_jsx","Box","sx","p","borderRadius","children","_jsxs","component","onSubmit","async","formData","obj","roleName","role_id","id","promise","SystemServices","UpdateRole","showPromiseToast","response","responseCode","error","showErrorToast","display","justifyContent","gap","alignItems","Typography","fontSize","fontWeight","PrimaryButton","bgcolor","title","type","Grid","container","spacing","item","xs","sm","InputField","label","size","placeholder","message","required","InputProps","startAdornment","InputAdornment","position","createRole","getRoles","updateRole","deleteRole","getRolesPermissions","updateRolesPermissions","getSubRolesPermissions","post","routes","get","params","patch","deleted"],"sourceRoot":""}