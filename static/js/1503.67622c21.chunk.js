"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[1503],{81503:(e,t,n)=>{n.r(t),n.d(t,{default:()=>H});var i=n(65043),l=n(28076),o=n(39652),s=n(77502),a=n(96446),r=n(77739),d=n(85865),c=n(68903),u=n(51787),x=n(90035),h=n(17392),v=n(79650),m=n(63336),p=n(71806),g=n(84882),y=n(73460),A=n(81637),j=n(45903),f=n(54620),b=n(77020),S=n(23602),w=n(44563),C=n(83992),D=n(91395),Y=n(20566),_=n(24858),F=n(22030),N=n(91284),M=n(86178),z=n.n(M),E=n(2010),W=n(93445),k=n(66734),G=n(70579);const I=(0,k.A)((0,G.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");var P=n(28924),R=n(37230),L=n(73216),B=(n(11238),n(72450),n(86005));const J=(0,j.A)(l.A)((e=>{let{theme:t}=e;return{border:0}})),T=(0,j.A)(o.A)((e=>{let{theme:t}=e;return{[`&.${s.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${s.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:f.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}})),$=(0,C.A)({loaderWrap:{display:"flex",height:100,"& svg":{width:"40px !important",height:"40px !important"}}});const H=function(){const e=$(),{state:t}=(0,L.zy)();console.log(t,"state");const n=(0,i.useRef)(),{register:s,handleSubmit:j,getValues:C,setValue:M}=(0,_.mN)(),k=["JV#","Date","Particular#","Type","COA Code","COA Name","Debit (AED)","Credit (AED)","Description","Comments"],[H,V]=(0,i.useState)([...Array(null===k||void 0===k?void 0:k.length).keys()]),[O,K]=(0,i.useState)(!1),[X,Z]=((0,L.Zp)(),(0,i.useState)()),[q,Q]=(0,i.useState)(0),[U,ee]=(0,i.useState)(50),[te,ne]=(0,i.useState)(1),[ie,le]=(0,i.useState)(!1),[oe,se]=(0,i.useState)([]),[ae,re]=(0,i.useState)(null),[de,ce]=(0,i.useState)([]),[ue,xe]=(0,i.useState)(null),[he,ve]=(0,i.useState)([]),[me,pe]=(0,i.useState)(null),[ge,ye]=(0,i.useState)({}),[Ae,je]=(0,i.useState)(),[fe,be]=(0,i.useState)(),Se=async e=>{try{let n={category_id:null!==e&&void 0!==e?e:""};const{data:i}=await E.A.getSubCategories(n);var t;if(ce(null===i||void 0===i?void 0:i.categories),e)we("",e,null===i||void 0===i||null===(t=i.categories[0])||void 0===t?void 0:t.id)}catch(n){(0,w.LY)(n)}},we=async(e,t,n)=>{try{var i;let l={page:1,limit:50,name:e,category:null!==t&&void 0!==t?t:null===ae||void 0===ae?void 0:ae.id,sub_category:null!==n&&void 0!==n?n:null===ue||void 0===ue?void 0:ue.id};const{data:o}=await E.A.getAccountsDropDown(l);ve(null===o||void 0===o||null===(i=o.accounts)||void 0===i?void 0:i.rows)}catch(l){(0,w.LY)(l)}},Ce=async(e,t,n)=>{try{var i,l;const o=e||te,s=t||U,a={...ge,...n};ne(o),ee(s),ye(a);let r={page:o,limit:s};r={...r,...a};const{data:d}=await E.A.getGeneralJournalLedgers(r);Z(null===d||void 0===d||null===(i=d.statement)||void 0===i?void 0:i.rows),Q(null===d||void 0===d||null===(l=d.statement)||void 0===l?void 0:l.count)}catch(o){(0,w.LY)(o)}},De=e=>{(0,F.S$)((()=>Ce(1,"",e)))},Ye=(e,t,n)=>{var i,l,o,s,d,c,u,x,h,v,m,p,g,y,A,j,f,b,S,w,C,D;(0,F.SK)(null===t||void 0===t||null===(i=t.entry)||void 0===i?void 0:i.reference_module);switch(e){case 0:return null!==t&&void 0!==t&&t.journal_id?(null===t||void 0===t?void 0:t.series_id)+(null===t||void 0===t?void 0:t.journal_id):"-";case 1:return null!==(l=z()(null===t||void 0===t?void 0:t.created_at).format("MM-DD-YYYY"))&&void 0!==l?l:"-";case 2:return(0,G.jsxs)(a.A,{children:[(0,G.jsx)(r.A,{className:"pdf-hide",title:null===(o=t.entry)||void 0===o?void 0:o.reference_no,arrow:!0,placement:"top",slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[10,-2]}}]}},children:(null===(s=t.entry)||void 0===s||null===(d=s.reference_no)||void 0===d?void 0:d.length)>24?(null===(c=t.entry)||void 0===c||null===(u=c.reference_no)||void 0===u?void 0:u.slice(0,8))+"...":null===(x=t.entry)||void 0===x?void 0:x.reference_no}),(0,G.jsx)(a.A,{component:"div",sx:{display:"none !important"},className:"pdf-show",children:null===(h=t.entry)||void 0===h?void 0:h.reference_no})]});case 3:return null!==(v=null===t||void 0===t||null===(m=t.type)||void 0===m?void 0:m.type_name)&&void 0!==v?v:"-";case 4:return null!==(p=null===t||void 0===t||null===(g=t.account)||void 0===g?void 0:g.account_code)&&void 0!==p?p:"-";case 5:return null!==(y=null===t||void 0===t||null===(A=t.account)||void 0===A?void 0:A.name)&&void 0!==y?y:"-";case 6:return null!==(j=parseFloat(null===t||void 0===t?void 0:t.debit).toFixed(2))&&void 0!==j?j:"0.00";case 7:return null!==(f=parseFloat(null===t||void 0===t?void 0:t.credit).toFixed(2))&&void 0!==f?f:"0.00";case 8:return null!==(b=null===t||void 0===t?void 0:t.description)&&void 0!==b?b:"-";case 9:return(0,G.jsxs)(a.A,{children:[(0,G.jsx)(r.A,{className:"pdf-hide",title:null!==(S=null===t||void 0===t?void 0:t.comment)&&void 0!==S?S:"-",arrow:!0,placement:"top",slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[10,-2]}}]}},children:(null===t||void 0===t||null===(w=t.comment)||void 0===w?void 0:w.length)>24?null===t||void 0===t||null===(C=t.comment)||void 0===C?void 0:C.slice(0,18):null===t||void 0===t?void 0:t.comment}),(0,G.jsx)(a.A,{component:"div",className:"pdf-show",sx:{display:"none !important"},children:null!==(D=null===t||void 0===t?void 0:t.comment)&&void 0!==D?D:"-"})]});default:return"-"}};return(0,i.useEffect)((()=>{Ce(),we(),(async()=>{try{const{data:e}=await E.A.getMajorCategories();se(null===e||void 0===e?void 0:e.categories)}catch(e){(0,w.LY)(e)}})(),Se(),t&&(M("search",t),De({search:t}))}),[]),(0,G.jsxs)(a.A,{sx:{m:4,mb:2},children:[(0,G.jsx)(a.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mr:4,my:4},children:(0,G.jsx)(d.A,{variant:"h5",sx:{color:b.A.charcoalGrey,fontFamily:f.ay.NunitoRegular},children:"General Journal Entries"})}),(0,G.jsxs)(c.Ay,{container:!0,spacing:1,alignItems:"center",justifyContent:"space-between",children:[(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:3,children:(0,G.jsx)(Y.A,{size:"small",inputStyle:{backgroundColor:"#f5f5f5"},label:"Search",InputProps:{startAdornment:(0,G.jsx)(u.A,{position:"start",children:(0,G.jsx)(f.WI,{})})},placeholder:"Search",register:s("search",{onChange:e=>De({search:e.target.value})})})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:3,sx:{textAlign:"right"},children:(0,G.jsx)(N.jn,{title:"Filters",startIcon:(0,G.jsx)(I,{}),buttonStyle:{minWidth:"120px"},onClick:()=>le(!0)})})]}),(0,G.jsxs)(x.A,{open:ie,sx:{"& .MuiDialog-paper":{width:"35%",height:"auto",borderRadius:2,py:2,px:3}},children:[(0,G.jsx)(h.A,{onClick:()=>le(!1),sx:{position:"absolute",right:13,top:13},children:(0,G.jsx)(P.A,{})}),(0,G.jsx)(d.A,{variant:"h5",sx:{color:b.A.charcoalGrey,fontFamily:f.ay.NunitoRegular,mt:1,mb:2.5},children:"Filters"}),(0,G.jsx)(a.A,{component:"form",onSubmit:j((()=>{let e={accounts:null===me||void 0===me?void 0:me.id,categories:null===ae||void 0===ae?void 0:ae.id,sub_categories:null===ue||void 0===ue?void 0:ue.id,from_date:Ae?z()(Ae).format("MM-DD-YYYY"):"",to_date:fe?z()(fe).format("MM-DD-YYYY"):""};Ce(1,"",e),le(!1)})),children:(0,G.jsxs)(c.Ay,{container:!0,spacing:.5,alignItems:"center",children:[(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:3,children:(0,G.jsx)(d.A,{variant:"body1",children:"Category:"})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:9,children:(0,G.jsx)(R.A,{size:"small",options:oe,selected:ae,onSelect:e=>{re(e),Se(null===e||void 0===e?void 0:e.id),xe(de[0])},register:s("category")})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:3,children:(0,G.jsx)(d.A,{variant:"body1",children:"Sub Category:"})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:9,children:(0,G.jsx)(R.A,{size:"small",options:de,selected:ue,onSelect:e=>{xe(e),we("",void 0,null===e||void 0===e?void 0:e.id)},register:s("subCategory")})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:3,children:(0,G.jsx)(d.A,{variant:"body1",children:"Account:"})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:9,children:(0,G.jsx)(R.A,{size:"small",onSearch:e=>we(e),options:he,selected:me,onSelect:e=>pe(e)})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:3,children:(0,G.jsx)(d.A,{variant:"body1",children:"From Date:"})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:9,children:(0,G.jsx)(W.A,{disableFuture:!0,size:"small",value:Ae,onChange:e=>(e=>{try{if("Invalid Date"==e)return void je("invalid");je(new Date(e))}catch(t){(0,w.LY)(t)}})(e)})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:3,children:(0,G.jsx)(d.A,{variant:"body1",children:"To Date:"})}),(0,G.jsx)(c.Ay,{item:!0,xs:12,sm:9,children:(0,G.jsx)(W.A,{disableFuture:!0,size:"small",minDate:Ae,value:fe,onChange:e=>(e=>{try{if("Invalid Date"==e)return void be("invalid");be(new Date(e))}catch(t){(0,w.LY)(t)}})(e)})}),(0,G.jsxs)(c.Ay,{item:!0,xs:12,sm:12,sx:{mt:2,textAlign:"right"},children:[(0,G.jsx)(N.jn,{title:"Apply",type:"submit",buttonStyle:{minWidth:"120px"}}),(0,G.jsx)(a.A,{component:"span",sx:{mx:1}}),(0,G.jsx)(N.jn,{title:"Reset",type:"button",buttonStyle:{minWidth:"120px",bgcolor:b.A.cloudyGrey,"&:hover":{bgcolor:b.A.cloudyGrey}},onClick:()=>(pe(null),re(null),xe(null),je(null),be(null),Ce(1,"",{accounts:"",categories:"",sub_categories:"",form_date:"",to_date:""}),void le(!1))})]})]})})]}),(0,G.jsx)(c.Ay,{item:!0,md:11,children:X&&(0,G.jsxs)(a.A,{children:[X&&(0,G.jsxs)(i.Fragment,{children:[(0,G.jsxs)(B.X,{ref:n,landscape:!0,paperSize:"A4",margin:5,fileName:"General Journal Entries",children:[(0,G.jsx)(a.A,{className:"pdf-show",sx:{display:"none"},children:(0,G.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,G.jsx)(d.A,{variant:"h5",sx:{color:b.A.charcoalGrey,fontFamily:f.ay.NunitoRegular,mb:2},children:"General Journal Entries"}),(0,G.jsxs)(a.A,{sx:{fontWeight:400,fontSize:"12px",mt:1.5,color:b.A.charcoalGrey},children:[(0,G.jsx)("span",{children:"Date: \xa0\xa0"}),z()().format("MM-DD-YYYY")]})]})}),(0,G.jsx)(v.A,{component:m.A,sx:{boxShadow:"0px 8px 18px 0px #9B9B9B1A",borderRadius:2,maxHeight:"calc(100vh - 330px)"},className:"table-box",children:(0,G.jsxs)(p.A,{stickyHeader:!0,sx:{minWidth:500},children:[(0,G.jsx)(g.A,{children:(0,G.jsx)(l.A,{children:H.map((e=>(0,G.jsx)(T,{className:"pdf-table",children:k[e]},e)))})}),(0,G.jsx)(y.A,{children:O?(0,G.jsx)(l.A,{children:(0,G.jsx)(o.A,{colSpan:(null===H||void 0===H?void 0:H.length)+2,align:"center",sx:{fontWeight:600},children:(0,G.jsx)(a.A,{className:e.loaderWrap,children:(0,G.jsx)(A.A,{})})})}):(null===X||void 0===X?void 0:X.length)>0?(0,G.jsx)(i.Fragment,{children:null===X||void 0===X?void 0:X.map(((e,t)=>(0,G.jsx)(J,{sx:{bgcolor:t%2!==0&&"#EFF8E7"},children:H.map((t=>(0,G.jsx)(T,{className:"pdf-table",children:Ye(t,e)},t)))},t)))}):(0,G.jsx)(J,{children:(0,G.jsx)(T,{colSpan:k.length+1,align:"center",sx:{fontWeight:600},children:"No Data Found"})})})]})})]}),(0,G.jsx)(D.A,{currentPage:te,pageSize:U,onPageSizeChange:e=>Ce(1,e.target.value),tableCount:null===X||void 0===X?void 0:X.length,totalCount:q,onPageChange:e=>Ce(e,"")})]}),O&&(0,G.jsx)(S.$,{})]})})]})}}}]);
//# sourceMappingURL=1503.67622c21.chunk.js.map