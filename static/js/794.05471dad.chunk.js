"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[794],{794:(e,t,o)=>{o.r(t),o.d(t,{default:()=>M});var i=o(65043),s=o(28076),a=o(39652),r=o(77502),n=o(96446),l=o(68903),c=o(85865),d=o(54620),u=o(45903),p=o(73216),g=o(77020),x=(o(23602),o(44563)),m=(o(36838),o(42165),o(66535),o(85900)),h=o(83992),y=(o(91395),o(22030)),v=(o(20566),o(24858)),S=o(79456),f=o(4841),A=o(29542),b=o(91284),j=o(37230),C=(o(72450),o(86178)),w=o.n(C),Y=(o(99543),o(95692)),_=(o(14398),o(3584)),k=o(51593),E=o(70579);(0,u.A)(s.A)((e=>{let{theme:t}=e;return{border:0}})),(0,u.A)(a.A)((e=>{let{theme:t}=e;return{[`&.${r.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${r.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:d.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}}));const F=(0,h.A)({loaderWrap:{display:"flex",height:100,"& svg":{width:"40px !important",height:"40px !important"}}});const M=function(){var e;const t=(0,p.Zp)(),o=(F(),(0,S.wA)()),[s,a]=((0,i.useRef)(null),(0,i.useState)(null)),[r,u]=(0,i.useState)(!1),[h,C]=(0,i.useState)(null),[M,D]=(0,i.useState)(!1),{register:N,handleSubmit:T,formState:{errors:W},setValue:I,getValues:z,reset:R}=(0,v.mN)(),[B,K]=(0,i.useState)(!1),[$,J]=(0,i.useState)(!1),[L,P]=(0,i.useState)([]),[U,V]=(0,i.useState)([]),[q,Z]=(0,i.useState)(0),[G,H]=(0,i.useState)(50),[O,Q]=(0,i.useState)(1),[X,ee]=(0,i.useState)({}),[te,oe]=(0,i.useState)(),[ie,se]=(0,i.useState)(!1),[ae,re]=(0,i.useState)("desc"),ne=async(e,t,i)=>{K(!0);try{const s=e||O,a=t||G,r=i?{...X,...i}:null;Q(s),H(a),ee(r);let n={page:1,limit:1e3};n={...n,...r};const{data:l}=await m.A.getCategoryList(n);V(null===l||void 0===l?void 0:l.categories),oe((0,y.TJ)(null===l||void 0===l?void 0:l.permissions)),console.log((0,y.TJ)(null===l||void 0===l?void 0:l.permissions)),oe((0,y.TJ)(null===l||void 0===l?void 0:l.permissions)),null===l||void 0===l||l.permissions.forEach((e=>{null!==e&&void 0!==e&&e.route&&null!==e&&void 0!==e&&e.identifier&&null!==e&&void 0!==e&&e.permitted&&o((0,f.Ft)(null===e||void 0===e?void 0:e.route))}))}catch(s){(0,Y.Ni)(s)}finally{K(!1)}},le=[{header:"SR No.",accessorKey:"id"},{header:"Customer",accessorKey:"name"},{header:"Arabic Name",accessorKey:"name_ar"},{header:"Cost Center",accessorKey:"cost_center"},{id:"created_at",header:"Registration Date",accessorFn:e=>w()(e.created_at).format("MM-DD-YYYY"),cell:e=>{let{row:t}=e;return(0,E.jsx)(n.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:w()(t.original.created_at).format("MM-DD-YYYY")})}},{header:"Actions",cell:e=>{let{row:o}=e;return(0,E.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,E.jsx)(n.A,{component:"img",sx:{cursor:"pointer"},onClick:()=>{var e;t(`/service-category-detail/${null===o||void 0===o||null===(e=o.original)||void 0===e?void 0:e.id}`),localStorage.setItem("currentUrl","/customer-detail")},src:d.To.detailIcon,width:"35px"}),(0,E.jsx)(n.A,{component:"img",sx:{cursor:"pointer"},onClick:()=>{var e;t(`/update-service-category/${null===o||void 0===o||null===(e=o.original)||void 0===e?void 0:e.id}`),localStorage.setItem("currentUrl","/update-customer")},src:d.To.editIcon,width:"35px"})]})}}];return(0,i.useEffect)((()=>{ne()}),[]),(0,E.jsxs)(n.A,{sx:{p:3},children:[(0,E.jsx)(k.A,{open:$,onClose:()=>J(!1),message:"Are You Sure?",action:()=>{J(!1),(async()=>{try{let e={customer_id:null===h||void 0===h?void 0:h.id};const{message:t}=await m.A.DeleteCategory(e);(0,x.ee)(t),ne()}catch(e){(0,Y.Ni)(e)}})()}}),(0,E.jsx)(A.A,{open:r,onClose:()=>u(!1),title:"Change Status?",children:(0,E.jsx)(n.A,{component:"form",onSubmit:T((async()=>{try{let e={customer_id:null===h||void 0===h?void 0:h.id,is_active:null===s||void 0===s?void 0:s.id};const t=m.A.CustomerStatus(e);console.log(t),(0,Y.y8)(t,"Saving...","Added Successfully","Something Went Wrong");const o=await t;200===(null===o||void 0===o?void 0:o.responseCode)&&(u(!1),a(null),ne())}catch(e){console.log(e)}})),children:(0,E.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,E.jsx)(l.Ay,{item:!0,xs:12,sm:12,children:(0,E.jsx)(j.A,{size:"small",label:"Select Status :",options:[{id:!1,name:"Disabled"},{id:!0,name:"Enabled"}],selected:s,onSelect:e=>{a(e)},error:null===W||void 0===W||null===(e=W.status)||void 0===e?void 0:e.message,register:N("status",{required:"Please select status."})})}),(0,E.jsx)(l.Ay,{container:!0,sx:{justifyContent:"center"},children:(0,E.jsxs)(l.Ay,{item:!0,xs:6,sm:6,sx:{mt:2,display:"flex",justifyContent:"space-between",gap:"25px"},children:[(0,E.jsx)(b.jn,{bgcolor:g.A.primary,title:"Yes,Confirm",type:"submit"}),(0,E.jsx)(b.jn,{onClick:()=>u(!1),bgcolor:"#FF1F25",title:"No,Cancel"})]})})]})})}),(0,E.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,E.jsx)(c.A,{sx:{fontSize:"24px",fontWeight:"bold"},children:"Service Category List"}),(0,E.jsx)(b.jn,{bgcolor:"#bd9b4a",title:"Create",onClick:()=>{t("/create-service-category"),localStorage.setItem("currentUrl","/create-customer")},loading:ie})]}),(0,E.jsx)(n.A,{children:(0,E.jsx)(_.A,{loading:B,data:U,columns:le})})]})}}}]);
//# sourceMappingURL=794.05471dad.chunk.js.map