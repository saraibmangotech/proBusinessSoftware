"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[3682],{73682:(e,n,o)=>{o.r(n),o.d(n,{default:()=>U});var l=o(65043),t=o(28076),i=o(39652),s=o(77502),a=o(96446),d=o(68903),r=o(85865),c=o(79650),u=o(63336),p=o(71806),x=o(84882),m=o(73460),h=o(77739),v=o(17392),g=o(81637),j=o(54620),A=o(45903),y=o(73216),f=o(77020),S=o(23602),b=(o(44563),o(36838),o(42165),o(66535),o(85900)),C=o(83992),w=o(91395),N=o(22030),k=(o(20566),o(24858)),F=o(79456),W=o(4841),E=o(29542),P=o(91284),z=o(37230),V=(o(72450),o(86005)),Y=o(86178),B=o.n(Y),_=(o(54667),o(99543)),D=o(95692),J=(o(93445),o(87383),o(2010)),M=o(51593),T=o(70579);const R=(0,A.A)(t.A)((e=>{let{theme:n}=e;return{border:0}})),$=(0,A.A)(i.A)((e=>{let{theme:n}=e;return{[`&.${s.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${s.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:j.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}})),I=(0,C.A)({loaderWrap:{display:"flex",height:100,"& svg":{width:"40px !important",height:"40px !important"}}});const U=function(){var e,n;const{register:o,handleSubmit:i,getValues:s,setValue:A,formState:{errors:C}}=(0,k.mN)(),{register:Y,handleSubmit:U,setValue:q,getValues:G,formState:{errors:H}}=(0,k.mN)(),L=(0,y.Zp)(),O=I(),X=(0,F.wA)(),Z=(0,l.useRef)(null),[K,Q]=(0,l.useState)(!1),[ee,ne]=(0,l.useState)(!1),[oe,le]=(0,l.useState)(null),[te,ie]=(0,l.useState)(null),[se,ae]=(0,l.useState)(),[de,re]=(0,l.useState)(!1),ce=[{name:"Date",key:""},{name:"JV#",key:"name"},{name:"Entry No",key:"created_at"},{name:"Amount",key:"commission_visa"},{name:"Note",key:"commission_monthly"},{name:"User",key:""},{name:"Actions",key:""}],[ue,pe]=(0,l.useState)(!1),[xe,me]=(0,l.useState)("asc"),[he,ve]=(0,l.useState)([]),[ge,je]=(0,l.useState)(0),[Ae,ye]=(0,l.useState)(50),[fe,Se]=(0,l.useState)(1),[be,Ce]=(0,l.useState)(),[we,Ne]=(0,l.useState)({}),[ke,Fe]=(0,l.useState)(),[We,Ee]=(0,l.useState)(!1),Pe=async(e,n,o)=>{try{var l,t;const i=e||fe,s=n||Ae,a={...we,...o};Se(i),ye(s),Ne(a);let d={page:i,limit:s};d={...d,...a};const{data:r}=await J.A.getJournalVouchers(d);ve(null===r||void 0===r||null===(l=r.vouchers)||void 0===l?void 0:l.rows),je(null===r||void 0===r||null===(t=r.vouchers)||void 0===t?void 0:t.count),Fe((0,N.TJ)(null===r||void 0===r?void 0:r.permissions)),console.log((0,N.TJ)(null===r||void 0===r?void 0:r.permissions)),Fe((0,N.TJ)(null===r||void 0===r?void 0:r.permissions)),null===r||void 0===r||r.permissions.forEach((e=>{null!==e&&void 0!==e&&e.route&&null!==e&&void 0!==e&&e.identifier&&null!==e&&void 0!==e&&e.permitted&&X((0,W.Ft)(null===e||void 0===e?void 0:e.route))}))}catch(i){(0,D.Ni)(i)}};return(0,l.useEffect)((()=>{Pe()}),[]),(0,T.jsxs)(a.A,{sx:{p:3},children:[(0,T.jsx)(M.A,{open:de,onClose:()=>re(!1),message:"Are you sure?",action:()=>{re(!1),(async()=>{try{let e={id:null===se||void 0===se?void 0:se.id};const n=b.A.DeleteVoucher(e);console.log(n),(0,D.y8)(n,"Saving...","Added Successfully","Something Went Wrong");const o=await n;200===(null===o||void 0===o?void 0:o.responseCode)&&(re(!1),Pe())}catch(e){console.log(e)}})()}}),(0,T.jsx)(E.A,{open:K,onClose:()=>Q(!1),title:"Change Status?",children:(0,T.jsx)(a.A,{component:"form",onSubmit:i((async()=>{try{let e={id:null===se||void 0===se?void 0:se.id,status:oe.id};const n=b.A.UpdateAddOnservice(e);console.log(n),(0,D.y8)(n,"Saving...","Added Successfully","Something Went Wrong");const o=await n;200===(null===o||void 0===o?void 0:o.responseCode)&&(Q(!1),Pe())}catch(e){console.log(e)}})),children:(0,T.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,T.jsx)(d.Ay,{item:!0,xs:12,sm:12,children:(0,T.jsx)(z.A,{size:"small",label:"Select Status :",options:[{id:"pending",name:"Pending"},{id:"inprogress",name:"InProgress"},{id:"completed",name:"Completed"}],selected:oe,onSelect:e=>{le(e)},error:null===C||void 0===C||null===(e=C.status)||void 0===e?void 0:e.message,register:o("status",{required:"Please select status."})})}),(0,T.jsx)(d.Ay,{container:!0,sx:{justifyContent:"center"},children:(0,T.jsxs)(d.Ay,{item:!0,xs:6,sm:6,sx:{mt:2,display:"flex",justifyContent:"space-between",gap:"25px"},children:[(0,T.jsx)(P.jn,{bgcolor:f.A.primary,title:"Yes,Confirm",type:"submit"}),(0,T.jsx)(P.jn,{onClick:()=>Q(!1),bgcolor:"#FF1F25",title:"No,Cancel"})]})})]})})}),(0,T.jsx)(E.A,{open:ee,onClose:()=>ne(!1),title:"Change Payment Status?",children:(0,T.jsx)(a.A,{component:"form",onSubmit:U((async e=>{try{let e={id:null===se||void 0===se?void 0:se.id,payment_status:null===te||void 0===te?void 0:te.id};const n=b.A.UpdateAddOnservice(e);console.log(n),(0,D.y8)(n,"Saving...","Added Successfully","Something Went Wrong");const o=await n;200===(null===o||void 0===o?void 0:o.responseCode)&&(ne(!1),Pe())}catch(n){console.log(n)}})),children:(0,T.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,T.jsx)(d.Ay,{item:!0,xs:12,sm:12,children:(0,T.jsx)(z.A,{size:"small",label:"Select Status :",options:[{id:"paid",name:"Paid"},{id:"unpaid",name:"Unpaid"}],selected:te,onSelect:e=>{ie(e)},error:null===C||void 0===C||null===(n=C.status)||void 0===n?void 0:n.message,register:o("status",{required:"Please select status."})})}),(0,T.jsx)(d.Ay,{container:!0,sx:{justifyContent:"center"},children:(0,T.jsxs)(d.Ay,{item:!0,xs:6,sm:6,sx:{mt:2,display:"flex",justifyContent:"space-between",gap:"25px"},children:[(0,T.jsx)(P.jn,{bgcolor:f.A.primary,title:"Yes,Confirm",type:"submit"}),(0,T.jsx)(P.jn,{onClick:()=>Q(!1),bgcolor:"#FF1F25",title:"No,Cancel"})]})})]})})}),(0,T.jsx)(a.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:(0,T.jsx)(r.A,{sx:{fontSize:"24px",fontWeight:"bold"},children:"Journal Vouchers"})}),(0,T.jsxs)(a.A,{children:[(0,T.jsxs)(d.Ay,{container:!0,spacing:2,mb:4,children:[(0,T.jsx)(d.Ay,{item:!0,xs:6,children:(0,T.jsx)(_.A,{type:"text",bgcolor:"#FAFAFA",color:f.A.primary,border:"3px solid #FAFAFA",StartLabel:"Search",placeholder:"Search",register:o("search")})}),(0,T.jsxs)(d.Ay,{item:!0,xs:6,display:"flex",justifyContent:"flex-end",gap:2,children:[(0,T.jsx)(P.jn,{bgcolor:f.A.white,textcolor:f.A.primary,title:"Reset",onClick:()=>{Pe(),A("search","")},loading:We}),(0,T.jsx)(P.jn,{bgcolor:"#bd9b4a",title:"Search",onClick:()=>(()=>{let e={search:s("search")};(0,N.S$)((()=>Pe(1,"",e)))})(),loading:We})]})]}),(0,T.jsx)(d.Ay,{item:!0,md:11,children:he?(0,T.jsxs)(l.Fragment,{children:[(0,T.jsxs)(V.X,{ref:Z,landscape:!0,paperSize:"A4",margin:5,fileName:"Journal Vouchers",children:[(0,T.jsx)(a.A,{className:"pdf-show",sx:{display:"none"},children:(0,T.jsxs)(a.A,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,T.jsx)(r.A,{variant:"h5",sx:{color:f.A.charcoalGrey,fontFamily:j.ay.NunitoRegular,mb:2},children:"Booked Container"}),(0,T.jsxs)(a.A,{sx:{fontWeight:400,fontSize:"12px",mt:1.5,color:f.A.charcoalGrey},children:[(0,T.jsx)("span",{children:"Date: \xa0\xa0"}),B()().format("MM-DD-YYYY")]})]})}),(0,T.jsx)(c.A,{component:u.A,sx:{boxShadow:"0px 8px 18px 0px #9B9B9B1A",borderRadius:2,maxHeight:"calc(100vh - 190px)"},className:"table-box",children:(0,T.jsxs)(p.A,{stickyHeader:!0,sx:{minWidth:500},children:[(0,T.jsx)(x.A,{children:(0,T.jsx)(t.A,{children:ce.map(((e,n)=>(0,T.jsx)($,{className:"pdf-table",children:null===e||void 0===e?void 0:e.name},n)))})}),(0,T.jsx)(m.A,{children:ue?(0,T.jsx)(R,{children:(0,T.jsx)($,{colSpan:ce.length+2,align:"center",sx:{fontWeight:600},children:(0,T.jsx)(a.A,{className:O.loaderWrap,children:(0,T.jsx)(g.A,{})})})}):(null===he||void 0===he?void 0:he.length)>0?(0,T.jsx)(l.Fragment,{children:he.map(((e,n)=>{var o,l,t,i,s,d,r,c,u,p,x,m,g,A,y,S;return(0,T.jsxs)(R,{sx:{bgcolor:n%2!==0&&"#EEFBEE"},children:[(0,T.jsx)($,{className:"pdf-table",children:B()(null===e||void 0===e?void 0:e.created_at).format("MM-DD-YYYY")}),(0,T.jsxs)($,{className:"pdf-table",children:["JV-",null!==(o=null===e||void 0===e?void 0:e.id)&&void 0!==o?o:"-"]}),(0,T.jsx)($,{className:"pdf-table",children:null!==(l=null===e||void 0===e?void 0:e.entry_no)&&void 0!==l?l:"-"}),(0,T.jsx)($,{className:"pdf-table",children:null!==(t=null===e||void 0===e?void 0:e.total_amount)&&void 0!==t?t:"-"}),(0,T.jsxs)($,{className:"pdf-table",children:[(0,T.jsx)(h.A,{className:"pdf-hide",title:null!==(i=null===e||void 0===e?void 0:e.notes)&&void 0!==i?i:"-",arrow:!0,placement:"top",slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[10,-2]}}]}},children:(null===e||void 0===e||null===(s=e.notes)||void 0===s?void 0:s.length)>12?(null===e||void 0===e||null===(d=e.notes)||void 0===d?void 0:d.slice(0,8))+"...":null===e||void 0===e?void 0:e.notes}),(0,T.jsx)(a.A,{component:"div",className:"pdf-show",sx:{display:"none !important"},children:null!==(r=null===e||void 0===e?void 0:e.notes)&&void 0!==r?r:"-"})]}),(0,T.jsx)($,{className:"pdf-table",children:(0,T.jsxs)(h.A,{className:"pdf-hide",title:null!==(c=null===e||void 0===e||null===(u=e.creator)||void 0===u?void 0:u.name)&&void 0!==c?c:"-",arrow:!0,placement:"top",slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[10,-2]}}]}},children:[(null===e||void 0===e||null===(p=e.creator)||void 0===p||null===(x=p.name)||void 0===x?void 0:x.length)>12?(null===e||void 0===e||null===(m=e.creator)||void 0===m||null===(g=m.name)||void 0===g?void 0:g.slice(0,8))+"...":null===e||void 0===e||null===(A=e.creator)||void 0===A?void 0:A.name,(0,T.jsx)(a.A,{component:"div",className:"pdf-show",sx:{display:"none !important"},children:null!==(y=null===e||void 0===e||null===(S=e.creator)||void 0===S?void 0:S.name)&&void 0!==y?y:"-"})]})}),(0,T.jsx)($,{children:(null===ke||void 0===ke?void 0:ke.details)&&(0,T.jsxs)(a.A,{component:"div",className:"pdf-hide",sx:{display:"flex",gap:"20px",justifyContent:"space-between"},children:[(0,T.jsx)(a.A,{onClick:()=>L(`/journal-voucher-detail/${null===e||void 0===e?void 0:e.id}`),children:(0,T.jsx)(v.A,{sx:{bgcolor:f.A.primary,"&:hover":{bgcolor:f.A.primary}},children:(0,T.jsx)(a.A,{component:"img",src:j.To.detailIcon,onClick:()=>L(`/journal-voucher-detail/${null===e||void 0===e?void 0:e.id}`),width:"35px"})})}),(0,T.jsx)(a.A,{children:(0,T.jsx)(v.A,{sx:{bgcolor:f.A.primary,"&:hover":{bgcolor:f.A.primary}},children:(0,T.jsx)(a.A,{component:"img",src:j.To.deleteIcon,onClick:()=>{re(!0),ae(e)},width:"35px"})})})]})})]},n)}))}):(0,T.jsx)(R,{children:(0,T.jsx)($,{colSpan:ce.length+1,align:"center",sx:{fontWeight:600},children:"No Data Found"})})})]})})]}),(0,T.jsx)(w.A,{currentPage:fe,pageSize:Ae,onPageSizeChange:e=>Pe(1,e.target.value),tableCount:null===he||void 0===he?void 0:he.length,totalCount:ge,onPageChange:e=>Pe(e,"")})]}):(0,T.jsx)(S.$,{})})]})]})}}}]);
//# sourceMappingURL=3682.5cacbe7e.chunk.js.map