"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[4210],{84210:(e,t,o)=>{o.r(t),o.d(t,{default:()=>E});var i=o(65043),n=o(28076),s=o(39652),a=o(77502),r=o(96446),l=o(68903),c=o(85865),d=o(54620),u=o(45903),p=o(73216),x=o(77020),m=(o(23602),o(44563)),g=(o(36838),o(42165),o(66535),o(85900)),h=o(83992),y=(o(91395),o(22030),o(20566),o(24858)),A=o(79456),S=(o(4841),o(29542)),f=o(91284),v=o(37230),b=(o(72450),o(86178)),j=o.n(b),w=(o(99543),o(95692)),C=(o(14398),o(3584)),k=o(51593),_=o(19668),Y=o(70579);(0,u.A)(n.A)((e=>{let{theme:t}=e;return{border:0}})),(0,u.A)(s.A)((e=>{let{theme:t}=e;return{[`&.${a.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${a.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:d.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}}));const M=(0,h.A)({loaderWrap:{display:"flex",height:100,"& svg":{width:"40px !important",height:"40px !important"}}});const E=function(){var e;const t=(0,p.Zp)(),[o,n]=(M(),(0,A.wA)(),(0,i.useRef)(null),(0,i.useState)(null)),[s,a]=(0,i.useState)(!1),[u,h]=(0,i.useState)(null),[b,E]=(0,i.useState)(!1),{user:R}=(0,_.A)(),{register:F,handleSubmit:I,formState:{errors:N},setValue:W,getValues:D,reset:T}=(0,y.mN)(),[z,B]=(0,i.useState)(!1),[K,$]=(0,i.useState)(!1),[L,P]=(0,i.useState)([]),[U,V]=(0,i.useState)(0),[q,Z]=(0,i.useState)(50),[G,H]=(0,i.useState)(1),[J,O]=(0,i.useState)({}),[Q,X]=(0,i.useState)(),[ee,te]=(0,i.useState)(!1),[oe,ie]=(0,i.useState)("desc"),ne=async(e,t,o)=>{B(!0);try{let e={page:1,limit:1e3};const{data:t}=await g.A.getReceptionsList(e);P(null===t||void 0===t?void 0:t.rows)}catch(i){(0,w.Ni)(i)}finally{B(!1)}},se=[{header:"SR No.",accessorKey:"id"},{header:"Token Number.",accessorKey:"token_number"},{header:"Customer",accessorKey:"customer_name"},{header:"Mobile",accessorKey:"mobile"},{id:"created_at",header:"Registration Date",accessorFn:e=>j()(e.created_at).format("MM-DD-YYYY"),cell:e=>{let{row:t}=e;return(0,Y.jsx)(r.A,{variant:"contained",color:"primary",sx:{cursor:"pointer",display:"flex",gap:2},children:j()(t.original.created_at).format("MM-DD-YYYY")})}},{header:"Actions",cell:e=>{let{row:o}=e;return(0,Y.jsxs)(r.A,{sx:{display:"flex",gap:1},children:[(0,Y.jsx)(r.A,{component:"img",sx:{cursor:"pointer"},onClick:()=>{var e;t(`/reception-detail/${null===o||void 0===o||null===(e=o.original)||void 0===e?void 0:e.id}`),localStorage.setItem("currentUrl","/customer-detail")},src:d.To.detailIcon,width:"35px"}),(0,Y.jsx)(r.A,{component:"img",sx:{cursor:"pointer"},onClick:()=>{var e;t(`/update-reception/${null===o||void 0===o||null===(e=o.original)||void 0===e?void 0:e.id}`),localStorage.setItem("currentUrl","/update-customer")},src:d.To.editIcon,width:"35px"}),(0,Y.jsx)(r.A,{children:(0,Y.jsx)(r.A,{sx:{cursor:"pointer"},component:"img",src:d.To.deleteIcon,onClick:()=>{h(null===o||void 0===o?void 0:o.original),$(!0)},width:"35px"})})]})}}];return(0,i.useEffect)((()=>{ne()}),[]),(0,Y.jsxs)(r.A,{sx:{p:3},children:[(0,Y.jsx)(k.A,{open:K,onClose:()=>$(!1),message:"Are You Sure?",action:()=>{$(!1),(async()=>{try{let e={reception_id:null===u||void 0===u?void 0:u.id};const{message:t}=await g.A.deleteReception(e);(0,m.ee)(t),ne()}catch(e){(0,w.Ni)(e)}})()}}),(0,Y.jsx)(S.A,{open:s,onClose:()=>a(!1),title:"Change Status?",children:(0,Y.jsx)(r.A,{component:"form",onSubmit:I((async()=>{try{let e={customer_id:null===u||void 0===u?void 0:u.id,is_active:null===o||void 0===o?void 0:o.id};const t=g.A.CustomerStatus(e);console.log(t),(0,w.y8)(t,"Saving...","Added Successfully","Something Went Wrong");const i=await t;200===(null===i||void 0===i?void 0:i.responseCode)&&(a(!1),n(null),ne())}catch(e){console.log(e)}})),children:(0,Y.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,Y.jsx)(l.Ay,{item:!0,xs:12,sm:12,children:(0,Y.jsx)(v.A,{size:"small",label:"Select Status :",options:[{id:!1,name:"Disabled"},{id:!0,name:"Enabled"}],selected:o,onSelect:e=>{n(e)},error:null===N||void 0===N||null===(e=N.status)||void 0===e?void 0:e.message,register:F("status",{required:"Please select status."})})}),(0,Y.jsx)(l.Ay,{container:!0,sx:{justifyContent:"center"},children:(0,Y.jsxs)(l.Ay,{item:!0,xs:6,sm:6,sx:{mt:2,display:"flex",justifyContent:"space-between",gap:"25px"},children:[(0,Y.jsx)(f.jn,{bgcolor:x.A.primary,title:"Yes,Confirm",type:"submit"}),(0,Y.jsx)(f.jn,{onClick:()=>a(!1),bgcolor:"#FF1F25",title:"No,Cancel"})]})})]})})}),(0,Y.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,Y.jsx)(c.A,{sx:{fontSize:"24px",fontWeight:"bold"},children:"Reception List"}),1003!=(null===R||void 0===R?void 0:R.role_id)&&(0,Y.jsx)(f.jn,{bgcolor:"#bd9b4a",title:"Create ",onClick:()=>{t("/create-reception"),localStorage.setItem("currentUrl","/create-customer")},loading:ee})]}),(0,Y.jsx)(r.A,{children:(0,Y.jsx)(C.A,{loading:z,data:L,columns:se})})]})}}}]);
//# sourceMappingURL=4210.e90a9896.chunk.js.map