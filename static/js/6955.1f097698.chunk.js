"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[6955],{46955:(e,l,t)=>{t.r(l),t.d(l,{default:()=>w});var i=t(65043),s=t(96446),o=t(85865),n=t(68903),a=t(79190),d=t(81045),r=t(78492),u=t(74605),c=t(14256),v=(t(8781),t(26240)),m=(t(91284),t(77020)),x=t(24858),g=(t(18285),t(20566)),y=(t(93445),t(44563)),h=t(52338),A=(t(99543),t(37230)),_=(t(22030),t(88073),t(50857),t(85900)),p=(t(2722),t(95692)),b=(t(86178),t(73216)),S=(t(70255),t(28153),t(54620),t(14398),t(19668)),j=(t(86213),t(2010)),f=t(70579);const w=function(){var e,l,t,w,z,C,P,q,T,E,I;(0,v.A)();const{user:N}=(0,S.A)(),k=(0,b.Zp)(),[D,M]=(0,i.useState)(!1),[L,V]=(0,i.useState)(!1),[W,Y]=(0,i.useState)("no"),[F,R]=(0,i.useState)("no"),{id:G}=(0,b.g)(),{register:H,handleSubmit:B,getValues:U,setValue:Z,formState:{errors:J}}=(0,x.mN)(),{register:K,handleSubmit:O,setValue:Q,getValues:X,control:$,watch:ee,formState:{errors:le}}=(0,x.mN)();console.log(ee());const[te,ie]=(0,i.useState)([]),[se,oe]=i.useState(1),[ne,ae]=(0,i.useState)(0),[de,re]=(0,i.useState)(0),[ue,ce]=(0,i.useState)([]),[ve,me]=(0,i.useState)({id:"Instant",name:"Instant"}),[xe,ge]=(0,i.useState)(),[ye,he]=(0,i.useState)(!1),[Ae,_e]=(0,i.useState)(!1),[pe,be]=(0,i.useState)(!1),[Se,je]=(0,i.useState)(!1),[fe,we]=(0,i.useState)(!1),[ze,Ce]=(0,i.useState)(!1),[Pe,qe]=(0,i.useState)({monthlyVisaServiceCharges:!1,vipMedical:!1,extraTyping:!0}),[Te,Ee]=(0,i.useState)(null),[Ie,Ne]=(0,i.useState)(null),[ke,De]=(0,i.useState)(),[Me,Le]=(0,i.useState)(),[Ve,We]=(0,i.useState)(null),[Ye,Fe]=(0,i.useState)(null),[Re,Ge]=(0,i.useState)(null),[He,Be]=(0,i.useState)(null),[Ue,Ze]=((0,i.useRef)(null),(0,i.useState)(!1)),[Je,Ke]=(0,i.useState)([]),[Oe,Qe]=(0,i.useState)(null),[Xe,$e]=(0,i.useState)(null),[el,ll]=(0,i.useState)(null),[tl,il]=(0,i.useState)(null),[sl,ol]=(0,i.useState)(null),[nl,al]=(0,i.useState)(null),[dl,rl]=(0,i.useState)(null),[ul,cl]=(0,i.useState)([]),[vl,ml]=(0,i.useState)(null);return console.log(ee()),(0,i.useEffect)((()=>{(async()=>{try{let e={category_id:G};const{data:l}=await _.A.getCategoryDetail(e);let t=null===l||void 0===l?void 0:l.category;console.log(t),Be(null===t||void 0===t?void 0:t.logo),Q("image",null===t||void 0===t?void 0:t.logo,{shouldValidate:!0}),Q("name",null===t||void 0===t?void 0:t.name),Q("arabic",null===t||void 0===t?void 0:t.name_ar),R(null===t||void 0===t?void 0:t.exclude_from_purchase),Y(null===t||void 0===t?void 0:t.exclude_from_sales),Qe(null===t||void 0===t?void 0:t.sales_account),Q("sales",null===t||void 0===t?void 0:t.sales_account),ol(null===t||void 0===t?void 0:t.item_assembly_costs_account),Q("assembly",null===t||void 0===t?void 0:t.item_assembly_costs_account),il(null===t||void 0===t?void 0:t.inventory_adjustment_account),Q("adjustment",null===t||void 0===t?void 0:t.inventory_adjustment_account),$e(null===t||void 0===t?void 0:t.inventory_account),Q("inventory",null===t||void 0===t?void 0:t.inventory_account),ll(null===t||void 0===t?void 0:t.cogs_account),Q("cogs",null===t||void 0===t?void 0:t.cogs_account),rl({id:null===t||void 0===t?void 0:t.unit_of_measure,name:null===t||void 0===t?void 0:t.unit_of_measure}),Q("unit",{id:null===t||void 0===t?void 0:t.unit_of_measure,name:null===t||void 0===t?void 0:t.unit_of_measure}),al({id:null===t||void 0===t?void 0:t.item_type,name:null===t||void 0===t?void 0:t.item_type}),Q("type",{id:null===t||void 0===t?void 0:t.item_type,name:null===t||void 0===t?void 0:t.item_type}),ml({id:null===t||void 0===t?void 0:t.item_tax_type,name:null===t||void 0===t?void 0:t.item_tax_type}),Q("tax",{id:null===t||void 0===t?void 0:t.item_tax_type,name:null===t||void 0===t?void 0:t.item_tax_type}),Ee({id:null===t||void 0===t?void 0:t.cost_center,name:null===t||void 0===t?void 0:t.cost_center}),Q("center",{id:null===t||void 0===t?void 0:t.cost_center,name:null===t||void 0===t?void 0:t.cost_center})}catch(e){console.error("Error fetching location:",e)}})()}),[]),(0,i.useEffect)((()=>{(async()=>{try{var e,l;let t={page:1,limit:1e3};const{data:i}=await j.A.getAccounts(t);console.log(null===i||void 0===i||null===(e=i.accounts)||void 0===e?void 0:e.rows),Ke(null===i||void 0===i||null===(l=i.accounts)||void 0===l?void 0:l.rows)}catch(t){(0,y.LY)(t)}})(),(async()=>{try{var e;let l={page:1,limit:1e3};const{data:t}=await j.A.getTax(l);console.log(null===t||void 0===t||null===(e=t.accounts)||void 0===e?void 0:e.rows),cl(null===t||void 0===t?void 0:t.tax)}catch(l){(0,y.LY)(l)}})()}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.A,{sx:{width:"100%"}}),(0,f.jsx)(s.A,{m:3,sx:{backgroundColor:"white",borderRadius:"12px"},children:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(s.A,{component:"form",onSubmit:O((async e=>{console.log(e);try{let l={id:G,name:null===e||void 0===e?void 0:e.name,name_ar:null===e||void 0===e?void 0:e.arabic,logo:He,item_tax_type:null===vl||void 0===vl?void 0:vl.id,item_type:null===nl||void 0===nl?void 0:nl.id,unit_of_measure:null===dl||void 0===dl?void 0:dl.id,exclude_from_sales:W,exclude_from_purchase:F,sales_account_id:null===Oe||void 0===Oe?void 0:Oe.id,inventory_account_id:null===Xe||void 0===Xe?void 0:Xe.id,cogs_account_id:null===el||void 0===el?void 0:el.id,inventory_adjustment_account_id:null===tl||void 0===tl?void 0:tl.id,item_assembly_costs_account_id:null===sl||void 0===sl?void 0:sl.id,cost_center:null===Te||void 0===Te?void 0:Te.id};const t=_.A.CategoryDetail(l);(0,p.y8)(t,"Saving...","Added Successfully","Something Went Wrong");const i=await t;200===(null===i||void 0===i?void 0:i.responseCode)&&k("/category-list")}catch(l){(0,y.LY)(l)}})),children:[(0,f.jsx)(s.A,{sx:{display:"flex",justifyContent:"space-between",gap:"10px",p:3,alignItems:"flex-end"},children:(0,f.jsx)(o.A,{sx:{fontSize:"22px",fontWeight:"bold"},children:"Service Category Detail"})}),(0,f.jsxs)(s.A,{sx:{p:3},children:[(0,f.jsxs)(n.Ay,{item:!0,xs:10,mb:2,children:[(0,f.jsx)(a.A,{sx:{textTransform:"capitalize",textAlign:"left",fontWeight:700,display:"block",fontSize:"14px",color:"#333",marginBottom:"4px"},children:"Logo :*"}),(0,f.jsx)(x.xI,{name:"image",control:$,rules:{required:" picture is required"},render:()=>(0,f.jsx)(s.A,{component:"div",onMouseEnter:()=>Ze(!0),onMouseLeave:()=>Ze(!1),sx:{position:"relative",width:75,height:75,mt:2},children:(0,f.jsx)(d.A,{src:"https://pro.mangotech-api.com"+He,alt:"L",sx:{position:"relative",width:"100%",height:"100%",borderRadius:"50%",fontSize:24,backgroundColor:He?"":"#0EA5EA",color:"white",cursor:"pointer",objectFit:"cover",textTransform:"capitalize"}})})}),le.image&&!He&&(0,f.jsx)(o.A,{sx:{color:"red",fontSize:"12px",mt:1},children:le.image.message})]}),(0,f.jsxs)(n.Ay,{container:!0,sx:{gap:"5px 25px"},children:[(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(g.A,{label:" Name :*",size:"small",disabled:!0,placeholder:" Name",error:null===le||void 0===le||null===(e=le.name)||void 0===e?void 0:e.message,register:K("name",{required:"Please enter your name."})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(g.A,{label:"Arabic Name :*",disabled:!0,size:"small",placeholder:"Arabic Name",error:null===le||void 0===le||null===(l=le.arabic)||void 0===l?void 0:l.message,register:K("arabic",{required:"Please enter your arabic.",onChange:e=>{console.log("asdas")}})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsxs)(h.M,{component:"fieldset",children:[(0,f.jsx)(a.A,{sx:{textTransform:"capitalize",textAlign:"left",fontWeight:700,color:m.A.gray},children:"Exclude from Sales"}),(0,f.jsxs)(r.A,{disabled:!0,row:!0,value:W,onChange:e=>Y(e.target.value),children:[(0,f.jsx)(u.A,{disabled:!0,value:!0,control:(0,f.jsx)(c.A,{}),label:"Yes"}),(0,f.jsx)(u.A,{disabled:!0,value:!1,control:(0,f.jsx)(c.A,{}),label:"No"})]})]})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsxs)(h.M,{component:"fieldset",children:[(0,f.jsx)(a.A,{sx:{textTransform:"capitalize",textAlign:"left",fontWeight:700,color:m.A.gray},children:"Exclude from Purchase"}),(0,f.jsxs)(r.A,{disabled:!0,row:!0,value:F,onChange:e=>R(e.target.value),children:[(0,f.jsx)(u.A,{disabled:!0,value:!0,control:(0,f.jsx)(c.A,{}),label:"Yes"}),(0,f.jsx)(u.A,{disabled:!0,value:!1,control:(0,f.jsx)(c.A,{}),label:"No"})]})]})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(A.A,{size:"small",label:"Tax Type *:",disabled:!0,options:ul,selected:vl,onSelect:e=>{ml(e)},error:null===le||void 0===le||null===(t=le.tax)||void 0===t?void 0:t.message,register:K("tax",{required:"Please select tax ."})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(A.A,{size:"small",label:"Sales Account *:",disabled:!0,options:Je,selected:Oe,onSelect:e=>{Qe(e)},error:null===le||void 0===le||null===(w=le.sales)||void 0===w?void 0:w.message,register:K("sales",{required:"Please select sales account."})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(A.A,{size:"small",label:"Inventory Account *:",disabled:!0,options:Je,selected:Xe,onSelect:e=>{$e(e)},error:null===le||void 0===le||null===(z=le.inventory)||void 0===z?void 0:z.message,register:K("inventory",{required:"Please select inventory account."})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(A.A,{size:"small",label:"Cogs Account *:",disabled:!0,options:Je,selected:el,onSelect:e=>{ll(e)},error:null===le||void 0===le||null===(C=le.cogs)||void 0===C?void 0:C.message,register:K("cogs",{required:"Please select cogs account."})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(A.A,{size:"small",label:"Inventory Adjustment Account *:",disabled:!0,options:Je,selected:tl,onSelect:e=>{il(e)},error:null===le||void 0===le||null===(P=le.adjustment)||void 0===P?void 0:P.message,register:K("adjustment",{required:"Please select adjustment account."})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(A.A,{size:"small",label:"Item Assembly Cost Account *:",disabled:!0,options:Je,selected:sl,onSelect:e=>{ol(e)},error:null===le||void 0===le||null===(q=le.assembly)||void 0===q?void 0:q.message,register:K("assembly",{required:"Please select assembly account."})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(A.A,{size:"small",label:"Cost Center *:",disabled:!0,options:[{id:"Tasheel",name:"Tasheel"},{id:"DED",name:"DED"},{id:"Typing",name:"Typing"},{id:"General",name:"General"}],selected:Te,onSelect:e=>{Ee(e)},error:null===le||void 0===le||null===(T=le.center)||void 0===T?void 0:T.message,register:K("center",{required:"Please select center ."})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(A.A,{size:"small",label:"Item Type *:",disabled:!0,options:[{id:"Manufactured",name:"Manufactured"},{id:"Service/Consumable",name:"Service/Consumable"},{id:"Purchased",name:"Purchased"}],selected:nl,onSelect:e=>{al(e)},error:null===le||void 0===le||null===(E=le.type)||void 0===E?void 0:E.message,register:K("type",{required:"Please select type ."})})}),(0,f.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,f.jsx)(A.A,{size:"small",label:"Unit *:",disabled:!0,options:[{id:"Each",name:"Each"},{id:"Hours",name:"Hours"}],selected:dl,onSelect:e=>{rl(e)},error:null===le||void 0===le||null===(I=le.unit)||void 0===I?void 0:I.message,register:K("unit",{required:"Please select unit ."})})})]})]})]})})})]})}}}]);
//# sourceMappingURL=6955.1f097698.chunk.js.map