"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[6329],{46329:(e,l,i)=>{i.r(l),i.d(l,{default:()=>x});var d=i(65043),s=i(96446),t=i(85865),n=i(68903),a=(i(8781),i(26240)),r=(i(91284),i(77020),i(24858)),o=(i(18285),i(20566)),u=i(93445),v=i(44563),m=(i(99543),i(37230)),c=(i(22030),i(88073),i(50857),i(85900)),p=(i(2722),i(95692)),b=(i(86178),i(73216)),g=(i(70255),i(28153),i(54620),i(14398),i(19668)),y=i(70579);const x=function(){var e,l,i,x,h,A,j,S,_,C,P,f,q,z,N;(0,a.A)();const{user:w}=(0,g.A)(),T=(0,b.Zp)(),{id:D}=(0,b.g)(),[E,k]=(0,d.useState)(!1),[I,L]=(0,d.useState)(!1),{register:M,handleSubmit:R,getValues:V,setValue:W,formState:{errors:B}}=(0,r.mN)(),{register:G,handleSubmit:O,setValue:F,getValues:H,watch:U,formState:{errors:$}}=(0,r.mN)();console.log(U());const[Y,Z]=(0,d.useState)([]),[J,K]=d.useState(1),[Q,X]=(0,d.useState)(0),[ee,le]=(0,d.useState)(0),[ie,de]=(0,d.useState)([]),[se,te]=(0,d.useState)({id:"Instant",name:"Instant"}),[ne,ae]=(0,d.useState)(),[re,oe]=(0,d.useState)(!1),[ue,ve]=(0,d.useState)(!1),[me,ce]=(0,d.useState)(!1),[pe,be]=(0,d.useState)(!1),[ge,ye]=(0,d.useState)(!1),[xe,he]=(0,d.useState)(!1),[Ae,je]=(0,d.useState)({monthlyVisaServiceCharges:!1,vipMedical:!1,extraTyping:!0}),[Se,_e]=(0,d.useState)(null),[Ce,Pe]=(0,d.useState)(null),[fe,qe]=(0,d.useState)(),[ze,Ne]=(0,d.useState)(),[we,Te]=(0,d.useState)(null),[De,Ee]=(0,d.useState)(null),[ke,Ie]=(0,d.useState)(null);(0,d.useEffect)((()=>{(async()=>{try{let e={customer_id:D};const{data:l}=await c.A.getCustomerDetail(e);let i=null===l||void 0===l?void 0:l.customer;console.log(i),F("name",null===i||void 0===i?void 0:i.name),F("email",null===i||void 0===i?void 0:i.email),F("mobile",null===i||void 0===i?void 0:i.mobile),F("address",null===i||void 0===i?void 0:i.address),F("trn",null===i||void 0===i?void 0:i.trn),F("eid",null===i||void 0===i?void 0:i.eid),F("trade",null===i||void 0===i?void 0:i.trade_license_no),F("paymentType",{id:null===i||void 0===i?void 0:i.opening_balance_type,name:null===i||void 0===i?void 0:i.opening_balance_type}),Te({id:null===i||void 0===i?void 0:i.opening_balance_type,name:null===i||void 0===i?void 0:i.opening_balance_type}),F("status",{id:null===i||void 0===i?void 0:i.credit_status,name:null===i||void 0===i?void 0:i.credit_status}),Pe({id:null===i||void 0===i?void 0:i.credit_status,name:null===i||void 0===i?void 0:i.credit_status}),F("center",{id:null===i||void 0===i?void 0:i.cost_center,name:null===i||void 0===i?void 0:i.cost_center}),_e({id:null===i||void 0===i?void 0:i.cost_center,name:null===i||void 0===i?void 0:i.cost_center}),F("type",{id:null===i||void 0===i?void 0:i.type,name:null===i||void 0===i?void 0:i.type}),Ie({id:null===i||void 0===i?void 0:i.type,name:null===i||void 0===i?void 0:i.type}),Ee(new Date(null===i||void 0===i?void 0:i.opening_balance_date)),F("balance",null===i||void 0===i?void 0:i.opening_balance),F("credit",null===i||void 0===i?void 0:i.credit_limit),F("notes",null===i||void 0===i?void 0:i.general_notes)}catch(e){console.error("Error fetching location:",e)}})()}),[]);const Le=!0;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.A,{sx:{width:"100%"}}),(0,y.jsx)(s.A,{m:3,sx:{backgroundColor:"white",borderRadius:"12px"},children:(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(s.A,{component:"form",onSubmit:O((async e=>{console.log(e);try{let l={id:D,name:null===e||void 0===e?void 0:e.name,type:null===we||void 0===we?void 0:we.id,mobile:null===e||void 0===e?void 0:e.mobile,trn:null===e||void 0===e?void 0:e.trn,eid:null===e||void 0===e?void 0:e.eid,trade_license_no:null===e||void 0===e?void 0:e.trade,opening_balance:null===e||void 0===e?void 0:e.balance,opening_balance_type:null===ke||void 0===ke?void 0:ke.id,opening_balance_date:De,credit_limit:null===e||void 0===e?void 0:e.credit,credit_status:null===Ce||void 0===Ce?void 0:Ce.id,cost_center:null===Se||void 0===Se?void 0:Se.id,general_notes:null===e||void 0===e?void 0:e.notes,email:null===e||void 0===e?void 0:e.email,address:null===e||void 0===e?void 0:e.address};const i=c.A.UpdateCustomer(l);(0,p.y8)(i,"Saving...","Added Successfully","Something Went Wrong");const d=await i;200===(null===d||void 0===d?void 0:d.responseCode)&&T("/customer-list")}catch(l){(0,v.LY)(l)}})),children:[(0,y.jsx)(s.A,{sx:{display:"flex",justifyContent:"space-between",gap:"10px",p:3,alignItems:"flex-end"},children:(0,y.jsx)(t.A,{sx:{fontSize:"22px",fontWeight:"bold"},children:" Customer Detail"})}),(0,y.jsx)(s.A,{sx:{p:3},children:(0,y.jsxs)(n.Ay,{container:!0,sx:{gap:"5px 25px"},children:[(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(o.A,{disabled:Le,label:" Name :*",size:"small",placeholder:" Name",error:null===$||void 0===$||null===(e=$.name)||void 0===e?void 0:e.message,register:G("name",{required:"Please enter your name."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(o.A,{disabled:Le,label:"Mobile :*",size:"small",type:"number",placeholder:"Mobile",error:null===$||void 0===$||null===(l=$.mobile)||void 0===l?void 0:l.message,register:G("mobile",{required:"Please enter your mobile.",pattern:{value:/^05[0-9]{8}$/,message:"Please enter a valid UAE phone number (starting with 05 and 8 digits)."}})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(o.A,{disabled:Le,label:"Email :*",size:"small",placeholder:"Email",error:null===$||void 0===$||null===(i=$.email)||void 0===i?void 0:i.message,register:G("email",{required:"Please enter your email.",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address."}})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(o.A,{disabled:Le,label:" Address :*",size:"small",placeholder:" Address",error:null===$||void 0===$||null===(x=$.address)||void 0===x?void 0:x.message,register:G("address",{required:"Please enter your address."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(o.A,{disabled:Le,label:"TRN Number :*",size:"small",type:"number",placeholder:"TRN Number",error:null===$||void 0===$||null===(h=$.trn)||void 0===h?void 0:h.message,register:G("trn",{required:"Please enter your trn."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(o.A,{disabled:Le,label:"EID Number :*",size:"small",type:"number",placeholder:"EID Number",error:null===$||void 0===$||null===(A=$.eid)||void 0===A?void 0:A.message,register:G("eid",{required:"Please enter your eid."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(o.A,{disabled:Le,label:"Trade License Number :*",size:"small",type:"number",placeholder:"Trade License Number",error:null===$||void 0===$||null===(j=$.trade)||void 0===j?void 0:j.message,register:G("trade",{required:"Please enter your trade."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(m.A,{disabled:Le,size:"small",label:"Payment Type *:",options:[{id:"Credit",name:"Credit"},{id:"Cash",name:"Cash"}],selected:we,onSelect:e=>Te(e),error:null===B||void 0===B||null===(S=B.paymentType)||void 0===S?void 0:S.message,register:M("paymentType",{required:"Please select type."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(m.A,{disabled:Le,size:"small",label:"Credit Status *:",options:[{id:"Good History",name:"Good History"},{id:"In Liquidation",name:"In Liquidation"},{id:"No More Work until Payment Received",name:"No More Work until Payment Received"}],selected:Ce,onSelect:e=>Pe(e),error:null===B||void 0===B||null===(_=B.status)||void 0===_?void 0:_.message,register:M("status",{required:"Please select status."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(m.A,{disabled:Le,size:"small",label:"Cost Center *:",options:[{id:"Tasheel",name:"Tasheel"},{id:"DED",name:"DED"},{id:"Typing",name:"Typing"},{id:"General",name:"General"}],selected:Se,onSelect:e=>_e(e),error:null===B||void 0===B||null===(C=B.center)||void 0===C?void 0:C.message,register:M("center",{required:"Please select center."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(m.A,{disabled:Le,size:"small",label:"Balance Type *:",options:[{id:"Credit",name:"Credit"},{id:"Debit",name:"Debit"}],selected:ke,onSelect:e=>Ie(e),error:null===B||void 0===B||null===(P=B.type)||void 0===P?void 0:P.message,register:M("type",{required:"Please select type account."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(u.A,{disabled:Le,label:"Opening Balance Date :*",value:De,size:"small",error:null===$||void 0===$||null===(f=$.date)||void 0===f?void 0:f.message,register:G("date",{required:!De&&"Please enter date."}),onChange:e=>{F("date",e),Ee(new Date(e))}})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(o.A,{disabled:Le,label:"Opening Balance :*",size:"small",type:"number",placeholder:"Opening Balance ",error:null===$||void 0===$||null===(q=$.balance)||void 0===q?void 0:q.message,register:G("balance",{required:"Please enter your balance."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,y.jsx)(o.A,{disabled:Le,label:"Credit Limit :*",size:"small",type:"number",placeholder:"Credit Limit",error:null===$||void 0===$||null===(z=$.credit)||void 0===z?void 0:z.message,register:G("credit",{required:"Please enter your credit."})})}),(0,y.jsx)(n.Ay,{item:!0,xs:5.5,children:(0,y.jsx)(o.A,{disabled:Le,label:"Notes :",multiline:!0,rows:4,size:"small",placeholder:"Notes",error:null===$||void 0===$||null===(N=$.notes)||void 0===N?void 0:N.message,register:G("notes")})})]})})]})})})]})}}}]);
//# sourceMappingURL=6329.de7fab8f.chunk.js.map