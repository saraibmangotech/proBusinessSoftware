"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[3216],{63216:(e,l,i)=>{i.r(l),i.d(l,{default:()=>P});var o=i(65043),t=i(96446),n=i(85865),d=i(68903),a=i(17392),s=i(79650),r=i(63336),u=i(71806),c=i(84882),v=i(28076),m=i(39652),p=i(73460),x=i(1403),h=i(26240),b=i(42518),A=i(91284),g=i(24858),j=i(20566),_=i(93445),y=i(44563),S=i(37230),f=i(85900),k=i(95692),C=i(86178),w=i.n(C),N=i(73216),z=i(19668),F=i(2010),q=i(66360),I=i(70579);const P=function(){var e,l,i,C,P,T,D,E,L,R,B,Y,W,V;(0,h.A)();const{user:M}=(0,z.A)(),H=(0,N.Zp)(),[U,G]=(0,o.useState)(!1),[O,Q]=(0,o.useState)(!1),[Z,$]=(0,o.useState)("no"),[J,K]=(0,o.useState)("no"),[X,ee]=(0,o.useState)(0),[le,ie]=(0,o.useState)(0),[oe,te]=(0,o.useState)(!1),[ne,de]=(0,o.useState)([]),[ae,se]=(0,o.useState)(!1),[re,ue]=(0,o.useState)("");console.log(ne,"data");const[ce,ve]=(0,o.useState)([{itemCode:"",itemDescription:"TASHEEL AUTO 19",totalCharge:17.1,mbNo:"",applicationId:"",total:17.1}]),{register:me,handleSubmit:pe,getValues:xe,setValue:he,watch:be,reset:Ae,formState:{errors:ge}}=(0,g.mN)(),{register:je,handleSubmit:_e,setValue:ye,getValues:Se,control:fe,watch:ke,formState:{errors:Ce}}=(0,g.mN)({defaultValues:{amount:"",payment:null,bank:null,card:null}}),we=be("govt_fee",0),Ne=be("center_fee",0),ze=be("bank_charges",0),Fe=be("qty",1),qe=ke("amount",0);ke("payment"),(0,o.useEffect)((()=>{const e=((Number.parseFloat(we)||0)+(Number.parseFloat(Ne)||0)+(Number.parseFloat(ze)||0))*(Number.parseFloat(Fe)||1);he("total",e)}),[we,Ne,ze,Fe]),(0,o.useEffect)((()=>{if(qe&&ke("total")){const e=Number.parseFloat(qe),l=Number.parseFloat(ke("total"));e>l?ue("Amount cannot exceed total"):e<=0?ue("Amount must be greater than 0"):(ue(""),ye("balance",(l-e).toFixed(2)))}}),[qe,ke("total")]);const[Ie,Pe]=(0,o.useState)([]),[Te,De]=o.useState(1),[Ee,Le]=(0,o.useState)(0),[Re,Be]=(0,o.useState)(0),[Ye,We]=(0,o.useState)([]),[Ve,Me]=(0,o.useState)({id:"Instant",name:"Instant"}),[He,Ue]=(0,o.useState)(),[Ge,Oe]=(0,o.useState)(!1),[Qe,Ze]=(0,o.useState)(!1),[$e,Je]=(0,o.useState)(!1),[Ke,Xe]=(0,o.useState)(!1),[el,ll]=(0,o.useState)(!1),[il,ol]=(0,o.useState)(null),[tl,nl]=(0,o.useState)(!1);console.log(il,"objobj");const[dl,al]=(0,o.useState)(null),[sl,rl]=(0,o.useState)(null),[ul,cl]=(0,o.useState)(!1),[vl,ml]=(0,o.useState)(),[pl,xl]=(0,o.useState)(),[hl,bl]=(0,o.useState)(null),[Al,gl]=(0,o.useState)(null),[jl,_l]=(0,o.useState)(null),[yl,Sl]=(0,o.useState)(null),[fl,kl]=((0,o.useRef)(null),(0,o.useState)(!1)),[Cl,wl]=(0,o.useState)([]),[Nl,zl]=(0,o.useState)(null),[Fl,ql]=(0,o.useState)(null),[Il,Pl]=(0,o.useState)(null),[Tl,Dl]=(0,o.useState)(null),[El,Ll]=(0,o.useState)(null),[Rl,Bl]=(0,o.useState)(null),[Yl,Wl]=(0,o.useState)(null),[Vl,Ml]=(0,o.useState)([]),[Hl,Ul]=(0,o.useState)(null),[Gl,Ol]=(0,o.useState)(null),[Ql,Zl]=(0,o.useState)(null),[$l,Jl]=(0,o.useState)(null),[Kl,Xl]=(0,o.useState)(null),[ei,li]=(0,o.useState)(null),[ii,oi]=(0,o.useState)(null),[ti,ni]=(0,o.useState)(null),[di,ai]=(0,o.useState)(null),[si,ri]=(0,o.useState)(null),[ui,ci]=(0,o.useState)([]),[vi,mi]=(0,o.useState)(!0),[pi,xi]=(0,o.useState)(null),[hi,bi]=(0,o.useState)([]),[Ai,gi]=(0,o.useState)(null),[ji,_i]=(0,o.useState)(null);console.log("objobj",ke("bank"));const yi=(e,l,i)=>{const o=[...ne];o[e]={...o[e],[l]:i},de(o)};return console.log(ne),(0,o.useEffect)((()=>{(async()=>{nl(!0);try{const e={page:1,limit:1e3},{data:l}=await f.A.getBanks(e);ci(null===l||void 0===l?void 0:l.banks)}catch(e){(0,k.Ni)(e)}finally{nl(!1)}})(),(async()=>{nl(!0);try{var e;const l={page:1,limit:1e3},{data:i}=await f.A.getCards(l);bi(null===i||void 0===i||null===(e=i.cards)||void 0===e?void 0:e.map((e=>({...e,name:e.account_name}))))}catch(l){(0,k.Ni)(l)}finally{nl(!1)}})(),(async()=>{try{var e,l;const i={page:1,limit:1e3},{data:o}=await F.A.getAccounts(i);console.log(null===o||void 0===o||null===(e=o.accounts)||void 0===e?void 0:e.rows),wl(null===o||void 0===o||null===(l=o.accounts)||void 0===l?void 0:l.rows)}catch(i){(0,y.LY)(i)}})(),(async()=>{try{var e;const l={page:1,limit:1e3},{data:i}=await F.A.getTax(l);console.log(null===i||void 0===i||null===(e=i.accounts)||void 0===e?void 0:e.rows),Ml(null===i||void 0===i?void 0:i.tax)}catch(l){(0,y.LY)(l)}})(),(async()=>{try{const e={page:1,limit:1e3},{data:l}=await f.A.getCategoryList(e);Zl(null===l||void 0===l?void 0:l.categories)}catch(e){(0,y.LY)(e)}})(),(async()=>{try{const e={page:1,limit:1e3},{data:l}=await f.A.getServiceItem(e);oi(null===l||void 0===l?void 0:l.rows)}catch(e){(0,y.LY)(e)}})(),gl(new Date),ai({id:"walkin",name:"Walk-in Customer"}),ye("customer",{id:"walkin",name:"Walk-in Customer"})}),[]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(t.A,{sx:{width:"100%"}}),(0,I.jsx)(t.A,{m:3,sx:{backgroundColor:"white",borderRadius:"12px"},children:(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(t.A,{component:"form",onSubmit:_e((async e=>{console.log(e,"objobjj"),se(!0);try{var l,i,o,t,n;const d={id:Se("invoicenumber"),total_amount:null===e||void 0===e?void 0:e.total,items:ne,paid_amount:(null===e||void 0===e?void 0:e.amount)||(null===e||void 0===e?void 0:e.total),payment_status:(null===e||void 0===e?void 0:e.amount)<(null===e||void 0===e?void 0:e.total)?"Partially Paid":"Paid",payment_mode:null===pi||void 0===pi?void 0:pi.id,account_id:"Cash"==(null===pi||void 0===pi?void 0:pi.id)?700117:"Bank"==(null===pi||void 0===pi?void 0:pi.id)?null===il||void 0===il?void 0:il.account_id:"Card"==(null===pi||void 0===pi?void 0:pi.id)?null===Ai||void 0===Ai?void 0:Ai.account_id:"Payment Link"==(null===pi||void 0===pi?void 0:pi.id)?700171:null,ref_id:"Bank"==(null===pi||void 0===pi?void 0:pi.id)?null===il||void 0===il?void 0:il.id:null,remarks:null===e||void 0===e?void 0:e.remarks,narration:null===e||void 0===e?void 0:e.narration,charges:null===si||void 0===si||null===(l=si.sale_receipt_items)||void 0===l?void 0:l.reduce(((e,l)=>e+Number((null===l||void 0===l?void 0:l.center_fee)||0)),0),govt_charges:null===si||void 0===si||null===(i=si.sale_receipt_items)||void 0===i?void 0:i.reduce(((e,l)=>e+Number((null===l||void 0===l?void 0:l.govt_fee)||0)),0),bank_charges:null===si||void 0===si||null===(o=si.sale_receipt_items)||void 0===o?void 0:o.reduce(((e,l)=>e+Number((null===l||void 0===l?void 0:l.bank_charge)||0)),0),bank_name:"Bank"==(null===pi||void 0===pi?void 0:pi.id)?null===il||void 0===il?void 0:il.name:"",bank_id:"Bank"==(null===pi||void 0===pi?void 0:pi.id)?null===il||void 0===il?void 0:il.id:"",customer_id:null===si||void 0===si?void 0:si.customer_id,invoice_prefix:null===si||void 0===si?void 0:si.invoice_prefix,category_id:null===si||void 0===si||null===(t=si.sale_receipt_items[0])||void 0===t||null===(n=t.service)||void 0===n?void 0:n.category_id};if(console.log(d,"objobj"),1==(null===si||void 0===si?void 0:si.is_paid))(0,y.LY)("Already paid");else{const e=f.A.PayReceipt(d),l=await e;(0,k.y8)(e,"Saving...","Added Successfully","Something Went Wrong"),200===(null===l||void 0===l?void 0:l.responseCode)&&H("/paid-receipts")}}catch(d){(0,y.LY)(d)}finally{se(!1)}})),children:[(0,I.jsx)(t.A,{sx:{display:"flex",justifyContent:"space-between",gap:"10px",p:3,alignItems:"flex-end"},children:(0,I.jsx)(n.A,{sx:{fontSize:"22px",fontWeight:"bold"},children:"Pay Receipt"})}),(0,I.jsx)(t.A,{sx:{p:3},children:(0,I.jsxs)(d.Ay,{container:!0,sx:{gap:"5px 25px"},children:[(0,I.jsx)(d.Ay,{item:!0,xs:12,children:(0,I.jsxs)(d.Ay,{container:!0,gap:2,alignItems:"center",children:[(0,I.jsx)(d.Ay,{item:!0,xs:3,children:(0,I.jsx)(_.A,{label:"Invoice Date :*",value:Al,size:"small",disabled:ul,error:null===Ce||void 0===Ce||null===(e=Ce.date)||void 0===e?void 0:e.message,register:je("date"),onChange:e=>{ye("date",e),gl(new Date(e))}})}),(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,mt:1,children:(0,I.jsx)(j.A,{label:"Invoice Number",size:"small",disabled:ul,placeholder:"Invoice Number",register:je("invoicenumber"),InputProps:{endAdornment:(0,I.jsx)(a.A,{onClick:()=>(async e=>{cl(!0);try{let y={token_number:Se("token")};e&&(y={invoice_number:Se("invoicenumber")});const{data:F}=await f.A.getReceiptDetail(y);var l,i,o,t,n,d,a,s,r,u,c,v,m,p,x,h,b,A,g,j,_,S,k,C,N,z;console.log(null===F||void 0===F?void 0:F.receipt,"dataaa"),null!==F&&void 0!==F&&F.receipt&&(de(null===F||void 0===F||null===(l=F.receipt)||void 0===l?void 0:l.sale_receipt_items),ri(null===F||void 0===F?void 0:F.receipt),ye("paid",0),ye("customer",null===F||void 0===F||null===(i=F.receipt)||void 0===i?void 0:i.customer_name),ye("invoice_date",w()().toDate()),gl(new Date(null===F||void 0===F||null===(o=F.receipt)||void 0===o?void 0:o.invoice_date)),ye("mobile",null===F||void 0===F||null===(t=F.receipt)||void 0===t?void 0:t.customer_mobile),ye("ref",null===F||void 0===F||null===(n=F.receipt)||void 0===n?void 0:n.ref),ye("display_customer",null===F||void 0===F||null===(d=F.receipt)||void 0===d?void 0:d.customer_name),ye("email",null===F||void 0===F||null===(a=F.receipt)||void 0===a?void 0:a.customer_email),ye("address",null===F||void 0===F||null===(s=F.receipt)||void 0===s?void 0:s.customer_address),ye("trn",null===F||void 0===F||null===(r=F.receipt)||void 0===r?void 0:r.trn),_i({id:null===F||void 0===F||null===(u=F.receipt)||void 0===u?void 0:u.cost_center,name:null===F||void 0===F||null===(c=F.receipt)||void 0===c?void 0:c.cost_center}),ye("cost_center",{id:null===F||void 0===F||null===(v=F.receipt)||void 0===v?void 0:v.cost_center,name:null===F||void 0===F||null===(m=F.receipt)||void 0===m?void 0:m.cost_center}),ye("caseno",null===F||void 0===F||null===(p=F.receipt)||void 0===p?void 0:p.case_no),ie(null===F||void 0===F||null===(x=F.receipt)||void 0===x?void 0:x.total_amount),ye("total",(Number.parseFloat(null===F||void 0===F||null===(h=F.receipt)||void 0===h?void 0:h.total_amount)+.05*(null===F||void 0===F||null===(b=F.receipt)||void 0===b||null===(A=b.sale_receipt_items)||void 0===A?void 0:A.reduce(((e,l)=>{var i,o;const t=Number.parseFloat(null!==(i=null===l||void 0===l?void 0:l.center_fee)&&void 0!==i?i:0),n=Number.parseFloat(null!==(o=null===l||void 0===l?void 0:l.quantity)&&void 0!==o?o:1);return console.log(t),console.log(n),console.log(e),e+t*n}),0))).toFixed(2)),ye("balance",(Number.parseFloat(null===F||void 0===F||null===(g=F.receipt)||void 0===g?void 0:g.total_amount)+.05*(null===F||void 0===F||null===(j=F.receipt)||void 0===j||null===(_=j.sale_receipt_items)||void 0===_?void 0:_.reduce(((e,l)=>{var i,o;const t=Number.parseFloat(null!==(i=null===l||void 0===l?void 0:l.center_fee)&&void 0!==i?i:0),n=Number.parseFloat(null!==(o=null===l||void 0===l?void 0:l.quantity)&&void 0!==o?o:1);return console.log(t),console.log(n),console.log(e),e+t*n}),0))).toFixed(2)),_i({id:null===F||void 0===F||null===(S=F.receipt)||void 0===S?void 0:S.cost_center,name:null===F||void 0===F||null===(k=F.receipt)||void 0===k?void 0:k.cost_center}),ye("cost_center",{id:null===F||void 0===F||null===(C=F.receipt)||void 0===C?void 0:C.cost_center,name:null===F||void 0===F||null===(N=F.receipt)||void 0===N?void 0:N.cost_center}),wl(null===F||void 0===F||null===(z=F.accounts)||void 0===z?void 0:z.rows))}catch(F){(0,y.LY)(F)}})(!0),children:(0,I.jsx)(q.A,{sx:{color:"#bd9b4a"}})})}})}),(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,I.jsx)(j.A,{label:"Token",size:"small",disabled:ul,placeholder:"Enter Token",register:je("token"),InputProps:{endAdornment:(0,I.jsx)(a.A,{onClick:()=>{(async()=>{cl(!0);try{const y={token_number:Se("token"),invoice_date:Al},{data:q}=await f.A.getReceiptDetail(y);var e,l,i,o,t,n,d,a,s,r,u,c,v,m,p,x,h,b,A,g,j,_,S,C,N,z,F;console.log(q),null!==q&&void 0!==q&&q.receipt?(mi(!0),de(null===q||void 0===q||null===(e=q.receipt)||void 0===e?void 0:e.sale_receipt_items),ri(null===q||void 0===q?void 0:q.receipt),ye("paid",0),ye("customer",null===q||void 0===q||null===(l=q.receipt)||void 0===l?void 0:l.customer_name),ye("invoice_date",w()().toDate()),ye("invoicenumber",null===q||void 0===q||null===(i=q.receipt)||void 0===i?void 0:i.id),gl(new Date(null===q||void 0===q||null===(o=q.receipt)||void 0===o?void 0:o.invoice_date)),ye("mobile",null===q||void 0===q||null===(t=q.receipt)||void 0===t?void 0:t.customer_mobile),ye("ref",null===q||void 0===q||null===(n=q.receipt)||void 0===n?void 0:n.ref),ye("display_customer",null===q||void 0===q||null===(d=q.receipt)||void 0===d?void 0:d.customer_name),ye("email",null===q||void 0===q||null===(a=q.receipt)||void 0===a?void 0:a.customer_email),ye("address",null===q||void 0===q||null===(s=q.receipt)||void 0===s?void 0:s.address),ye("trn",null===q||void 0===q||null===(r=q.receipt)||void 0===r?void 0:r.trn),_i({id:null===q||void 0===q||null===(u=q.receipt)||void 0===u?void 0:u.cost_center,name:null===q||void 0===q||null===(c=q.receipt)||void 0===c?void 0:c.cost_center}),ye("cost_center",{id:null===q||void 0===q||null===(v=q.receipt)||void 0===v?void 0:v.cost_center,name:null===q||void 0===q||null===(m=q.receipt)||void 0===m?void 0:m.cost_center}),ye("caseno",null===q||void 0===q||null===(p=q.receipt)||void 0===p?void 0:p.case_no),ie(null===q||void 0===q||null===(x=q.receipt)||void 0===x?void 0:x.total_amount),ye("total",(Number.parseFloat(null===q||void 0===q||null===(h=q.receipt)||void 0===h?void 0:h.total_amount)+.05*(null===q||void 0===q||null===(b=q.receipt)||void 0===b||null===(A=b.sale_receipt_items)||void 0===A?void 0:A.reduce(((e,l)=>{var i,o;const t=Number.parseFloat(null!==(i=null===l||void 0===l?void 0:l.center_fee)&&void 0!==i?i:0),n=Number.parseFloat(null!==(o=null===l||void 0===l?void 0:l.quantity)&&void 0!==o?o:1);return console.log(t),console.log(n),console.log(e),e+t*n}),0))).toFixed(2)),ye("balance",(Number.parseFloat(null===q||void 0===q||null===(g=q.receipt)||void 0===g?void 0:g.total_amount)+.05*(null===q||void 0===q||null===(j=q.receipt)||void 0===j||null===(_=j.sale_receipt_items)||void 0===_?void 0:_.reduce(((e,l)=>{var i,o;const t=Number.parseFloat(null!==(i=null===l||void 0===l?void 0:l.center_fee)&&void 0!==i?i:0),n=Number.parseFloat(null!==(o=null===l||void 0===l?void 0:l.quantity)&&void 0!==o?o:1);return console.log(t),console.log(n),console.log(e),e+t*n}),0))).toFixed(2)),_i({id:null===q||void 0===q||null===(S=q.receipt)||void 0===S?void 0:S.cost_center,name:null===q||void 0===q||null===(C=q.receipt)||void 0===C?void 0:C.cost_center}),ye("cost_center",{id:null===q||void 0===q||null===(N=q.receipt)||void 0===N?void 0:N.cost_center,name:null===q||void 0===q||null===(z=q.receipt)||void 0===z?void 0:z.cost_center}),wl(null===q||void 0===q||null===(F=q.accounts)||void 0===F?void 0:F.rows)):(0,k.Ni)("Data Not Found")}catch(q){(0,y.LY)(q)}})()},children:(0,I.jsx)(q.A,{sx:{color:"#bd9b4a"}})})}})}),(0,I.jsx)(d.Ay,{item:!0,md:2,sm:12,xs:12,mt:2.5,children:(0,I.jsx)(A.jn,{bgcolor:"#bd9b4a",title:"Clear",onClick:()=>{cl(!1),ye("token",""),ye("invoicenumber",""),ye("customer",""),ye("invoice_date",""),ye("mobile",""),ye("ref",""),ye("display_customer",""),ye("email",""),ye("address",""),ye("trn",""),ye("cost_center",""),de([]),te(!1),ie(0)},loading:$e})})]})}),(0,I.jsx)(d.Ay,{item:!0,md:12,sm:12,xs:12,sx:{border:"2px solid black",p:2,borderRadius:"15px",mt:{md:0,sm:2,xs:2}},children:(0,I.jsxs)(d.Ay,{container:!0,sx:{gap:"5px 25px"},children:[(0,I.jsx)(d.Ay,{item:!0,md:3.8,sm:5.5,xs:12,children:(0,I.jsx)(S.A,{size:"small",label:"Customer *:",disabled:!0,options:[{id:"walkin",name:"Walk-in Customer"}],selected:di,onSelect:e=>{ai(e)},error:null===Ce||void 0===Ce||null===(l=Ce.customer)||void 0===l?void 0:l.message,register:je("customer")})}),(0,I.jsx)(d.Ay,{item:!0,md:3.8,sm:5.5,xs:12,children:(0,I.jsx)(j.A,{label:"Display Customer",size:"small",disabled:!0,placeholder:"Walk-in Customer",register:je("display_customer"),error:null===Ce||void 0===Ce||null===(i=Ce.display_customer)||void 0===i?void 0:i.message})}),(0,I.jsx)(d.Ay,{item:!0,md:3.8,sm:5.5,xs:12,children:(0,I.jsx)(j.A,{label:"Mobile",size:"small",placeholder:"Mobile No",disabled:!0,register:je("mobile",{pattern:{value:/^05[0-9]{8}$/,message:"Please enter a valid UAE phone number (starting with 05 and 8 digits)."}}),error:null===Ce||void 0===Ce||null===(C=Ce.mobile)||void 0===C?void 0:C.message})}),(0,I.jsx)(d.Ay,{item:!0,md:3.8,sm:5.5,xs:12,children:(0,I.jsx)(j.A,{label:"Email",size:"small",placeholder:"Email",disabled:!0,register:je("email"),error:null===Ce||void 0===Ce||null===(P=Ce.email)||void 0===P?void 0:P.message})}),(0,I.jsx)(d.Ay,{item:!0,md:3.8,sm:5.5,xs:12,children:(0,I.jsx)(j.A,{label:"TRN",size:"small",placeholder:"TRN",disabled:!0,register:je("trn",{required:!1})})}),(0,I.jsx)(d.Ay,{item:!0,md:3.8,sm:5.5,xs:12,children:(0,I.jsx)(j.A,{label:"Ref",disabled:!0,size:"small",placeholder:"Reference",register:je("ref")})}),(0,I.jsx)(d.Ay,{item:!0,md:3.8,sm:5.5,xs:12,children:(0,I.jsx)(S.A,{label:"Cost Center",size:"small",disabled:!0,options:[{id:"Al-ADHEED",name:"Al-ADHEED"}],selected:ji,onSelect:e=>_i(e),register:je("cost_center",{required:!1})})}),(0,I.jsx)(d.Ay,{item:!0,md:3.8,sm:5.5,xs:12,children:(0,I.jsx)(j.A,{label:"Address",size:"small",placeholder:"Address",multiline:!0,disabled:!0,rows:2,register:je("address"),error:null===Ce||void 0===Ce||null===(T=Ce.address)||void 0===T?void 0:T.message})})]})})]})}),(0,I.jsx)(s.A,{component:r.A,children:(0,I.jsxs)(u.A,{children:[(0,I.jsx)(c.A,{children:(0,I.jsxs)(v.A,{children:[(0,I.jsx)(m.A,{sx:{width:"150px"},children:"Item Code"}),(0,I.jsx)(m.A,{sx:{width:"400px"},children:"Service"}),(0,I.jsx)(m.A,{sx:{width:"150px"},children:"Qty"}),(0,I.jsx)(m.A,{sx:{width:"150px"},children:"Govt fee"}),(0,I.jsx)(m.A,{sx:{width:"150px"},children:"Center fee"}),(0,I.jsx)(m.A,{sx:{width:"150px"},children:"Bank Charge"}),(0,I.jsx)(m.A,{sx:{width:"150px"},children:"Total"}),(0,I.jsx)(m.A,{sx:{width:"150px"},children:"Trans Id"}),(0,I.jsx)(m.A,{sx:{width:"150px"},children:"App Id"}),(0,I.jsx)(m.A,{sx:{width:"150px"},children:"Ref Id"}),(0,I.jsx)(m.A,{sx:{width:"150px"},children:"Action"})]})}),(0,I.jsxs)(p.A,{children:[null===ne||void 0===ne?void 0:ne.map(((e,l)=>{var i;return(0,I.jsxs)(v.A,{children:[(0,I.jsx)(m.A,{children:null===e||void 0===e?void 0:e.id}),(0,I.jsx)(m.A,{children:null===e||void 0===e||null===(i=e.service)||void 0===i?void 0:i.name}),(0,I.jsx)(m.A,{children:null===e||void 0===e?void 0:e.quantity}),(0,I.jsx)(m.A,{children:null===e||void 0===e?void 0:e.govt_fee}),(0,I.jsx)(m.A,{children:null===e||void 0===e?void 0:e.center_fee}),(0,I.jsx)(m.A,{children:null===e||void 0===e?void 0:e.bank_charge}),(0,I.jsx)(m.A,{children:null===e||void 0===e?void 0:e.total}),(0,I.jsx)(m.A,{children:(0,I.jsx)(x.A,{size:"small",placeholder:"Transaction Id",type:"number",value:e.transaction_id||"",onChange:e=>yi(l,"transaction_id",e.target.value)})}),(0,I.jsx)(m.A,{children:(0,I.jsx)(x.A,{size:"small",placeholder:"Application Id",type:"number",disabled:!0,value:e.application_id||"",onChange:e=>yi(l,"application_id",e.target.value)})}),(0,I.jsx)(m.A,{children:(0,I.jsx)(x.A,{size:"small",placeholder:"Ref No",type:"number",disabled:!0,value:e.ref_no||"",onChange:e=>yi(l,"ref_no",e.target.value)})})]},l)})),(0,I.jsxs)(v.A,{children:[(0,I.jsx)(m.A,{colSpan:9,align:"right",children:(0,I.jsx)(n.A,{variant:"h6",sx:{fontSize:"15px"},children:"Sub-total:"})}),(0,I.jsxs)(m.A,{children:[(0,I.jsx)(n.A,{variant:"h6",sx:{fontSize:"15px"},children:le})," "]})]}),(0,I.jsxs)(v.A,{children:[(0,I.jsx)(m.A,{colSpan:9,align:"right",children:(0,I.jsx)(n.A,{variant:"h6",sx:{fontSize:"15px"},children:"Net Taxable Amount:"})}),(0,I.jsxs)(m.A,{children:[(0,I.jsx)(n.A,{variant:"h6",sx:{fontSize:"15px"},children:null===ne||void 0===ne?void 0:ne.reduce(((e,l)=>{var i,o;return e+Number.parseFloat(null!==(i=null===l||void 0===l?void 0:l.center_fee)&&void 0!==i?i:0)*Number.parseInt(null!==(o=null===l||void 0===l?void 0:l.quantity)&&void 0!==o?o:1)}),0).toFixed(2)})," "]})]}),(0,I.jsxs)(v.A,{children:[(0,I.jsx)(m.A,{colSpan:9,align:"right",children:(0,I.jsx)(n.A,{variant:"h6",sx:{fontSize:"15px"},children:"Total Vat:"})}),(0,I.jsxs)(m.A,{children:[(0,I.jsx)(n.A,{variant:"h6",sx:{fontSize:"15px"},children:(.05*(null===ne||void 0===ne?void 0:ne.reduce(((e,l)=>{var i,o;return e+Number.parseFloat(null!==(i=null===l||void 0===l?void 0:l.center_fee)&&void 0!==i?i:0)*Number.parseFloat(null!==(o=null===l||void 0===l?void 0:l.quantity)&&void 0!==o?o:1)}),0))).toFixed(2)})," "]})]}),(0,I.jsxs)(v.A,{children:[(0,I.jsx)(m.A,{colSpan:9,align:"right",children:(0,I.jsx)(n.A,{variant:"h6",sx:{fontSize:"15px"},children:"Amount Total:"})}),(0,I.jsxs)(m.A,{children:[(0,I.jsx)(n.A,{variant:"h6",sx:{fontSize:"15px"},children:(Number.parseFloat(le)+.05*(null===ne||void 0===ne?void 0:ne.reduce(((e,l)=>{var i,o;return e+Number.parseFloat(null!==(i=null===l||void 0===l?void 0:l.center_fee)&&void 0!==i?i:0)*Number.parseFloat(null!==(o=null===l||void 0===l?void 0:l.quantity)&&void 0!==o?o:1)}),0))).toFixed(2)})," "]})]}),(0,I.jsx)(v.A,{children:(0,I.jsx)(m.A,{colSpan:10,align:"right",children:(0,I.jsxs)(d.Ay,{container:!0,gap:2,justifyContent:"center",children:[(0,I.jsx)(b.A,{onClick:()=>te(!0),disabled:0==(null===ne||void 0===ne?void 0:ne.length),variant:"contained",sx:{textTransform:"capitalize",backgroundColor:"#bd9b4a",width:"200px",":hover":{backgroundColor:"rgb(189 155 74)"}},children:"Pay"}),(0,I.jsx)(b.A,{onClick:()=>te(!1),variant:"contained",sx:{textTransform:"capitalize",backgroundColor:"#bd9b4a",width:"200px",":hover":{backgroundColor:"rgb(189 155 74)"}},children:"Cancel"})]})})})]})]})}),oe&&(0,I.jsxs)(d.Ay,{container:!0,mt:2,spacing:2,children:[(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,I.jsx)(j.A,{label:"Total Amount",size:"small",disabled:!0,placeholder:"Total Amount",register:je("total",{required:"please enter total ."}),error:null===Ce||void 0===Ce||null===(D=Ce.total)||void 0===D?void 0:D.message})}),(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,I.jsx)(j.A,{label:"Paid Amount",value:0,disabled:!0,size:"small",placeholder:"Enter amount",register:je("amount",{required:!1}),error:(null===Ce||void 0===Ce||null===(E=Ce.amount)||void 0===E?void 0:E.message)||re})}),(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,I.jsx)(j.A,{label:"Balance Amount",size:"small",disabled:!0,placeholder:"Balance Amount",register:je("balance",{required:"please enter balance ."}),error:null===Ce||void 0===Ce||null===(L=Ce.balance)||void 0===L?void 0:L.message})}),(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,I.jsx)(S.A,{label:"Payment Mode",size:"small",options:[{id:"Cash",name:"Cash"},{id:"Bank",name:"Bank"},{id:"Card",name:"Card"},{id:"Payment Link",name:"Payment Link"}],selected:ke("payment"),onSelect:e=>{ye("payment",e),xi(e)},register:je("payment",{required:"Please select payment mode"}),error:null===Ce||void 0===Ce||null===(R=Ce.payment)||void 0===R?void 0:R.message})}),"Bank"==(null===pi||void 0===pi?void 0:pi.id)&&(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,I.jsx)(S.A,{label:"Banks",size:"small",options:ui,selected:il,onSelect:e=>{ol(e)},register:je("bank",{required:"Please select a bank"}),error:null===Ce||void 0===Ce||null===(B=Ce.bank)||void 0===B?void 0:B.message})}),"Card"==(null===pi||void 0===pi?void 0:pi.id)&&(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,I.jsx)(S.A,{label:"Card",size:"small",options:hi,selected:Ai,onSelect:e=>{gi(e)},register:je("card",{required:"Please select a card"}),error:null===Ce||void 0===Ce||null===(Y=Ce.card)||void 0===Y?void 0:Y.message})}),"Card"==(null===pi||void 0===pi?void 0:pi.id)&&(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,I.jsx)(j.A,{label:"Authorization Code",size:"small",placeholder:"Authorization Code",register:je("remarks",{required:"Please enter code"}),error:null===Ce||void 0===Ce||null===(W=Ce.remarks)||void 0===W?void 0:W.message})}),(0,I.jsx)(d.Ay,{item:!0,md:3,sm:12,xs:12,children:(0,I.jsx)(j.A,{label:"Narration",size:"small",placeholder:"Narration",register:je("narration"),error:null===Ce||void 0===Ce||null===(V=Ce.narration)||void 0===V?void 0:V.message})}),(0,I.jsx)(d.Ay,{container:!0,justifyContent:"flex-end",mt:2,pr:2,children:(0,I.jsx)(b.A,{type:"submit",disabled:0==(null===ne||void 0===ne?void 0:ne.length)||ae,variant:"contained",sx:{textTransform:"capitalize",backgroundColor:"#bd9b4a",":hover":{backgroundColor:"rgb(189 155 74)"}},children:"Submit"})})]})]})})})]})}},66360:(e,l,i)=>{var o=i(24994);l.A=void 0;var t=o(i(40039)),n=i(70579);l.A=(0,t.default)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")}}]);
//# sourceMappingURL=3216.078e245e.chunk.js.map