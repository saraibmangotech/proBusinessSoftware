"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[3532],{93532:(e,i,n)=>{n.r(i),n.d(i,{default:()=>R});var t=n(65043),o=n(34535),l=n(28076),s=n(39652),d=n(77502),r=n(96446),a=n(85865),c=n(68903),x=n(79650),p=n(63336),h=n(71806),m=n(84882),u=n(73460),v=n(24858),g=n(73216),A=n(35475),y=n(54620),j=n(77020),f=(n(20566),n(44563),n(85900),n(37230),n(70255),n(91284)),b=(n(37004),n(93445),n(38468),n(51593),n(69654),n(61137),n(80360),n(95692)),S=n(54667),w=n(22030),_=n(34086),k=n(4841),E=n(79456),z=n(86178),N=n.n(z),C=(n(23602),n(31558),n(70579));const F=(0,o.Ay)(l.A)((e=>{let{theme:i}=e;return{border:0}})),D=(0,o.Ay)(s.A)((e=>{let{theme:i}=e;return{[`&.${d.A.head}`]:{fontSize:14,fontFamily:"Public Sans",border:"1px solid #EEEEEE",padding:"15px",textAlign:"left",whiteSpace:"nowrap",color:"#434343",paddingRight:"50px",background:"transparent",fontWeight:"bold"},[`&.${d.A.body}`]:{fontSize:14,fontFamily:"Public Sans",textWrap:"nowrap",padding:"5px !important",paddingLeft:"15px !important",".MuiBox-root":{display:"flex",gap:"6px",alignItems:"center",justifyContent:"center",".MuiBox-root":{cursor:"pointer"}},svg:{width:"auto",height:"24px"},".MuiTypography-root":{textTransform:"capitalize",fontFamily:y.ay.NunitoRegular,textWrap:"nowrap"},".MuiButtonBase-root":{padding:"8px",width:"28px",height:"28px"}}}}));const R=function(){var e,i,n;const{id:o}=(0,g.g)(),l=(0,g.Zp)(),s=(0,E.wA)(),{register:d,setValue:z,getValues:R,control:T,handleSubmit:M}=(0,v.mN)(),W=[{name:"SR No.",key:""},{name:"Customer ",key:"name"},{name:"Registration Date",key:"visa_eligibility"},{name:"Deposit Amount",key:"deposit_total"},{name:"Action",key:"action"}],[B,I]=(0,t.useState)(!1),[Y,$]=(0,t.useState)(!1),[J,V]=(0,t.useState)(),[H,L]=(0,t.useState)(),[P,Z]=(0,t.useState)([]),[G,U]=(0,t.useState)([]);return(0,t.useEffect)((()=>{o&&(async()=>{try{var e,i,n,t;let l={agent_id:o};const{data:d}=await S.A.getAgentDetail(l);console.log(d),V(null===d||void 0===d?void 0:d.details);const r=(null===d||void 0===d||null===(e=d.details)||void 0===e||null===(i=e.documents)||void 0===i?void 0:i.map((e=>({...e,paths:e.path?e.path.split(","):[]}))))||[];console.log(r),Z(r),L((0,w.TJ)(null===d||void 0===d?void 0:d.permissions)),console.log((0,w.TJ)(null===d||void 0===d?void 0:d.permissions)),console.log(null===d||void 0===d||null===(n=d.details)||void 0===n?void 0:n.customers),U(null===d||void 0===d||null===(t=d.details)||void 0===t?void 0:t.customers),L((0,w.TJ)(null===d||void 0===d?void 0:d.permissions)),null===d||void 0===d||d.permissions.forEach((e=>{null!==e&&void 0!==e&&e.route&&null!==e&&void 0!==e&&e.identifier&&null!==e&&void 0!==e&&e.permitted&&s((0,k.Ft)(null===e||void 0===e?void 0:e.route))}))}catch(l){(0,b.Ni)(l)}})()}),[o]),(0,C.jsxs)(r.A,{sx:{p:3},children:[(0,C.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between",gap:"10px",alignItems:"flex-end"},children:[(0,C.jsx)(a.A,{sx:{fontSize:"22px",fontWeight:"bold"},children:"AGENT DETAIL"}),(0,C.jsx)(r.A,{sx:{display:"flex",gap:"10px"},children:(null===H||void 0===H?void 0:H.edit_details)&&(0,C.jsx)(f.jn,{bgcolor:"#bd9b4a",title:"Edit",onClick:()=>l(`/update-agent/${o}`)})})]}),(0,C.jsxs)(c.Ay,{container:!0,sx:{mt:5,border:"1px solid #B6B6B6",borderRadius:"8px",p:"15px",justifyContent:"space-between"},children:[(0,C.jsx)(c.Ay,{item:!0,xs:6,mt:2,children:(0,C.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(c.Ay,{item:!0,xs:5,children:(0,C.jsx)(a.A,{sx:{fontSize:"14px"},variant:"body1",children:"Agent Name:"})}),(0,C.jsx)(c.Ay,{item:!0,xs:7,children:(0,C.jsx)(a.A,{sx:{fontSize:"14px",color:"#0F2772"},variant:"body1",children:null===J||void 0===J?void 0:J.name})})]})}),(0,C.jsx)(c.Ay,{item:!0,xs:6,mt:2,children:(0,C.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(c.Ay,{item:!0,xs:4,children:(0,C.jsx)(a.A,{sx:{fontSize:"14px"},variant:"body1",children:"Agent Email:"})}),(0,C.jsx)(c.Ay,{item:!0,xs:8,children:(0,C.jsx)(a.A,{sx:{fontSize:"14px",color:"#0F2772"},variant:"body1",children:null===J||void 0===J||null===(e=J.userDetail)||void 0===e?void 0:e.email})})]})}),(0,C.jsx)(c.Ay,{item:!0,xs:6,mt:2,children:(0,C.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(c.Ay,{item:!0,xs:5,children:(0,C.jsx)(a.A,{sx:{fontSize:"14px"},variant:"body1",children:"Commission on Visa:"})}),(0,C.jsx)(c.Ay,{item:!0,xs:7,children:(0,C.jsxs)(a.A,{sx:{fontSize:"14px",color:"#0F2772"},variant:"body1",children:[null===J||void 0===J?void 0:J.commission_visa," %"]})})]})}),(0,C.jsx)(c.Ay,{item:!0,xs:6,mt:2,children:(0,C.jsxs)(c.Ay,{container:!0,spacing:2,children:[(0,C.jsx)(c.Ay,{item:!0,xs:4,children:(0,C.jsx)(a.A,{sx:{fontSize:"14px"},variant:"body1",children:"Monthly Commission :"})}),(0,C.jsx)(c.Ay,{item:!0,xs:8,children:(0,C.jsxs)(a.A,{sx:{fontSize:"14px",color:"#0F2772",textAlign:"left"},variant:"body1",children:[null===J||void 0===J?void 0:J.commission_monthly," %"]})})]})})]}),(0,C.jsx)(r.A,{p:2,children:(0,C.jsxs)(c.Ay,{container:!0,spacing:4,p:3,children:[(0,C.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,C.jsx)(a.A,{mb:2,mt:2,sx:{color:"#03091A",fontWeight:"bold"},variant:"h6",children:"Documents :"}),(0,C.jsx)(r.A,{sx:{background:j.A.DarkBlue,color:j.A.white,padding:"8px 20px",borderRadius:"10px",cursor:"pointer"},onClick:async()=>{try{var e,i;window.open(`https://pro.mangotech-api.com/api/system/downloadZip?reference=${null===J||void 0===J||null===(e=J.documents[0])||void 0===e?void 0:e.reference}&reference_id=${null===J||void 0===J||null===(i=J.documents[0])||void 0===i?void 0:i.reference_id}`,"_blank")}catch(n){console.error("Error fetching the document:",n)}},children:" Download All"})]}),(0,C.jsx)(c.Ay,{container:!0,spacing:2,mt:2,children:null===P||void 0===P?void 0:P.sort(((e,i)=>(e.path?0:1)-(i.path?0:1))).map(((e,i)=>(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(c.Ay,{item:!0,md:6,lg:6,sx:{cursor:"pointer",paddingTop:"35px !important"},component:"div",children:[(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(r.A,{sx:{fontSize:"15px",fontWeight:"bold"},children:null===e||void 0===e?void 0:e.name}),e.paths.length>0&&null!=(null===e||void 0===e?void 0:e.expiry_date)&&(0,C.jsxs)(r.A,{sx:{mt:1,fontSize:"13px",color:j.A.gray},children:[(0,C.jsx)("span",{style:{fontWeight:"bold"},children:"Expiry Date : "}),(0,C.jsx)("span",{children:N()(null===e||void 0===e?void 0:e.expiry_date).format("YYYY-MM-DD")})]})]}),(0,C.jsx)(r.A,{sx:{display:"flex",gap:"10px",mt:"15px",flexWrap:"wrap"},children:(null===e||void 0===e?void 0:e.paths.length)>0?null===e||void 0===e?void 0:e.paths.map(((e,i)=>(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(r.A,{component:"div",sx:{width:"30%"},onClick:()=>{e.split("_").pop().includes("doc")||e.split("_").pop().includes("xls")?(0,w.h1)(e,e.split("_").pop()):window.open("https://pro.mangotech-api.com/"+e,"_blank")},children:[(0,C.jsx)(r.A,{children:e?(0,C.jsx)(r.A,{component:"img",src:y.To.docIcon,width:"35px"}):(0,C.jsx)(_.A,{sx:{fontSize:"35px",color:"gray"}})},i),(0,C.jsx)(A.N_,{rel:"noopener noreferrer",children:e.split("_").pop()})]})}))):(0,C.jsx)(_.A,{sx:{fontSize:"35px",color:"gray"}})})]})})))}),(null===G||void 0===G?void 0:G.length)>0&&(0,C.jsx)(t.Fragment,{children:(0,C.jsx)(x.A,{component:p.A,sx:{maxHeight:"calc(100vh - 330px)",mt:5,backgroundColor:"transparent",boxShadow:"none !important",borderRadius:"0px !important"},children:(0,C.jsxs)(h.A,{stickyHeader:!0,sx:{minWidth:500,position:"relative"},children:[(0,C.jsx)(m.A,{children:(0,C.jsx)(F,{children:null===W||void 0===W?void 0:W.map(((e,i)=>(0,C.jsx)(D,{style:{textAlign:"SR No."==(null===e||void 0===e?void 0:e.name)?"center":"left",paddingRight:"SR No."==(null===e||void 0===e?void 0:e.name)?"15px":"50px"},className:"pdf-table",children:(0,C.jsx)(r.A,{sx:{display:"flex",alignItems:"flex-end"},children:null===e||void 0===e?void 0:e.name})},i)))})}),(0,C.jsx)(u.A,{children:(null===G||void 0===G?void 0:G.length)>0&&(null===(i=[...G])||void 0===i||null===(n=i.sort(((e,i)=>(null===e||void 0===e?void 0:e.id)-(null===i||void 0===i?void 0:i.id))))||void 0===n?void 0:n.map(((e,i)=>(0,C.jsxs)(F,{sx:{border:"1px solid #EEEEEE !important"},children:[(0,C.jsx)(D,{style:{textAlign:"center"},className:"pdf-table",children:null===e||void 0===e?void 0:e.id}),(0,C.jsx)(D,{style:{textAlign:"left"},className:"pdf-table",children:null===e||void 0===e?void 0:e.name}),(0,C.jsx)(D,{style:{textAlign:"left"},className:"pdf-table",children:N()(null===e||void 0===e?void 0:e.created_at).format("MM-DD-YYYY")}),(0,C.jsx)(D,{style:{textAlign:"left"},className:"pdf-table",children:parseFloat(null===e||void 0===e?void 0:e.deposit_total).toFixed(2)}),(0,C.jsx)(D,{style:{textAlign:"left"},className:"pdf-table",children:(0,C.jsx)(r.A,{children:(0,C.jsx)(r.A,{component:"img",sx:{cursor:"pointer"},onClick:()=>{l(`/customer-detail/${null===e||void 0===e?void 0:e.id}`),localStorage.setItem("currentUrl","/customer-detail")},src:y.To.detailIcon,width:"35px"})})})]},i))))})]})})})]})})]})}}}]);
//# sourceMappingURL=3532.c42b1dbb.chunk.js.map