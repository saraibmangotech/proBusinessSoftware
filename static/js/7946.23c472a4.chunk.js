"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[7946],{77946:(e,t,i)=>{i.r(t),i.d(t,{default:()=>C});var l=i(65043),n=i(96446),s=i(19252),o=i(68903),a=i(85865),r=i(78492),d=i(74605),c=i(14256),m=i(39336),u=i(54620),x=i(77020),v=i(91284),y=i(70101),h=i(44563),p=i(37230),A=i(24858),g=i(70255),j=i(93445),f=i(86178),b=i.n(f),S=i(62378),_=i(31558),Y=i(70579);const C=function(){var e,t,i,f,C,k,w,M,F,R,I,D;const N=(0,l.useRef)(),[z,G]=(0,l.useState)([]),[P,T]=(0,l.useState)("import"),{register:L,handleSubmit:E,setValue:V,getValues:$,formState:{errors:q}}=(0,A.mN)(),{register:B,handleSubmit:U,reset:W,setValue:O,getValues:Q,formState:{errors:H}}=(0,A.mN)(),[J,K]=(0,l.useState)(!1),[X,Z]=(0,l.useState)([]),[ee,te]=(0,l.useState)(null),[ie,le]=(0,l.useState)([]),[ne,se]=(0,l.useState)(null),[oe,ae]=(0,l.useState)([]),[re,de]=(0,l.useState)([]),[ce,me]=(0,l.useState)(null),[ue,xe]=(0,l.useState)([]),[ve,ye]=(0,l.useState)([]),[he,pe]=(0,l.useState)(null),[Ae,ge]=(0,l.useState)([]),[je,fe]=(0,l.useState)(null),[be,Se]=(0,l.useState)(null),[_e,Ye]=(0,l.useState)([]),[Ce,ke]=(0,l.useState)(null),[we,Me]=(0,l.useState)(null),[Fe,Re]=(0,l.useState)(null),[Ie,De]=(0,l.useState)(null),[Ne,ze]=(0,l.useState)(null);return(0,l.useEffect)((()=>{(async()=>{try{const{data:e}=await g.A.getBusinessCountries();Z(null===e||void 0===e?void 0:e.countries.filter((e=>"Copart UAE"!==e.name)))}catch(e){(0,h.LY)(e)}})(),(async e=>{try{var t;let i={page:1,limit:100,search:e};const{data:l}=await g.A.getDestinations(i);de(null===l||void 0===l||null===(t=l.destinations)||void 0===t?void 0:t.rows)}catch(i){(0,h.LY)(i)}})(),(async()=>{try{const{data:e}=await _.A.getExportDropdowns();ae(null===e||void 0===e?void 0:e.filters);const t=null===e||void 0===e?void 0:e.filters.map(((e,t)=>({id:e.country_name,name:e.country_name})));le(t)}catch(e){(0,h.LY)(e)}})()}),[]),(0,l.useEffect)((()=>{var e;z.length>0&&(null===N||void 0===N||null===(e=N.current)||void 0===e||e.link.click())}),[z]),(0,Y.jsxs)(l.Fragment,{children:[(0,Y.jsx)(S.CSVLink,{ref:N,data:z,filename:`import-shipping-rates ${b()().format("DD-MMM-YYYY h:mm A")}.csv`,target:"_blank"}),(0,Y.jsxs)(n.A,{sx:{position:"relative",overflow:"hidden",width:1,height:{xs:300,sm:400,md:500},bgcolor:x.A.mirage},children:[(0,Y.jsx)(n.A,{component:"img",src:u.To.quote,alt:"banner shade",sx:{objectFit:"cover",position:"absolute",width:"100%",height:{xs:"300px",sm:"400px",md:"500px"},left:0,top:0}}),(0,Y.jsx)(s.A,{children:(0,Y.jsx)(n.A,{sx:{marginTop:{xs:"28%",sm:"25%",md:"18%"}},children:(0,Y.jsx)(o.Ay,{container:!0,spacing:0,children:(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:8,md:8,sx:{zIndex:5},children:(0,Y.jsx)(a.A,{variant:"h1",sx:{textTransform:"capitalize"},children:"Quote"})})})})})]}),(0,Y.jsx)(n.A,{sx:{py:{xs:2,md:4},mt:{xs:2,md:4}},children:(0,Y.jsxs)(s.A,{children:[(0,Y.jsxs)(n.A,{sx:{textAlign:"center"},children:[(0,Y.jsx)(a.A,{variant:"h2",sx:{textTransform:"capitalize",mb:1},children:"Calculate Export Shipping Rates"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:"Check the estimated shipping price for your package"})]}),(0,Y.jsxs)(n.A,{sx:{bgcolor:x.A.whiteSmoke,width:{md:"75%"},mx:"auto",my:{xs:2,md:4},py:{xs:3,md:7},px:{xs:4,md:15},borderRadius:2},children:[(0,Y.jsxs)(r.A,{row:!0,value:P,onChange:e=>T(e.target.value),sx:{mb:3},children:[(0,Y.jsx)(d.A,{value:"import",control:(0,Y.jsx)(c.A,{}),label:"Import"}),(0,Y.jsx)(d.A,{value:"export",control:(0,Y.jsx)(c.A,{}),label:"Export"})]}),"import"==P&&(0,Y.jsx)(n.A,{component:"form",onSubmit:E((async()=>{K(!0);try{var e;let a={date:$("month"),country_id:null===ee||void 0===ee?void 0:ee.id,location_id:null===je||void 0===je?void 0:je.id,destination_id:null===ce||void 0===ce?void 0:ce.id,type_id:null===Fe||void 0===Fe?void 0:Fe.id};const{data:r}=await y.A.getClientRates(a);if((null===r||void 0===r||null===(e=r.rates)||void 0===e?void 0:e.length)<1)(0,h.LY)("Rates Not Available");else if((null===r||void 0===r?void 0:r.rates.length)>1){De(null);const e=["sep=,"],a=["Sr","Country","State/City","Destination","Month Year","Type","$ Cost"],d=[];d.push(e),d.push(a);for(let c=0;c<(null===r||void 0===r||null===(t=r.rates)||void 0===t?void 0:t.length);c++){var t,i,l,n,s,o;const e=null===r||void 0===r?void 0:r.rates[c],a=(null===e||void 0===e||null===(i=e.location)||void 0===i?void 0:i.state_code)+" "+(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.city_name),m=b()(null===e||void 0===e?void 0:e.month_year).format("MMMM YYYY");let u=[c+1,null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.country_name,a,null===e||void 0===e||null===(s=e.destination)||void 0===s?void 0:s.name,m,null===e||void 0===e||null===(o=e.type)||void 0===o?void 0:o.name,null===e||void 0===e?void 0:e.cost];d.push(u)}G(d)}else De(null===r||void 0===r?void 0:r.rates[0])}catch(a){(0,h.LY)(a)}finally{K(!1)}})),children:(0,Y.jsxs)(o.Ay,{container:!0,spacing:1,alignItems:"center",justifyContent:"space-between",children:[(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsx)(p.A,{label:"Country",size:"small",options:X,selected:ee,error:null===q||void 0===q||null===(e=q.country)||void 0===e?void 0:e.message,register:L("country",{required:"Please select country."}),onSelect:e=>{te(e),(async e=>{try{var t;const{data:i}=await g.A.getBusinessLocation(e),l=[];null===i||void 0===i||null===(t=i.locations)||void 0===t||t.forEach((e=>{let t={id:e.id,name:(null===e||void 0===e?void 0:e.state_code)+"-"+(null===e||void 0===e?void 0:e.city_name)};l.push(t)})),ge(l)}catch(i){(0,h.LY)(i)}})(null===e||void 0===e?void 0:e.id)}})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsx)(p.A,{size:"small",disabled:!ee,label:"State & City",options:Ae,selected:je,register:L("city"),onSelect:e=>fe(e)})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsx)(p.A,{size:"small",label:"Destination Port",options:re,selected:ce,register:L("destination"),onSelect:e=>me(e)})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsx)(j.A,{size:"small",label:"Price for the Month",openTo:"month",views:["month","year"],minDate:new Date("2023-11-01"),error:null===q||void 0===q||null===(t=q.month)||void 0===t?void 0:t.message,register:L("month",{required:"Please enter month."}),onChange:e=>(e=>{try{if("Invalid Date"===e)return;const t=new Date(e.getFullYear(),e.getMonth(),2),i=`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`;V("month",i)}catch(t){(0,h.LY)(t)}})(e)})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsx)(p.A,{size:"small",label:"Vehicle Type",options:[{id:1,name:"Normal Bike"},{id:2,name:"Oversize Bike"},{id:3,name:"Auto"},{id:4,name:"Container Price"},{id:5,name:"Scrap Price"},{id:6,name:"Cutting"}],selected:Fe,error:null===q||void 0===q||null===(i=q.type)||void 0===i?void 0:i.message,register:L("type",{required:"Please select vehicle type."}),onSelect:e=>Re(e)})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,sx:{mt:1.5},children:(0,Y.jsx)(v.jn,{fullWidth:!0,type:"submit",loading:J,title:"Check Rates"})})]})}),"import"==P&&Ie&&(0,Y.jsxs)(l.Fragment,{children:[(0,Y.jsx)(a.A,{variant:"h4",sx:{my:3},children:"Shipping Rates"}),(0,Y.jsx)(m.A,{sx:{my:2}}),(0,Y.jsx)(n.A,{sx:{my:1},children:(0,Y.jsxs)(o.Ay,{container:!0,spacing:1,alignItems:"center",justifyContent:"space-between",children:[(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Country :"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:null===Ie||void 0===Ie||null===(f=Ie.location)||void 0===f?void 0:f.country_name})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"State & City :"}),(0,Y.jsxs)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:[null===Ie||void 0===Ie||null===(C=Ie.location)||void 0===C?void 0:C.state_code," ",null===Ie||void 0===Ie||null===(k=Ie.location)||void 0===k?void 0:k.city_name]})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Destination :"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:null===Ie||void 0===Ie||null===(w=Ie.destination)||void 0===w?void 0:w.name})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Vehicle Type :"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:null===Ie||void 0===Ie||null===(M=Ie.type)||void 0===M?void 0:M.name})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Month Year :"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:b()(null===Ie||void 0===Ie?void 0:Ie.month_year).format("MMMM YYYY")})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Cost :"}),(0,Y.jsxs)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:["$ ",parseInt(null===Ie||void 0===Ie?void 0:Ie.cost).toFixed(2)]})]})})]})})]}),"export"==P&&(0,Y.jsx)(n.A,{component:"form",onSubmit:U((async e=>{K(!0);try{var t;let e={date:Q("monthexport"),country_name:null===ne||void 0===ne?void 0:ne.name,city_name:null===we||void 0===we?void 0:we.name,vehicle_type:null===Ce||void 0===Ce?void 0:Ce.name,vehicle_model:null===he||void 0===he?void 0:he.name};const{data:i}=await _.A.getExportRates(e);(null===i||void 0===i||null===(t=i.rates)||void 0===t?void 0:t.length)<1?(0,h.LY)("Rates Not Available"):ze(null===i||void 0===i?void 0:i.rates[0])}catch(i){(0,h.LY)(i)}finally{K(!1)}})),children:(0,Y.jsxs)(o.Ay,{container:!0,spacing:1,alignItems:"center",children:[(0,Y.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,Y.jsx)(p.A,{label:"Select Destination Country",size:"small",options:ie,selected:ne,error:null===H||void 0===H||null===(F=H.country)||void 0===F?void 0:F.message,register:B("country",{required:"Please select country."}),onSelect:e=>{var t;se(e);const i=null===oe||void 0===oe||null===(t=oe.filter((t=>(null===t||void 0===t?void 0:t.country_name)==(null===e||void 0===e?void 0:e.name)))[0])||void 0===t?void 0:t.cities;ge(i),e||(Me(null),ke(null),pe(null))}})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,Y.jsx)(p.A,{size:"small",disabled:!ne,label:"State & City",options:Ae,selected:we,register:B("cityexport",{required:"Please select city."}),onSelect:e=>{var t,i;e||(ke(null),pe(null)),Me(e);const l=null===oe||void 0===oe||null===(t=oe.filter((e=>(null===e||void 0===e?void 0:e.country_name)==(null===ne||void 0===ne?void 0:ne.name)))[0])||void 0===t?void 0:t.cities,n=null===l||void 0===l||null===(i=l.filter((t=>(null===t||void 0===t?void 0:t.city_name)==(null===e||void 0===e?void 0:e.name)))[0])||void 0===i?void 0:i.types;Ye(n)}})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,Y.jsx)(p.A,{size:"small",label:"Vehicle Type",options:_e,selected:Ce,error:null===H||void 0===H||null===(R=H.vehicleTypeExport)||void 0===R?void 0:R.message,register:B("vehicleTypeExport",{required:"Please select type."}),onSelect:e=>{var t;ke(e),e||pe(null);null===oe||void 0===oe||null===(t=oe.filter((e=>(null===e||void 0===e?void 0:e.country_name)==(null===ne||void 0===ne?void 0:ne.name)))[0])||void 0===t||t.cities;const i=null===e||void 0===e?void 0:e.models.map((e=>({id:e,name:e})));ye(i)}})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,md:6,children:(0,Y.jsx)(p.A,{size:"small",label:"Vehicle Model",options:ve,selected:he,error:null===H||void 0===H||null===(I=H.model)||void 0===I?void 0:I.message,register:B("model",{required:"Please select model."}),onSelect:e=>pe(e)})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,md:6,mb:"1%",children:(0,Y.jsx)(j.A,{size:"small",label:" Price for the Month",openTo:"month",views:["month","year"],minDate:new Date("2023-11-01"),error:null===H||void 0===H||null===(D=H.monthexport)||void 0===D?void 0:D.message,register:B("monthexport",{required:"Please enter month."}),onChange:e=>(e=>{try{if("Invalid Date"===e)return;const t=new Date(e.getFullYear(),e.getMonth(),2),i=`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`;O("monthexport",i)}catch(t){(0,h.LY)(t)}})(e)})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,children:(0,Y.jsx)(n.A,{sx:{mt:"12px"},children:(0,Y.jsx)(v.jn,{fullWidth:!0,type:"submit",loading:J,title:"Check Rates"})})})]})}),"export"==P&&null!=Ne&&(0,Y.jsxs)(l.Fragment,{children:[(0,Y.jsx)(a.A,{variant:"h4",sx:{my:3},children:"Shipping Rates"}),(0,Y.jsx)(m.A,{sx:{my:2}}),(0,Y.jsx)(n.A,{sx:{my:1},children:(0,Y.jsxs)(o.Ay,{container:!0,spacing:1,alignItems:"center",justifyContent:"space-between",children:[(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"From :"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:"UAE"})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Destination :"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:null===Ne||void 0===Ne?void 0:Ne.country_name})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"State & City :"}),(0,Y.jsxs)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:[null===Ne||void 0===Ne?void 0:Ne.city_name," ",null===Ne||void 0===Ne?void 0:Ne.city_name]})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Vehicle Type :"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:null===Ne||void 0===Ne?void 0:Ne.vehicle_type})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Vehicle Model :"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:null===Ne||void 0===Ne?void 0:Ne.vehicle_model})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Month Year :"}),(0,Y.jsx)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:b()(null===Ne||void 0===Ne?void 0:Ne.month_year).format("MMMM YYYY")})]})}),(0,Y.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:6,children:(0,Y.jsxs)(n.A,{sx:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,Y.jsx)(a.A,{variant:"subtitle2",children:"Cost :"}),(0,Y.jsxs)(a.A,{variant:"body1",sx:{color:x.A.smokeyGrey,fontFamily:u.ay.NunitoRegular},children:["$ ",parseInt(null===Ne||void 0===Ne?void 0:Ne.price_usd).toFixed(2)]})]})})]})})]})]})]})})]})}}}]);
//# sourceMappingURL=7946.23c472a4.chunk.js.map