"use strict";(self.webpackChunkgalaxy_web=self.webpackChunkgalaxy_web||[]).push([[5343],{95343:(e,t,l)=>{l.r(t),l.d(t,{default:()=>T});var o=l(65043),i=l(96446),s=l(85865),n=l(68903),a=l(79190),d=l(81045),r=l(17392),c=l(78492),u=l(74605),v=l(14256),m=(l(8781),l(26240)),x=l(91284),g=l(77020),p=l(24858),y=(l(18285),l(20566)),h=(l(93445),l(44563)),A=l(52338),_=(l(99543),l(37230)),j=(l(22030),l(88073),l(50857),l(85900)),S=(l(2722),l(95692)),b=(l(86178),l(73216)),f=(l(70255),l(28153),l(54620),l(14398),l(19668)),C=l(86213),w=l(45009),z=l(2010),P=l(70579);const T=function(){var e,t,l,T,k,q,E,I,N,D,M;(0,m.A)();const{user:V}=(0,f.A)(),L=(0,b.Zp)(),[W,U]=(0,o.useState)(!1),[Y,F]=(0,o.useState)(!1),[R,G]=(0,o.useState)("no"),[H,B]=(0,o.useState)("no"),{id:Z}=(0,b.g)(),{register:J,handleSubmit:K,getValues:O,setValue:Q,formState:{errors:X}}=(0,p.mN)(),{register:$,handleSubmit:ee,setValue:te,getValues:le,control:oe,watch:ie,formState:{errors:se}}=(0,p.mN)();console.log(ie());const[ne,ae]=(0,o.useState)([]),[de,re]=o.useState(1),[ce,ue]=(0,o.useState)(0),[ve,me]=(0,o.useState)(0),[xe,ge]=(0,o.useState)([]),[pe,ye]=(0,o.useState)({id:"Instant",name:"Instant"}),[he,Ae]=(0,o.useState)(),[_e,je]=(0,o.useState)(!1),[Se,be]=(0,o.useState)(!1),[fe,Ce]=(0,o.useState)(!1),[we,ze]=(0,o.useState)(!1),[Pe,Te]=(0,o.useState)(!1),[ke,qe]=(0,o.useState)(!1),[Ee,Ie]=(0,o.useState)({monthlyVisaServiceCharges:!1,vipMedical:!1,extraTyping:!0}),[Ne,De]=(0,o.useState)(null),[Me,Ve]=(0,o.useState)(null),[Le,We]=(0,o.useState)(),[Ue,Ye]=(0,o.useState)(),[Fe,Re]=(0,o.useState)(null),[Ge,He]=(0,o.useState)(null),[Be,Ze]=(0,o.useState)(null),[Je,Ke]=(0,o.useState)(null),Oe=(0,o.useRef)(null),[Qe,Xe]=(0,o.useState)(!1),[$e,et]=(0,o.useState)([]),[tt,lt]=(0,o.useState)(null),[ot,it]=(0,o.useState)(null),[st,nt]=(0,o.useState)(null),[at,dt]=(0,o.useState)(null),[rt,ct]=(0,o.useState)(null),[ut,vt]=(0,o.useState)(null),[mt,xt]=(0,o.useState)(null),[gt,pt]=(0,o.useState)([]),[yt,ht]=(0,o.useState)(null),At=()=>{Oe.current.click()};console.log(ie());const _t=async e=>{try{var t,l,o,i;const s=e.target.files[0];s&&te("image",s,{shouldValidate:!0});const n=new FormData;n.append("document",e.target.files[0]);const a=await C.A.post("https://pro.mangotech-api.com/api/system/uploadDocuments",n,{headers:{"Content-Type":"multipart/form-data"}});console.log(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.path),Ke(null===a||void 0===a||null===(o=a.data)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.path)}catch(s){console.log(s)}};return(0,o.useEffect)((()=>{(async()=>{try{let e={category_id:Z};const{data:t}=await j.A.getCategoryDetail(e);let l=null===t||void 0===t?void 0:t.category;console.log(l),Ke(null===l||void 0===l?void 0:l.logo),te("image",null===l||void 0===l?void 0:l.logo,{shouldValidate:!0}),te("name",null===l||void 0===l?void 0:l.name),te("arabic",null===l||void 0===l?void 0:l.name_ar),B(null===l||void 0===l?void 0:l.exclude_from_purchase),G(null===l||void 0===l?void 0:l.exclude_from_sales),lt(null===l||void 0===l?void 0:l.sales_account),te("sales",null===l||void 0===l?void 0:l.sales_account),ct(null===l||void 0===l?void 0:l.item_assembly_costs_account),te("assembly",null===l||void 0===l?void 0:l.item_assembly_costs_account),dt(null===l||void 0===l?void 0:l.inventory_adjustment_account),te("adjustment",null===l||void 0===l?void 0:l.inventory_adjustment_account),it(null===l||void 0===l?void 0:l.inventory_account),te("inventory",null===l||void 0===l?void 0:l.inventory_account),nt(null===l||void 0===l?void 0:l.cogs_account),te("cogs",null===l||void 0===l?void 0:l.cogs_account),xt({id:null===l||void 0===l?void 0:l.unit_of_measure,name:null===l||void 0===l?void 0:l.unit_of_measure}),te("unit",{id:null===l||void 0===l?void 0:l.unit_of_measure,name:null===l||void 0===l?void 0:l.unit_of_measure}),vt({id:null===l||void 0===l?void 0:l.item_type,name:null===l||void 0===l?void 0:l.item_type}),te("type",{id:null===l||void 0===l?void 0:l.item_type,name:null===l||void 0===l?void 0:l.item_type}),ht({id:null===l||void 0===l?void 0:l.item_tax_type,name:null===l||void 0===l?void 0:l.item_tax_type}),te("tax",{id:null===l||void 0===l?void 0:l.item_tax_type,name:null===l||void 0===l?void 0:l.item_tax_type}),De({id:null===l||void 0===l?void 0:l.cost_center,name:null===l||void 0===l?void 0:l.cost_center}),te("center",{id:null===l||void 0===l?void 0:l.cost_center,name:null===l||void 0===l?void 0:l.cost_center})}catch(e){console.error("Error fetching location:",e)}})()}),[]),(0,o.useEffect)((()=>{(async()=>{try{var e,t;let l={page:1,limit:1e3};const{data:o}=await z.A.getAccounts(l);console.log(null===o||void 0===o||null===(e=o.accounts)||void 0===e?void 0:e.rows),et(null===o||void 0===o||null===(t=o.accounts)||void 0===t?void 0:t.rows)}catch(l){(0,h.LY)(l)}})(),(async()=>{try{var e;let t={page:1,limit:1e3};const{data:l}=await z.A.getTax(t);console.log(null===l||void 0===l||null===(e=l.accounts)||void 0===e?void 0:e.rows),pt(null===l||void 0===l?void 0:l.tax)}catch(t){(0,h.LY)(t)}})()}),[]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.A,{sx:{width:"100%"}}),(0,P.jsx)(i.A,{m:3,sx:{backgroundColor:"white",borderRadius:"12px"},children:(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(i.A,{component:"form",onSubmit:ee((async e=>{console.log(e);try{let t={id:Z,name:null===e||void 0===e?void 0:e.name,name_ar:null===e||void 0===e?void 0:e.arabic,logo:Je,item_tax_type:null===yt||void 0===yt?void 0:yt.name,item_type:null===ut||void 0===ut?void 0:ut.id,unit_of_measure:null===mt||void 0===mt?void 0:mt.id,exclude_from_sales:R,exclude_from_purchase:H,sales_account_id:null===tt||void 0===tt?void 0:tt.id,inventory_account_id:null===ot||void 0===ot?void 0:ot.id,cogs_account_id:null===st||void 0===st?void 0:st.id,inventory_adjustment_account_id:null===at||void 0===at?void 0:at.id,item_assembly_costs_account_id:null===rt||void 0===rt?void 0:rt.id,cost_center:null===Ne||void 0===Ne?void 0:Ne.id};const l=j.A.UpdateCategory(t);(0,S.y8)(l,"Saving...","Added Successfully","Something Went Wrong");const o=await l;200===(null===o||void 0===o?void 0:o.responseCode)&&L("/category-list")}catch(t){(0,h.LY)(t)}})),children:[(0,P.jsx)(i.A,{sx:{display:"flex",justifyContent:"space-between",gap:"10px",p:3,alignItems:"flex-end"},children:(0,P.jsx)(s.A,{sx:{fontSize:"22px",fontWeight:"bold"},children:"Update Service Category"})}),(0,P.jsxs)(i.A,{sx:{p:3},children:[(0,P.jsxs)(n.Ay,{item:!0,xs:10,mb:2,children:[(0,P.jsx)(a.A,{sx:{textTransform:"capitalize",textAlign:"left",fontWeight:700,display:"block",fontSize:"14px",color:"#333",marginBottom:"4px"},children:"Logo :*"}),(0,P.jsx)(p.xI,{name:"image",control:oe,rules:{required:" picture is required"},render:()=>(0,P.jsxs)(i.A,{component:"div",onMouseEnter:()=>Xe(!0),onMouseLeave:()=>Xe(!1),sx:{position:"relative",width:75,height:75,mt:2},children:[(0,P.jsx)(d.A,{src:"https://pro.mangotech-api.com"+Je,alt:"L",sx:{position:"relative",width:"100%",height:"100%",borderRadius:"50%",fontSize:24,backgroundColor:Je?"":"#0EA5EA",color:"white",cursor:"pointer",objectFit:"cover",textTransform:"capitalize"},onClick:At}),Qe&&(0,P.jsxs)(r.A,{sx:{position:"absolute",top:"0",left:"0",width:"100%",padding:"9px 15px",color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:"50%",display:"block","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},onClick:At,children:[(0,P.jsx)(w.A,{}),(0,P.jsx)(i.A,{sx:{fontSize:"12px"},children:"Upload Image"})]}),(0,P.jsx)("input",{type:"file",ref:Oe,style:{display:"none"},onChange:_t,accept:"image/*"})]})}),se.image&&!Je&&(0,P.jsx)(s.A,{sx:{color:"red",fontSize:"12px",mt:1},children:se.image.message})]}),(0,P.jsxs)(n.Ay,{container:!0,sx:{gap:"5px 25px"},children:[(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(y.A,{label:" Name :*",size:"small",placeholder:" Name",error:null===se||void 0===se||null===(e=se.name)||void 0===e?void 0:e.message,register:$("name",{required:"Please enter your name."})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(y.A,{label:"Arabic Name :*",size:"small",placeholder:"Arabic Name",error:null===se||void 0===se||null===(t=se.arabic)||void 0===t?void 0:t.message,register:$("arabic",{required:"Please enter your arabic.",onChange:e=>{console.log("asdas")}})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsxs)(A.M,{component:"fieldset",children:[(0,P.jsx)(a.A,{sx:{textTransform:"capitalize",textAlign:"left",fontWeight:700,color:g.A.gray},children:"Exclude from Sales"}),(0,P.jsxs)(c.A,{row:!0,value:R,onChange:e=>G(e.target.value),children:[(0,P.jsx)(u.A,{value:!0,control:(0,P.jsx)(v.A,{}),label:"Yes"}),(0,P.jsx)(u.A,{value:!1,control:(0,P.jsx)(v.A,{}),label:"No"})]})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsxs)(A.M,{component:"fieldset",children:[(0,P.jsx)(a.A,{sx:{textTransform:"capitalize",textAlign:"left",fontWeight:700,color:g.A.gray},children:"Exclude from Purchase"}),(0,P.jsxs)(c.A,{row:!0,value:H,onChange:e=>B(e.target.value),children:[(0,P.jsx)(u.A,{value:!0,control:(0,P.jsx)(v.A,{}),label:"Yes"}),(0,P.jsx)(u.A,{value:!1,control:(0,P.jsx)(v.A,{}),label:"No"})]})]})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(_.A,{size:"small",label:"Tax Type *:",options:gt,selected:yt,onSelect:e=>{ht(e)},error:null===se||void 0===se||null===(l=se.tax)||void 0===l?void 0:l.message,register:$("tax",{required:"Please select tax ."})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(_.A,{size:"small",label:"Sales Account *:",options:$e,selected:tt,onSelect:e=>{lt(e)},error:null===se||void 0===se||null===(T=se.sales)||void 0===T?void 0:T.message,register:$("sales",{required:"Please select sales account."})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(_.A,{size:"small",label:"Inventory Account *:",options:$e,selected:ot,onSelect:e=>{it(e)},error:null===se||void 0===se||null===(k=se.inventory)||void 0===k?void 0:k.message,register:$("inventory",{required:"Please select inventory account."})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(_.A,{size:"small",label:"Cogs Account *:",options:$e,selected:st,onSelect:e=>{nt(e)},error:null===se||void 0===se||null===(q=se.cogs)||void 0===q?void 0:q.message,register:$("cogs",{required:"Please select cogs account."})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(_.A,{size:"small",label:"Inventory Adjustment Account *:",options:$e,selected:at,onSelect:e=>{dt(e)},error:null===se||void 0===se||null===(E=se.adjustment)||void 0===E?void 0:E.message,register:$("adjustment",{required:"Please select adjustment account."})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(_.A,{size:"small",label:"Item Assembly Cost Account *:",options:$e,selected:rt,onSelect:e=>{ct(e)},error:null===se||void 0===se||null===(I=se.assembly)||void 0===I?void 0:I.message,register:$("assembly",{required:"Please select assembly account."})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(_.A,{size:"small",label:"Cost Center *:",options:[{id:"Tasheel",name:"Tasheel"},{id:"DED",name:"DED"},{id:"Typing",name:"Typing"},{id:"General",name:"General"}],selected:Ne,onSelect:e=>{De(e)},error:null===se||void 0===se||null===(N=se.center)||void 0===N?void 0:N.message,register:$("center",{required:"Please select center ."})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(_.A,{size:"small",label:"Item Type *:",options:[{id:"Manufactured",name:"Manufactured"},{id:"Service/Consumable",name:"Service/Consumable"},{id:"Purchased",name:"Purchased"}],selected:ut,onSelect:e=>{vt(e)},error:null===se||void 0===se||null===(D=se.type)||void 0===D?void 0:D.message,register:$("type",{required:"Please select type ."})})}),(0,P.jsx)(n.Ay,{item:!0,xs:2.8,children:(0,P.jsx)(_.A,{size:"small",label:"Unit *:",options:[{id:"Each",name:"Each"},{id:"Hours",name:"Hours"}],selected:mt,onSelect:e=>{xt(e)},error:null===se||void 0===se||null===(M=se.unit)||void 0===M?void 0:M.message,register:$("unit",{required:"Please select unit ."})})}),(0,P.jsx)(n.Ay,{container:!0,justifyContent:"flex-end",children:(0,P.jsx)(x.jn,{bgcolor:"#bd9b4a",title:"Update",type:"submit"})})]})]})]})})})]})}}}]);
//# sourceMappingURL=5343.378ca3a9.chunk.js.map